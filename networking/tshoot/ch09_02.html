<html>
<!-- Mirrored from nnc3.com/mags/Networking2/tshoot/ch09_02.htm by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 28 Jul 2017 17:57:15 GMT -->
<head><title>Network Emulators and Simulators (Network Troubleshooting Tools)</title><link rel="stylesheet" type="text/css" href="../style/style1.css" />

<meta name="DC.Creator" content="Joseph D. Sloan" /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="059600186XL" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="Network Troubleshooting Tools" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">

<img alt="Book Home" border="0" src="gifs/smbanner.gif" usemap="#banner-map" /><map name="banner-map"><area shape="rect" coords="1,-2,616,66" href="index.html" alt="Network Troubleshooting Tools" /><area shape="rect" coords="629,-11,726,25" href="jobjects/fsearch.html" alt="Search this book" /></map>

<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch09_01.html"><img alt="Previous" border="0" src="../gifs/txtpreva.gif" /></a></td><td align="center" valign="top" width="228"><a href="index.html"></a></td><td align="right" valign="top" width="228"><a href="ch09_03.html"><img alt="Next" border="0" src="../gifs/txtnexta.gif" /></a></td></tr></table><div>



<h2 class="sect1">9.2. Network Emulators and Simulators</h2>

<a name="INDEX-2391" /><a name="INDEX-2392" /><a name="INDEX-2393" /><a name="INDEX-2394" /><a name="INDEX-2395" /><a name="INDEX-2396" /><a name="INDEX-2397" /><a name="INDEX-2398" /><a name="INDEX-2399" />Basically,
an emulator is a device that sits on a network and mimics the
behavior of network devices or the behavior of part of a system,
e.g., subnets. Actual traffic measurements are made on a network
whose behavior is controlled, in part, by the emulator. Simulators
are software systems that model with software the behavior of the
system or networks. A simulator is a totally artificial or synthetic
environment.
</p>

At best, network emulators and simulators are very unlikely
troubleshooting tools. But for the extremely ambitious (or
desperate), it is possible to investigate the behavior of a network
using these tools. Neither of these approaches is for the
fainthearted or novice. Generally an expensive and complex
proposition, there are two projects that are making these approaches
more accessible. If you are really interested in making the
investment in time and effort needed to use emulators or simulators,
read on.
</p>

There is a continuum of approaches to investigating the behavior of a
network, ranging from direct measurement at one extreme through
emulation to simulation at the opposite extreme. It's not
unusual for emulators to provide limited simulation features or for
simulators to have emulation features. This is certainly true for the
two tools briefly described here.
</p>

<a name="INDEX-2400" /><a name="INDEX-2401" /><a name="INDEX-2402" /><a name="INDEX-2403" />We have already
discussed measurement techniques. But while real measurements have an
unquestionable authenticity, a number of problems are associated with
real measurements. Lack of reproducibility is one problem. Scale
problems, such as the cost of increasing the size of the test
network, are another concern. If you are considering implementation
issues, then direct measurement can only be done late in the
development cycle, compounding the cost of mistakes. Emulation and
simulation offer lower-cost alternatives.
</p>

<a name="INDEX-2404" /><a name="INDEX-2405" />Simulators
have the advantages of being relatively cheap, providing highly
reproducible results, scaling very well and inexpensively, and giving
results quickly. It is generally very straightforward to customize
the degree of detail in reports so you can focus on just what is of
interest. Simulations vary in degree of abstraction. The greater the
degree of abstraction, the easier it is to focus on what is of
interest at the cost of lost realism. However, if a simulation is
poorly designed, the results can have little basis in reality. Also,
some simulators may be implemented primarily for one type of use and
may not be appropriate for other uses. From a troubleshooting
perspective, you might use a simulator to further investigate a
hypothesis. Simulators would provide a way to closely examine
behavior to confirm or refute the hypothesis without creating
problems on a production network.
</p>

<a name="INDEX-2406" /><a name="INDEX-2407" />Emulators
lie between simulators and live systems. They allow controlled
experiments with a high degree of reproducibility. They make it much
easier to create the type of traffic or events of interest. They also
provide a mechanism to test real systems effectively. For example, an
emulator might duplicate or approximate the behavior of an attached
device or network. A router emulator might drop traffic or inject
traffic into the actual test network. On the downside, some emulators
tend to be very specialized and are usually platform specific. For
troubleshooting, an emulator could be used to stress a network.
</p>

<a name="nettroubletools-CHP-9-SECT-2.1" /><div class="sect2">
<h3 class="sect2">9.2.1. NISTNet</h3>

<a name="INDEX-2408" /><a name="INDEX-2409" /><a name="INDEX-2410" />NIST
Network Emulation Tool (<em class="filename">NISTNet</em>) is a general
purpose tool that can be used to emulate the dynamics in an IP
network. It was developed by the National Institute of Standards and
Technology (NIST) and is implemented as an extension to the Linux
operating system through a kernel module. Unlike many emulators,
<em class="filename">NISTNet</em> supports a fairly heterogeneous approach
to emulation. And since it will run on a fairly standard platform, it
is remarkably inexpensive to set up and use.
</p>

<em class="filename">NISTNet</em><a name="INDEX-2411" /><a name="INDEX-2412" /><a name="INDEX-2413" /><a name="INDEX-2414" /><a name="INDEX-2415" />
allows you to use a Linux system configured as a router, through an X
Window interface, to model or emulate a number of different
scenarios. For example, you can program both fixed and variable
packet delays and random reordering of packets. Packets can be
dropped either randomly (uniform distribution) or based on
congestion.<a href="#FOOTNOTE-37">[37]</a> Random duplication
of packets, bandwidth limitations, or asymmetric bandwidth can all be
programmed into <em class="filename">NISTNet</em>. You can also program in
jitter and do basic quality-of-service measurements.
<em class="filename">NISTNet</em> can be driven by traces from
measurements from existing networks. User-defined packet handlers can
be added to the system to add timestamps, do data collection,
generate responses for emulated clients, and so forth.
</p><blockquote class="footnote"> <a name="FOOTNOTE-37" />[37]<a name="INDEX-2416" /><a name="INDEX-2417" /><a name="INDEX-2418" /><a name="INDEX-2419" />Gateway emulators that support this
kind of behavior are sometimes less charitably called
<em class="emphasis">flakeways</em>.</p> </blockquote>

</div>
<a name="nettroubletools-CHP-9-SECT-2.2" /><div class="sect2">
<h3 class="sect2">9.2.2. ns and nam</h3>

<a name="INDEX-2420" /><a name="INDEX-2421" /><a name="INDEX-2422" /><a name="INDEX-2423" /><a name="INDEX-2424" />If you want to consider simulations, you
should first look into a pair of programs, <em class="filename">ns</em>
and <em class="filename">nam</em>. <em class="filename">ns</em> is a network
simulator, while <em class="filename">nam</em> is a network visualization
tool. Both are under development by the Virtual InterNetwork Testbed
(VINT) project, a DARPA-funded research project whose goal is to
produce a simulator for studying scale and protocol interactions.
VINT is a collaborative project that involves USC, Xerox PARC, LBNL,
and UCB.
</p>

<em class="filename">ns</em><a name="INDEX-2425" /><a name="INDEX-2426" /><a name="INDEX-2427" /> is derived from earlier
simulation projects such as REAL and has gone through a couple of
incarnations. The kernel is written in C++, while user scripts are
written in MIT's Object Tool Command Language (OTCL), an
object-oriented version of <em class="emphasis">Tcl</em>. With any
simulation software, you should expect a steep learning curve, and
<em class="filename">ns</em> is no exception. You'll need to learn
how to use the product, and you will also need a broad knowledge of
simulations in general. To use <em class="filename">ns</em>, you'll
need to learn how to write scripts in OTCL.
</p>

Fortunately, the <em class="filename">ns</em> project provides a wealth of
documentation. The Unix manpage is more than 30 pages and displays
the typical unreadable terseness associated with Unix manual
pages -- great for looking up something you already know (arguably
the intended use) but abysmal for learning something new. There is
also a downloadable manual that runs more than 300 pages. However,
the best place to start is with Marc Greis's tutorial. It is a
more manageable 50 pages and introduces the scripting language in a
series of readable examples.
</p>

<a name="INDEX-2428" /><a name="INDEX-2429" /><a name="INDEX-2430" />One problem with simulations
is that they can produce an overwhelming amount of information. Even
worse, simulation results describe dynamic events that are difficult
to interpret when viewed statically. <em class="filename">nam</em> is a
visualization tool that animates network simulations. It is hard to
convey the real flavor of <em class="filename">nam</em> from a single
black-and-white snapshot, but <a href="ch09_02.html#nettroubletools-CHP-9-FIG-1">Figure 9-1</a> should
give you some idea of its value.
</p>

<a name="nettroubletools-CHP-9-FIG-1" /><div class="figure"><img height="210" alt="Figure 9-1" src="figs/ntt_0901.gif" width="460" /></div><h4 class="objtitle">Figure 9-1. nam example</h4>

This is output from one of the sample scripts that comes with the
program. The basic topology of the network should be obvious. Packets
are drawn as colored rectangles. Different colors are used for
different sources. As the animation is played, you see the packets
generated, queued at devices, move across the network, and
occasionally, dropped from the network. Node 6 in the figure shows a
stack of packets that have been queued and one packet below the node
that has been dropped. (Dropped packets fall to the bottom of the
screen.) The control buttons at the top are used just as you would
expect -- to play, stop, or rewind the animation.
</p>

<em class="filename">NISTNet</em>, <em class="filename">ns</em>, and
<em class="filename">nam</em> are all described as ongoing projects. But
all three are more polished than many completed projects.<a name="INDEX-2431" /><a name="INDEX-2432" /><a name="INDEX-2433" /><a name="INDEX-2434" /><a name="INDEX-2435" /><a name="INDEX-2436" />
</p>

</div>


<hr width="684" align="left" />
<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch09_01.html"><img alt="Previous" border="0" src="../gifs/txtpreva.gif" /></a></td><td align="center" valign="top" width="228"><a href="index.html"><img alt="Home" border="0" src="../gifs/txthome.gif" /></a></td><td align="right" valign="top" width="228"><a href="ch09_03.html"><img alt="Next" border="0" src="../gifs/txtnexta.gif" /></a></td></tr><tr><td align="left" valign="top" width="228">9. Testing Connectivity Protocols</td><td align="center" valign="top" width="228"><a href="index/index.html"><img alt="Book Index" border="0" src="../gifs/index.gif" /></a></td><td align="right" valign="top" width="228">9.3. Microsoft Windows</td></tr></table><div>
<hr width="684" align="left" />

<img alt="Library Navigation Links" border="0" src="../gifs/navbar.gif" usemap="#library-map" />
<p><font size="-1"><a href="copyrght.html">Copyright &copy; 2002</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map"><area shape="rect" coords="1,0,84,90" href="../index.html" /><area shape="rect" coords="86,-7,176,90" href="../ssh/index.html" /><area shape="rect" coords="178,0,265,101" href="../tcp/index.html" /><area shape="rect" coords="266,0,333,90" href="../nfs/index.html" /><area shape="rect" coords="334,-1,429,93" href="../snmp/index.html" /><area shape="rect" coords="431,0,529,116" href="index.html" /><area shape="rect" coords="534,0,594,104" href="../dns/index.html" /><area shape="rect" coords="595,1,704,108" href="../fire/index-2.html" /></map>

</body>
<!-- Mirrored from nnc3.com/mags/Networking2/tshoot/ch09_02.htm by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 28 Jul 2017 17:57:15 GMT -->
</html>