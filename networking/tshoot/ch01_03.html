<html>
<!-- Mirrored from nnc3.com/mags/Networking2/tshoot/ch01_03.htm by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 28 Jul 2017 17:57:02 GMT -->
<head><title>Troubleshooting and Management (Network Troubleshooting Tools)</title><link rel="stylesheet" type="text/css" href="../style/style1.css" />

<meta name="DC.Creator" content="Joseph D. Sloan" /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="059600186XL" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="Network Troubleshooting Tools" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">

<img alt="Book Home" border="0" src="gifs/smbanner.gif" usemap="#banner-map" /><map name="banner-map"><area shape="rect" coords="1,-2,616,66" href="index.html" alt="Network Troubleshooting Tools" /><area shape="rect" coords="629,-11,726,25" href="jobjects/fsearch.html" alt="Search this book" /></map>

<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch01_02.html"><img alt="Previous" border="0" src="../gifs/txtpreva.gif" /></a></td><td align="center" valign="top" width="228"><a href="index.html"></a></td><td align="right" valign="top" width="228"><a href="ch02_01.html"><img alt="Next" border="0" src="../gifs/txtnexta.gif" /></a></td></tr></table><div>



<h2 class="sect1">1.3. Troubleshooting and Management</h2>

<a name="INDEX-50" /><a name="INDEX-51" />Troubleshooting does not exist in
isolation from network management. How you manage your network will
determine in large part how you deal with problems. A proactive
approach to management can greatly simplify problem resolution. The
remainder of this chapter describes several important management
issues. Coming to terms with these issues should, in the long run,
make your life easier.
</p>

<a name="nettroubletools-CHP-1-SECT-3.1" /><div class="sect2">
<h3 class="sect2">1.3.1. Documentation</h3>

<a name="INDEX-52" /><a name="INDEX-53" /><a name="INDEX-54" />As a new administrator, your first
step is to assess your existing resources and begin creating new
resources. Software sources, including the tools discussed in this
book, are described and listed in <a href="appa_01.html">Appendix A, "Software Sources"</a>. Other
sources of information are described in <a href="appb_01.html">Appendix B, "Resources and References"</a>.
</p>

The most important source of information is the local documentation
created by you or your predecessor. In a properly maintained network,
there should be some kind of log about the network, preferably with
sections for each device. In many networks, this will be in an
abysmal state. Almost no one likes documenting or thinks he has the
time required to do it. It will be full of errors, out of date, and
incomplete. Local documentation should always be read with a healthy
degree of skepticism. But even incomplete, erroneous documentation,
if treated as such, may be of value. There are probably no
intentional errors, just careless mistakes and errors of omission.
Even flawed documentation can give you some sense of the history of
the system. Problems frequently occur due to multiple conflicting
changes to a system. Software that may have been only partially
removed can have lingering effects. Homegrown documentation may be
the quickest way to discover what may have been on the system.
</p>

<a name="INDEX-55" />While
the creation and maintenance of documentation may once have been
someone else's responsibility, it is now your responsibility.
If you are not happy with the current state of your documentation, it
is up to you to update it and adopt policies so the next
administrator will not be muttering about you the way you are
muttering about your predecessors.
</p>

<a name="INDEX-56" /><a name="INDEX-57" /><a name="INDEX-58" /><a name="INDEX-59" /><a name="INDEX-60" /><a name="INDEX-61" /><a name="INDEX-62" /><a name="INDEX-63" /><a name="INDEX-64" /><a name="INDEX-65" /><a name="INDEX-66" /><a name="INDEX-67" /><a name="INDEX-68" /><a name="INDEX-69" /><a name="INDEX-70" />There are a couple of sets of
standard documentation that, at a minimum, you will always want to
keep. One is purchase information, the other a change log. Purchase
information includes sales information, licenses, warranties, service
contracts, and related information such as serial numbers. An
inventory of equipment, software, and documentation can be very
helpful. When you unpack a system, you might keep a list of
everything you receive and date all documentation and software. (A
changeable rubber date stamp and ink pad can help with this last
task.) Manufacturers can do a poor job of distinguishing one version
of software and its documentation from the next. Dates can be helpful
in deciding which version of the documentation applies when you have
multiple systems or upgrades. Documentation has a way of ending up in
someone's personal library, never to be seen again, so a list
of what you should have can be very helpful at times.
</p>

<a name="INDEX-71" /><a name="INDEX-72" /><a name="INDEX-73" />Keep in mind, there are a number of
ways software can enter your system other than through purchase
orders. Some software comes through CD-ROM subscription services,
some comes in over the Internet, some is bundled with the operating
system, some comes in on a CD-ROM in the back of a book, some is
brought from home, and so forth. Ideally, you should have some
mechanism to track software. For example, for downloads from the
Internet, be sure to keep a log including a list identifying
filenames, dates, and sources.
</p>

<a name="INDEX-74" />You should also keep a change log for each
major system. Record every significant change or problem you have
with the system. Each entry should be dated. Even if some entries no
longer seem relevant, you should keep them in your log. For instance,
if you have installed and later removed a piece of software on a
server, there may be lingering configuration changes that you are not
aware of that may come to haunt you years later. This is particularly
true if you try to reinstall the program but could even be true for a
new program as well.
</p>

<a name="INDEX-75" /><a name="INDEX-76" /><a name="INDEX-77" /><a name="INDEX-78" />Beyond
these two basic sets of documentation, you can divide the
documentation you need to keep into two general
categories -- configuration documentation and process
documentation. Configuration documentation statically describes a
system. It assumes that the steps involved in setting up the system
are well understood and need no further comments, i.e., that
configuration information is sufficient to reconfigure or reconstruct
the system. This kind of information can usually be collected at any
time. Ironically, for that reason, it can become so easy to put off
that it is never done.
</p>

Process documentation describes the steps involved in setting up a
device, installing software, or resolving a problem. As such, it is
best written while you are doing the task. This creates a different
set of collection problems. Here the stress from the task at hand
often prevents you from documenting the process.
</p>

The first question you must ask is what you want to keep. This may
depend on the circumstances and which tools you are using. Static
configuration information might include lists of IP addresses and
Ethernet addresses, network maps, copies of server configuration
files, switch configuration settings such as VLAN partitioning by
ports, and so on.
</p>

When dealing with a single device, the best approach is probably just
a simple copy of the configuration. This can be either printed or
saved as a disk file. This will be a personal choice based on which
you think is easiest to manage. You don't need to waste time
prettying this up, but be sure you label and date it.
</p>

When the information spans multiple systems, such as a list of IP
addresses, management of the data becomes more difficult.
Fortunately, much of this information can be collected automatically.
Several tools that ease the process are described in subsequent
chapters, particularly in <a href="ch06_01.html">Chapter 6, "Device Discovery and Mapping"</a><em class="emphasis">.</em> 
</p>

For process documentation, the best approach is to log and annotate
the changes as you make them and then reconstruct the process at a
later time. <a href="ch11_01.html">Chapter 11, "Miscellaneous Tools"</a> describes some of the common
Unix utilities you can use to automate documentation. You might refer
to this chapter if you aren't familiar with utilities like
<em class="filename">tee</em>, <em class="filename">script</em>, and
<em class="filename">xwd</em>.<a href="#FOOTNOTE-2">[2]</a><a name="INDEX-79" /><a name="INDEX-80" /><a name="INDEX-81" /> 
</p><blockquote class="footnote"> <a name="FOOTNOTE-2" />[2]Admittedly these guidelines
are ideals. Does anyone actually do all of this documenting? Yes,
while most administrators probably don't, some do. But just
because many administrators don't succeed in meeting the ideal
doesn't diminish the importance of trying.</p>
</blockquote>

</div>
<a name="nettroubletools-CHP-1-SECT-3.2" /><div class="sect2">
<h3 class="sect2">1.3.2. Management Practices</h3>

A fundamental assumption of this book is that troubleshooting should
be proactive. It is preferable to avoid a problem than have to
correct it. Proper management practices can help. While some of this
section may, at first glance, seem unrelated to troubleshooting,
there are fundamental connections. Management practices will
determine what you can do and how you do it. This is true both for
avoiding problems and for dealing with problems that can't be
avoided. The remainder of this chapter reviews some of the more
important management issues.
</p>

<a name="nettroubletools-CHP-1-SECT-3.2.1" /><div class="sect3">
<h3 class="sect3">1.3.2.1. Professionalism</h3>

<a name="INDEX-82" /><a name="INDEX-83" /><a name="INDEX-84" /><a name="INDEX-85" />To effectively administer a system
requires a high degree of professionalism. This includes personal
honesty and ethical behavior. You should learn to evaluate yourself
in an honest, objective manner. (See <a href="ch01_03.html#nettroubletools-CHP-1-SIDEBAR-2">the sidebar "The Peter Principle Revisited"</a>.) It also
requires that you conform to the organization's mission and
culture. Your network serves some higher purpose within your
organization. It does not exist strictly for your benefit. You should
manage the network with this in mind. This means that everything you
do should be done from the perspective of a cost-benefit trade-off.
It is too easy to get caught in the trap of doing something
"the right way" at a higher cost than the benefits
justify. Performance analysis is the key element.
</p>

<a name="INDEX-86" /><a name="INDEX-87" /><a name="INDEX-88" /><a name="INDEX-89" />The
organization's mind-set or culture will have a tremendous
impact on how you approach problems in general and the use of tools
in particular. It will determine which tools you can use, how you can
use the tools, and, most important, what you can do with the
information you obtain. Within organizations, there is often a battle
between openness and secrecy. The secrecy advocate believes that
details of the network should be available only on a need-to-know
basis, if then. She believes, not without justification, that this
enhances security. The openness advocate believes that the details of
a system should be open and available. This allows users to adapt and
make optimal use of the system and provides a review process, giving
users more input into the operation of the network.
</p>

Taken to an extreme, the secrecy advocate will suppress information
that is needed by the user, making a system or network virtually
unusable. Openness, taken to an extreme, will leave a network
vulnerable to attack. Most people's views fall somewhere
between these two extremes but often favor one position over the
other. I advocate prudent openness. In most situations, it makes no
sense to shut down a system because it <em class="emphasis">might</em> be
attacked. And it is asinine not to provide users with the information
they need to protect themselves. Openness among those responsible for
the different systems within an organization is absolutely essential.
</p>

</div>

<a name="nettroubletools-CHP-1-SECT-3.2.2" /><div class="sect3">
<h3 class="sect3">1.3.2.2. Ego management</h3>

<a name="INDEX-90" /><a name="INDEX-91" />We would all like to think that we
are irreplaceable, and that no one else could do our jobs as well as
we do. This is human nature. Unfortunately, some people take steps to
make sure this is true. The most obvious way an administrator may do
this is hide what he actually does and how his system works.
</p>

<a name="INDEX-92" /><a name="INDEX-93" /><a name="INDEX-94" />This can be done many ways. Failing
to document the system is one approach -- leaving comments out of
code or configuration files is common. The goal of such an
administrator is to make sure he is the only one who truly
understands the system. He may try to limit others access to a system
by restricting accounts or access to passwords. (This can be done to
hide other types of unprofessional activities as well. If an
administrator occasionally reads other users' email, he may not
want anyone else to have standard accounts on the email server. If he
is overspending on equipment to gain experience with new
technologies, he will not want any technically literate people
knowing what equipment he is buying.)
</p>

This behavior is usually well disguised, but it is extremely common.
For example, a technician may insist on doing tasks that users could
or should be doing. The problem is that this keeps users dependent on
the technician when it isn't necessary. This can seem very
helpful or friendly on the surface. But, if you repeatedly ask for
details and don't get them, there may be more to it than meets
the eye.
</p>

<a name="INDEX-95" /><a name="INDEX-96" />Common
justifications are security and privacy. Unless you are in a
management position, there is often little you can do other than
accept the explanations given. But if you are in a management
position, are technically competent, and still hear these excuses
from your employees, beware! You have a serious problem.
</p>

No one knows everything. Whenever information is suppressed, you lose
input from individuals who don't have the information. If an
employee can't control her ego, she should not be turned loose
on your network with the tools described in this book. She will not
share what she learns. She will only use it to further entrench
herself.
</p>

<a name="INDEX-97" /><a name="INDEX-98" />The problem is basically a personnel
problem and must be dealt with as such. Individuals in technical
areas seem particularly prone to these problems. It may stem from
enlarged egos or from insecurity. Many people are drawn to technical
areas as a way to seem special. Alternately, an administrator may see
information as a source of power or even a weapon. He may feel that
if he shares the information, he will lose his leverage. Often
individuals may not even recognize the behavior in themselves. It is
just the way they have always done things and it is the way that
feels right.
</p>

If you are a manager, you should deal with this problem immediately.
If you can't correct the problem in short order, you should
probably replace the employee. An irreplaceable employee today will
be even more irreplaceable tomorrow. Sooner or later, everyone
leaves -- finds a better job, retires, or runs off to Poughkeepsie
with an exotic dancer. In the meantime, such a person only becomes
more entrenched making the eventual departure more painful. It will
be better to deal with the problem now rather than later.
</p>

</div>

<a name="nettroubletools-CHP-1-SECT-3.2.3" /><div class="sect3">
<h3 class="sect3">1.3.2.3. Legal and ethical considerations</h3>

<a name="INDEX-99" /><a name="INDEX-100" /><a name="INDEX-101" /><a name="INDEX-102" /><a name="INDEX-103" />From the perspective of tools,
you must ensure that you use tools in a manner that conforms not just
to the policies of your organization, but to all applicable laws as
well. The tools I describe in this book can be abused, particularly
in the realm of privacy. Before using them, you should make certain
that your use is consistent with the policies of your organization
and all applicable laws. Do you have the appropriate permission to
use the tools? This will depend greatly on your role within the
organization. Do not assume that just because you have access to
tools that you are authorized to use them. Nor should you assume that
any authorization you have is unlimited.
</p>

Packet capture software is a prime example. It allows you to examine
every packet that travels across a link, including applications data
and each and every header. Unless data is encrypted, it can be
decoded. This means that passwords can be captured and email can be
read. For this reason alone, you should be very circumspect in how
you use such tools.
</p>

A key consideration is the legality of collecting such information.
Unfortunately, there is a constantly changing legal morass with
respect to privacy in particular and technology in general.
Collecting some data may be legitimate in some circumstances but
illegal in others.<a href="#FOOTNOTE-3">[3]</a> This depends on factors such as the
nature of your operations, what published policies you have, what
assurances you have given your users, new and existing laws, and what
interpretations the courts give to these laws.
</p><blockquote class="footnote"> <a name="FOOTNOTE-3" />[3]As an example, see the CERT
Advisory CA-92.19 Topic: Keystroke Logging Banner at <a href="http://www.cert.org/advisories/CA-1992-19.html">http://www.cert.org/advisories/CA-1992-19.html</a>
for a discussion on keystroke logging and its legal
implications.</p> </blockquote>

It is impossible for a book like this to provide a definitive answer
to the questions such considerations raise. I can, however, offer
four pieces of advice:
</p>

<ul><li>
<a name="INDEX-104" />First, if the information you are
collecting can be tied to the activities of an individual, you should
consider the information highly confidential and should collect only
the information that you really need. Be aware that even seemingly
innocent information may be sensitive in some contexts. For example,
source/destination address pairs may reveal communications between
individuals that they would prefer not be made public.
</p>
</li><li>
<a name="INDEX-105" /><a name="INDEX-106" />Second, place your users on notice.
Let them know that you collect such information, why it is necessary,
and how you use the information. Remember, however, if you give your
users assurances as to how the information is used, you are then
constrained by those assurances. If your management policies permit,
make their prior acceptance of these policies a requirement for using
the system.
</p>
</li><li>
Third, you must realize that with monitoring comes obligations. In
many instances, your legal culpability may be less if you don't
monitor.
</p>
</li><li>
Finally, don't rely on this book or what your colleagues say.
Get legal advice from a lawyer who specializes in this area. Beware:
many lawyers will not like to admit that they don't know
everything about the law, but many aren't current with the new
laws relating to technology. Also, keep in mind that even if what you
are doing is strictly legal and you have appropriate authority, your
actions may still not be ethical.
</p>
</li></ul>
<a name="nettroubletools-CHP-1-SIDEBAR-2" /><blockquote><table border="1" cellpadding="6"><tr><td>
<h4 class="objtitle">The Peter Principle Revisited</h4>

<a name="INDEX-107" /><a name="INDEX-108" />In 1969, Laurence Peter and Raymond
Hull published the satirical book, <em class="emphasis">The Peter
Principle.</em> The premise of the book was that people rise to
their level of incompetence. For example, a talented high school
teacher might be promoted to principal, a job requiring a quite
different set of skills. Even if ill suited for the job, once she has
this job, she will probably remain with it. She just won't earn
any new promotions. However, if she is adept at the job, she may be
promoted to district superintendent, a job requiring yet another set
of skills. The process of promotions will continue until she reaches
her level of incompetence. At that point, she will spend the
remainder of her career at that level.
</p>

While hardly a rigorous sociological principle, the book was well
received because it contained a strong element of truth. In my humble
opinion, the Peter Principle usually fails miserably when applied to
technical areas such as networking and telecommunications. The
problem is the difficulty in recognizing incompetence. If
incompetence is not recognized, then an individual may rise well
beyond his level of incompetence. This often happens in technical
areas because there is no one in management who can judge an
individual's technical competence.
</p>

<a name="INDEX-109" /><a name="INDEX-110" />Arguably, unrecognized incompetence is
usually overengineering. Networking, a field of engineering, is
always concerned with trade-offs between costs and benefits. An
underengineered network that fails will not go unnoticed. But an
overengineered network will rarely be recognizable as such. Such
networks may cost many times what they should, drawing resources from
other needs. But to the uninitiated, it appears as a normal,
functioning network.
</p>

If a network engineer really wants the latest in new equipment when
it isn't needed, who, outside of the technical personnel, will
know? If this is a one-person department, or if all the members of
the department can agree on what they want, no one else may ever
know. It is too easy to come up with some technical mumbo jumbo if
they are ever questioned.
</p>

If this seems far-fetched, I once attended a meeting where a young
engineer was arguing that a particular router needed to be replaced
before it became a bottleneck. He had picked out the ideal
replacement, a hot new box that had just hit the market. The problem
with all this was that I had recently taken measurements on the
router and knew the average utilization of that
"bottleneck" was less than 5% with peaks that rarely hit
40%. 
</p>

This is an extreme example of why collecting information is the
essential first step in network management and troubleshooting.
Without accurate measurements, you can easily spend money fixing
imaginary problems.
</p>
</td></tr></table><p></blockquote>

</div>

<a name="nettroubletools-CHP-1-SECT-3.2.4" /><div class="sect3">
<h3 class="sect3">1.3.2.4. Economic considerations</h3>

<a name="INDEX-111" /><a name="INDEX-112" /><a name="INDEX-113" />Solutions to problems have economic
consequences, so you must understand the economic implications of
what you do. Knowing how to balance the cost of the time used to
repair a system against the cost of replacing a system is an obvious
example. Cost management is a more general issue that has important
implications when dealing with failures.
</p>

One particularly difficult task for many system administrators is to
come to terms with the economics of networking. As long as everything
is running smoothly, the next biggest issue to upper management will
be how cost effectively you are doing your job. Unless you have
unlimited resources, when you overspend in one area, you take
resources from another area. One definition of an engineer that I
particularly like is that "an engineer is someone who can do
for a dime what a fool can do for a dollar." My best guess is
that overspending and buying needlessly complex systems is the single
most common engineering mistake made when novice network
administrators purchase network equipment.
</p>

One problem is that some traditional economic models do not apply in
networking. In most engineering projects, incremental costs are less
than the initial per-unit cost. For example, if a 10,000-square-foot
building costs $1 million, a 15,000-square-foot building will cost
somewhat less than $1.5 million. It may make sense to buy additional
footage even if you don't need it right away. This is justified
as "buying for the future."
</p>

This kind of reasoning, when applied to computers and networking,
leads to waste. Almost no one would go ahead and buy a computer now
if they won't need it until next year. You'll be able to
buy a better computer for less if you wait until you need it.
Unfortunately, this same reasoning isn't applied when buying
network equipment. People will often buy higher-bandwidth equipment
than they need, arguing that they are preparing for the future, when
it would be much more economical to buy only what is needed now and
buy again in the future as needed.
</p>

<a name="INDEX-114" />Moore's Law lies at the heart of the
matter. Around 1965, Gordon Moore, one of the founders of Intel, made
the empirical observation that the density of integrated circuits was
doubling about every 12 months, which he later revised to 24 months.
Since the cost of manufacturing integrated circuits is relatively
flat, this implies that, in two years, a circuit can be built with
twice the functionality with no increase in cost. And, because
distances are halved, the circuit runs at twice the speed -- a
fourfold improvement. Since the doubling applies to previous
doublings, we have exponential growth.
</p>

<a name="INDEX-115" /><a name="INDEX-116" />It is generally estimated
that this exponential growth with chips will go on for another 15 to
20 years. In fact, this growth is nothing new. Raymond Kurzweil, in
<em class="emphasis">The Age of Spiritual Machines: When Computers Exceed Human
Intelligence</em>, collected information on computing speeds
and functionality from the beginning of the twentieth century to the
present. This covers mechanical, electromechanical (relay), vacuum
tube, discrete transistor, and integrated circuit technologies.
Kurzweil found that exponential growth has been the norm for the last
hundred years. He believes that new technologies will be developed
that will extend this rate of growth well beyond the next 20 years.
It is certainly true that we have seen even faster growth in disk
densities and fiber-optic capacity in recent years, neither of which
can be attributed to semiconductor technology.
</p>

What does this mean economically? Clearly, if you wait, you can buy
more for less. But usually, waiting isn't an option. The real
question is how far into the future should you invest? If the price
is coming down, should you repeatedly buy for the short term or
should you "invest" in the long term?
</p>

<a name="INDEX-117" />The general answer
is easy to see if we look at a few numbers. Suppose that $100,000
will provide you with network equipment that will meet your
anticipated bandwidth needs for the next four years. A simpleminded
application of Moore's Law would say that you could wait and
buy similar equipment for $25,000 in two years. Of course, such a
system would have a useful life of only two additional years, not the
original four. So, how much would it cost to buy just enough
equipment to make it through the next two years? Following the same
reasoning, about $25,000. If your growth is tracking the growth of
technology,<a href="#FOOTNOTE-4">[4]</a> then two years ago it would have cost $100,000 to buy
four years' worth of technology. That will have fallen to about
$25,000 today. Your choice: $100,000 now or $25,000 now and $25,000
in two years. This is something of a no-brainer. It is summarized in
the first two lines of <a href="ch01_03.html#nettroubletools-CHP-1-TABLE-1">Table 1-1</a>.
</p><blockquote class="footnote"> <a name="FOOTNOTE-4" />[4]This is a pretty big if, but it's
reasonable for most users and organizations. Most users and
organizations have selected a point in the scheme of things that
seems right for them -- usually the latest technology they can
reasonably afford. This is why that new computer you buy always seems
to cost $2500. You are buying the latest in technology, and you are
trying to reach about the same distance into the future.</p>
</blockquote>

<a name="nettroubletools-CHP-1-TABLE-1" /><h4 class="objtitle">Table 1-1. Cost estimates</h4><table border="1">







<tr>
<th>

</th>
<th>
Year 1</p>
</th>
<th>
Year 2</p>
</th>
<th>
Year 3</p>
</th>
<th>
Year 4</p>
</th>
<th>
Total</p>
</th>
</tr>


<tr>
<td>
Four-year plan</p>
</td>
<td>
$100,000</p>
</td>
<td>
$0</p>
</td>
<td>
$0</p>
</td>
<td>
$0</p>
</td>
<td>
$100,000</p>
</td>
</tr>
<tr>
<td>
Two-year plan</p>
</td>
<td>
$25,000</p>
</td>
<td>
$0</p>
</td>
<td>
$25,000</p>
</td>
<td>
$0</p>
</td>
<td>
$50,000</p>
</td>
</tr>
<tr>
<td>
Four-year plan with maintenance</p>
</td>
<td>
$112,000</p>
</td>
<td>
$12,000</p>
</td>
<td>
$12,000</p>
</td>
<td>
$12,000</p>
</td>
<td>
$148,000</p>
</td>
</tr>
<tr>
<td>
Two-year plan with maintenance</p>
</td>
<td>
$28,000</p>
</td>
<td>
$3,000</p>
</td>
<td>
$28,000</p>
</td>
<td>
$3,000</p>
</td>
<td>
$62,000</p>
</td>
</tr>
<tr>
<td>
Four-year plan with maintenance and 20% MARR</p>
</td>
<td>
$112,000</p>
</td>
<td>
$10,000</p>
</td>
<td>
$8,300</p>
</td>
<td>
$6,900</p>
</td>
<td>
$137, 200</p>
</td>
</tr>
<tr>
<td>
Two-year plan with maintenance and 20% MARR</p>
</td>
<td>
$28,000</p>
</td>
<td>
$2,500</p>
</td>
<td>
$19,500</p>
</td>
<td>
$1,700</p>
</td>
<td>
$51,700</p>
</td>
</tr>

</table><p>

<a name="INDEX-118" /><a name="INDEX-119" />If
this argument isn't compelling enough, there is the issue of
maintenance. As a general rule of thumb, service contracts on
equipment cost about 1% of the purchase price per month. For
$100,000, that is $12,000 a year. For $25,000, this is $3,000 per
year. Moore's Law doesn't apply to maintenance for
several reasons:
</p>

<ul><li>
A major part of maintenance is labor costs and these, if anything,
will go up.
</p>
</li><li>
The replacement parts will be based on older technology and older
(and higher) prices.
</p>
</li><li>
The mechanical parts of older systems, e.g., fans, connectors, and so
on, are all more likely to fail.
</p>
</li><li>
There is more money to be made selling new equipment so there is no
incentive to lower maintenance prices.
</p>
</li></ul>
Thus, the $12,000 a year for maintenance on a $100,000 system will
cost $12,000 a year for all four years. The third and fourth lines of
<a href="ch01_03.html#nettroubletools-CHP-1-TABLE-1">Table 1-1</a> summarize these numbers.
</p>

<a name="INDEX-120" /><a name="INDEX-121" /><a name="INDEX-122" /><a name="INDEX-123" />Yet another consideration
is the time value of money. If you don't need the $25,000 until
two years from now, you can invest a smaller amount now and expect to
have enough to cover the costs later. So the $25,000 needed in two
years is really somewhat less in terms of today's dollars. How
much less depends on the rate of return you can expect on
investments. For most organizations, this number is called the
<em class="emphasis">minimal acceptable rate of return</em> (MARR). The
last two lines of <a href="ch01_03.html#nettroubletools-CHP-1-TABLE-1">Table 1-1</a> use a MARR of 20%.
This may seem high, but it is not an unusual number. As you can see,
buying for the future is more than two and a half times as expensive
as going for the quick fix.
</p>

<a name="INDEX-124" /><a name="INDEX-125" /><a name="INDEX-126" />Of course, all this is a gross
simplification. There are a number of other important considerations
even if you believe these numbers. First and foremost, Moore's
Law doesn't always apply. The most important exception is
infrastructure. It is not going to get any cheaper to pull cable. You
should take the time to do infrastructure well; that's where
you really should invest in the future.
</p>

<a name="INDEX-127" />Most of the
other considerations seem to favor short-term investing. First, with
short-term purchasing, you are less likely to invest in dead-end
technology since you are buying later in the life cycle and will have
a clearer picture of where the industry is going. For example, think
about the difference two years might have made in choosing between
Fast Ethernet and ATM for some organizations. For the same reason,
the cost of training should be lower. You will be dealing with more
familiar technology, and there will be more resources available. You
will have to purchase and install equipment more often, but the
equipment you replace can be reused in your network's
periphery, providing additional savings.
</p>

On the downside, the equipment you buy won't have a lot of
excess capacity or a very long, useful lifetime. It can be very
disconcerting to nontechnical management when you keep replacing
equipment. And, if you experience sudden unexpected growth, this is
exactly what you will need to do. Take the time to educate upper
management. If frequent changes to your equipment are particularly
disruptive or if you have funding now, you may need to consider
long-term purchases even if they are more expensive. Finally,
don't take the two-year time frame presented here too
literally. You'll discover the appropriate time frame for your
network only with experience.
</p>

<a name="INDEX-128" /><a name="INDEX-129" /><a name="INDEX-130" /><a name="INDEX-131" /><a name="INDEX-132" />Other problems come when comparing plans.
You must consider the total economic picture. Don't look just
at the initial costs, but consider ongoing costs such as maintenance
and the cost of periodic replacement. As an example, consider the
following plans. Plan A has an estimated initial cost of $400,000,
all for equipment. Plan B requires $150,000 for equipment and
$450,000 for infrastructure upgrades. If you consider only initial
costs, Plan A seems to be $200,000 cheaper. But equipment needs to be
maintained and, periodically, replaced. At 1% per month, the
equipment for Plan A would cost $48,000 a year to maintain, compared
to $18,000 per year with Plan B. If you replace equipment a couple of
times in the next decade, that will be an additional $800,000 for
Plan A but only $300,000 for Plan B. As this quick,
back-of-the-envelope calculation shows, the 10-year cost for Plan A
was $1.68 million, while only $1.08 million for Plan B. What appeared
to be $200,000 cheaper was really $600,000 more expensive. Of course,
this was a very crude example, but it should convey the idea.
</p>

<a name="INDEX-133" /><a name="INDEX-134" /><a name="INDEX-135" />You shouldn't take this example
too literally either. Every situation is different. In particular,
you may not be comfortable deciding what is adequate surplus capacity
in your network. In general, however, you are probably much better
off thinking in terms of scalability than raw capacity. If you want
to hedge your bets, you can make sure that high-speed interfaces are
available for the router you are considering without actually buying
those high-speed interfaces until needed.
</p>

<a name="INDEX-136" />How does
this relate to troubleshooting? First, don't buy overly complex
systems you don't really need. They will be much harder to
maintain, as you can expect the complexity of troubleshooting to grow
with the complexity of the systems you buy. Second, don't spend
all your money on the system and forget ongoing maintenance costs. If
you don't anticipate operational costs, you may not have the
funds you need.<a name="INDEX-137" /><a name="INDEX-138" /> 
</p>

</div>
</div>


<hr width="684" align="left" />
<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch01_02.html"><img alt="Previous" border="0" src="../gifs/txtpreva.gif" /></a></td><td align="center" valign="top" width="228"><a href="index.html"><img alt="Home" border="0" src="../gifs/txthome.gif" /></a></td><td align="right" valign="top" width="228"><a href="ch02_01.html"><img alt="Next" border="0" src="../gifs/txtnexta.gif" /></a></td></tr><tr><td align="left" valign="top" width="228">1.2. Need for Troubleshooting Tools</td><td align="center" valign="top" width="228"><a href="index/index.html"><img alt="Book Index" border="0" src="../gifs/index.gif" /></a></td><td align="right" valign="top" width="228">2. Host Configurations</td></tr></table><div>
<hr width="684" align="left" />

<img alt="Library Navigation Links" border="0" src="../gifs/navbar.gif" usemap="#library-map" />
<p><font size="-1"><a href="copyrght.html">Copyright &copy; 2002</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map"><area shape="rect" coords="1,0,84,90" href="../index.html" /><area shape="rect" coords="86,-7,176,90" href="../ssh/index.html" /><area shape="rect" coords="178,0,265,101" href="../tcp/index.html" /><area shape="rect" coords="266,0,333,90" href="../nfs/index.html" /><area shape="rect" coords="334,-1,429,93" href="../snmp/index.html" /><area shape="rect" coords="431,0,529,116" href="index.html" /><area shape="rect" coords="534,0,594,104" href="../dns/index.html" /><area shape="rect" coords="595,1,704,108" href="../fire/index-2.html" /></map>

</body>
<!-- Mirrored from nnc3.com/mags/Networking2/tshoot/ch01_03.htm by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 28 Jul 2017 17:57:02 GMT -->
</html>