<html>
<!-- Mirrored from nnc3.com/mags/Networking2/dns/ch03_02.htm by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 28 Jul 2017 17:57:24 GMT -->
<head><title>Choosing a Domain Name (DNS and BIND, 4th Edition)</title><link rel="stylesheet" type="text/css" href="../style/style1.css" />

<meta name="DC.Creator" content="Paul Albitz and Cricket Liu" /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="0596001584L" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="DNS and BIND, 4th Edition" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">

<img alt="Book Home" border="0" src="gifs/smbanner.gif" usemap="#banner-map" /><map name="banner-map"><area shape="rect" coords="1,-2,616,66" href="index.html" alt="DNS and BIND" /><area shape="rect" coords="629,-11,726,25" href="jobjects/fsearch.html" alt="Search this book" /></map>

<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch03_01.html"><img alt="Previous" border="0" src="../gifs/txtpreva.gif" /></a></td><td align="center" valign="top" width="228"></td><td align="right" valign="top" width="228"><a href="ch04_01.html"><img alt="Next" border="0" src="../gifs/txtnexta.gif" /></a></td></tr></table><div>



<h2 class="sect1">3.2. Choosing a Domain Name</h2>


<a name="INDEX-276" /> <a name="INDEX-277" />Choosing a domain name is more involved
than it may sound because it entails both choosing a name
<em class="emphasis">and</em> finding out who runs the parent zone. In
other words, you need to find out where you fit in the Internet
domain name space, then find out who runs that particular corner of
that namespace.</p><p>


The first step in picking a domain name is finding where in the
existing domain name space you belong. It's easiest to start at
the top and work your way down: decide which top-level domain you
belong in, then which of that top-level domain's subdomains you
fit into.</p><p>


Note that to find out what the Internet domain name space looks like
(beyond what we've already told you), you'll need access
to the Internet. You don't necessarily need access to a host
with name service already configured, but it would help a little. If
you don't have access to a host with DNS configured,
you'll have to "borrow" name service from other
name servers (as in our previous ftp.isc.org
example) to get you going.</p><p>


<a name="dns4-CHP-3-SECT-2.1" /><div class="sect2">
<h3 class="sect2">3.2.1. On Registrars and Registries</h3>


Before we go any further, we need to define a few terms:
<em class="emphasis">registry</em>,
<em class="emphasis">registrar</em>,and
<em class="emphasis">registration.</em> These terms aren't defined
anywhere in the DNS specs. Instead, they apply to the way the
Internet's namespace is managed today.</p><p>


A <em class="emphasis">registry
</em><a name="INDEX-278" />is an
organization responsible for maintaining a top-level domain's
(well, zone's, really) data files, which contain the delegation
to each subdomain of that top-level domain. Under the current
structure of the Internet, a given top-level domain can have no more
than one registry. A <em class="emphasis">registrar
</em><a name="INDEX-279" />acts
as an interface between customers and the registry, providing
registration and value-added services. It submits to the registry
zone data and other data (including contact information) for each of
its customers in a single top-level domain.</p><p>


<em class="emphasis">Registration</em><a name="INDEX-280" />,
then, is the process by which a customer tells a registrar which name
servers to delegate a subdomain to and provides the registrar with
contact and billing information. The registrar then makes these
changes through the registry.</p><p>


<a name="INDEX-281" />Network Solutions Inc. acts as both
the exclusive registry and as a registrar for the
<em class="emphasis">com</em>, <em class="emphasis">net</em>,
<em class="emphasis">org</em>, and <em class="emphasis">edu</em> top-level
domains. And now, back to our story.</p><p>
</div>




<a name="dns4-CHP-3-SECT-2.2" /><div class="sect2">
<h3 class="sect2">3.2.2. Where in the World Do I Fit?</h3>


<a name="INDEX-282" />
<a name="INDEX-283" />If <a name="INDEX-284" />your <a name="INDEX-285" />organization <a name="INDEX-286" />is attached to the Internet outside of
the United States, you first need to decide whether you'd
rather request a subdomain of one of the generic top-level domains,
such as <em class="emphasis">com</em>, <em class="emphasis">net</em>, or
<em class="emphasis">org</em>, or a subdomain of your own country's
top-level domain. The generic top-level domains aren't
exclusively for U.S. organizations. If your company is a multi- or
transnational company that doesn't fit in any one
country's top-level domain, or if you'd simply prefer a
generic top-level instead of your country's top-level domain,
you're welcome to register in one. If you choose this route,
skip to <a href="ch03_02.html#dns4-CHP-3-SECT-2.3.2">Section 3.2.3.2, "The generic top-level domains"</a> later in this
chapter.</p><p>


If you opt for a
<a name="INDEX-287" />
<a name="INDEX-288" />subdomain
under your country's top level, you should check whether your
country's top-level domain is registered, and if it is, what
kind of structure it has. Consult <a href="appd_01.html">Appendix D, "Top-Level Domains"</a>, if
you're not sure of the name of your country's top-level
domain.</p><p>


Some <a name="INDEX-289" />countries' top-level domains, such
as New Zealand's <em class="emphasis">nz</em>, Australia's
<em class="emphasis">au</em>, and the United Kingdom's
<em class="emphasis">uk</em>, are divided organizationally into
second-level domains. The names of their <a name="INDEX-290" />second-level domains, such as
<em class="emphasis">co</em> or <em class="emphasis">com</em> for commercial
entities, reflect organizational affiliation. Others, like
France's <em class="emphasis">fr</em> domain and Denmark's
<em class="emphasis">dk</em> domain, are divided into a multitude of
subdomains managed by individual universities and companies, such as
the University of St. Etienne's domain,
<em class="emphasis">univ-st-etienne.fr</em> and the Danish Unix Users
Group's <em class="emphasis">dkuug.dk</em>. Many top-level domains
have their own web sites that describe their structures. If
you're not sure of the URL for your country's top-level
domain's web site, start at <a href="http://www.allwhois.com/">http://www.allwhois.com</a><a name="INDEX-291" /> <a name="INDEX-292" />
<a name="INDEX-293" />, a directory of links to such sites.</p><p>


If your top-level doesn't have a web site explaining how
it's organized, you may have to use a tool like
<em class="emphasis">nslookup</em> to grope around and discover your
<a name="INDEX-294" /> <a name="INDEX-295" />top-level domain's structure. (If
you're uncomfortable with our rushing headlong into
<em class="emphasis">nslookup</em> without giving it a proper
introduction, you might want to skim <a href="ch12_01.html">Chapter 12, "nslookup and dig"</a>.)
For example, here's how you could list the
<em class="emphasis">au</em> domain's
<a name="INDEX-296" /> <a name="INDEX-297" />subdomains using <em class="emphasis">nslookup
</em>:</p><p>


<blockquote><pre class="code">% <tt class="userinput"><b>nslookup - 207.69.188.185</b></tt>   <i class="lineannotation"> -- Use the name server at 207.69.188.185</i>
Default Server:  ns1.mindspring.com
Address:  207.69.188.185

<i class="lineannotation">&gt; </i><tt class="userinput"><b>set type=ns</b></tt>                   <i class="lineannotation"> -- Find the name servers (ns)</i>
&gt; <tt class="userinput"><b>au.</b></tt>                         <i class="lineannotation"> -- for the au zone</i>
Server:  ns1.mindspring.com
Address: 207.69.188.185

au      nameserver = MUNNARI.OZ.AU
au      nameserver = MULGA.CS.MU.OZ.AU
au      nameserver = NS.UU.NET
au      nameserver = NS.EU.NET
au      nameserver = NS1.BERKELEY.EDU
au      nameserver = NS2.BERKELEY.EDU
au      nameserver = VANGOGH.CS.BERKELEY.EDU
MUNNARI.OZ.AU     internet address = 128.250.1.21
MULGA.CS.MU.OZ.AU       internet address = 128.250.1.22
MULGA.CS.MU.OZ.AU       internet address = 128.250.37.150
NS.UU.NET         internet address = 137.39.1.3
NS.EU.NET         internet address = 192.16.202.11
NS1.BERKELEY.EDU  internet address = 128.32.136.9
NS1.BERKELEY.EDU  internet address = 128.32.206.9
NS2.BERKELEY.EDU        internet address = 128.32.136.12
NS2.BERKELEY.EDU        internet address = 128.32.206.12

<i class="lineannotation">&gt; </i><tt class="userinput"><b>server ns.uu.net.</b></tt>   <i class="lineannotation"> -- Now query one of these name servers -- preferably a close one!</i>
Default Server:  ns.uu.net
Addresses:  137.39.1.3

<i class="lineannotation">&gt; </i><tt class="userinput"><b>ls -t au.</b></tt><i class="lineannotation"> -- List the au zone</i>
<i class="lineannotation">             -- The zone's NS records mark delegation to subdomains and will give you </i>
<i class="lineannotation">             -- the names of the subdomains</i>
<i class="lineannotation">             -- Note that not all name servers will allow you to list zones, for security reasons.</i>
 [ns.uu.net]
$ORIGIN au.
@                       3D IN NS        mulga.cs.mu.OZ
                        3D IN NS        vangogh.CS.Berkeley.EDU.
                        3D IN NS        ns1.Berkeley.EDU.
                        3D IN NS        ns2.Berkeley.EDU.
                        3D IN NS        ns.UU.NET.
                        3D IN NS        ns.eu.NET.
                        3D IN NS        munnari.OZ
ORG                     1D IN NS        mulga.cs.mu.OZ
                        1D IN NS        rip.psg.COM.
                        1D IN NS        munnari.OZ
                        1D IN NS        yalumba.connect.COM
info                    1D IN NS        ns.telstra.net.
                        1D IN NS        ns1.telstra.net.
                        1D IN NS        munnari.oz
                        1D IN NS        svc01.apnic.net.
otc                     4H IN NS        ns2.telstra.com
                        4H IN NS        munnari.oz
                        4H IN NS        ns.telstra.com
OZ                      1D IN NS        mx.nsi.NASA.GOV.
                        1D IN NS        munnari.OZ
                        1D IN NS        mulga.cs.mu.OZ
                        1D IN NS        dmssyd.syd.dms.CSIRO
                        1D IN NS        ns.UU.NET.
csiro                   1D IN NS        steps.its.csiro
                        1D IN NS        munnari.OZ
                        1D IN NS        manta.vic.cmis.csiro
                        1D IN NS        dmssyd.nsw.cmis.csiro
                        1D IN NS        zoiks.per.its.csiro
COM                     1D IN NS        mx.nsi.NASA.GOV.
                        1D IN NS        yalumba.connect.COM
                        1D IN NS        munnari.OZ
                        1D IN NS        mulga.cs.mu.OZ
                        1D IN NS        ns.ripe.NET.
&gt; <tt class="userinput"><b>^D</b></tt></pre></blockquote>


The basic technique is straightforward: look up the list of name
servers for the top-level domain (because they're the only ones
with complete information about the corresponding zone), then query
one of those name servers and list the name servers for the delegated
subdomains.</p><p>


If you can't tell from the names of the subdomains which one
you belong in, you can look up the contact information for the
corresponding zone and send email to the technical contact asking,
politely, for advice. Similarly, if you think you should be part of
an existing subdomain but aren't sure, you can always ask the
<a name="INDEX-298" />
<a name="INDEX-299" />folks who administer that
subdomain to double-check.</p><p>


To find out who to ask about a particular subdomain, you'll
have to look up the corresponding
<a name="INDEX-300" />zone's <a name="INDEX-301" /> <a name="INDEX-302" />start of authority
(SOA) record. In each zone's SOA record, there's a field
containing the electronic mail address of the
<a name="INDEX-303" />zone's technical contact.<a href="#FOOTNOTE-21">[21]</a> (The other fields in the start of
authority record provide general information about a
zone -- we'll discuss them in more detail later.) You can
look up the zone's SOA record with
<em class="emphasis">nslookup</em>, too.</p><blockquote class="footnote">

<a name="FOOTNOTE-21" />[21]The subdomain and the zone have the same domain name, but the
SOA record really belongs to the zone, not the subdomain. The person
at the zone's technical contact email address may not manage
the whole subdomain (there may be additional delegated subdomains
beneath), but he or she should certainly know what the purpose of the
subdomain is.</p><p>

</blockquote>


For example, if you're curious about the purpose of the
<em class="emphasis">csiro</em> subdomain, you can find out who runs it by
looking up <em class="emphasis">csiro.au</em>'s SOA record:</p><p>


<blockquote><pre class="code">% <tt class="userinput"><b>nslookup - 207.69.188.185</b></tt>
Default Server:  ns1.mindspring.com
Address:  207.69.188.185

<i class="lineannotation">&gt;</i> <tt class="userinput"><b>set type=soa</b></tt>    <i class="lineannotation"> -- Look for start of authority data</i>
&gt; <tt class="userinput"><b>csiro.au.</b></tt>       <i class="lineannotation"> -- for csiro.au</i>
Server:  ns1.mindspring.com
Address: 207.69.188.185

csiro.au
        origin = steps.its.csiro.au
        mail addr = hostmaster.csiro.au
        serial = 2000041301
        refresh = 10800 (3H)
        retry   = 3600 (1H)
        expire  = 3600000 (5w6d16h)
        minimum ttl = 86400 (1D)</pre></blockquote>


The <em class="emphasis">mail addr</em> field is the Internet address of
<em class="emphasis">csiro.au</em>'s contact. To convert the address
into Internet email address format, you'll need to change the
first "." in the address to an "@". So
<em class="emphasis">hostmaster.csiro.au</em> becomes
<em class="emphasis">hostmaster@csiro.au</em>.<a href="#FOOTNOTE-22">[22]</a></p><blockquote class="footnote">

<a name="FOOTNOTE-22" />[22]This form
of Internet mail address is a vestige of two former DNS records, MB
and MG.<a name="INDEX-304" /><a name="INDEX-305" /> MB (mailbox) and MG (mail group) were
DNS records specifying Internet mailboxes and mail groups (mailing
lists) as subdomains of the appropriate domain. MB and MG never took
off, but the address format they would have dictated is used in the
SOA record, maybe for sentimental reasons.</p><p>

</blockquote>


<a name="dns4-CHP-3-SECT-2.2.1" /><div class="sect3">
<h3 class="sect3">3.2.2.1. Using whois</h3>


The <em class="emphasis">whois</em> service can also help you figure out
what a given domain is for. Unfortunately, there are many
<em class="emphasis">whois</em> servers -- most good administrators of
top-level domains run one -- and they don't talk to each
other like name servers do. Consequently, the first step to using
<em class="emphasis">whois</em> is finding the right
<em class="emphasis">whois</em> server.</p><p>


One of the easiest places to start your search for the right
<em class="emphasis">whois</em> server is at <a href="http://www.allwhois.com/">http://www.allwhois.com</a><a name="INDEX-306" /> <a name="INDEX-307" />
<a name="INDEX-308" /> (<a href="ch03_02.html#dns4-CHP-3-FIG-1">Figure 3-1</a>). We
mentioned earlier that this site has a list of web sites for each
country code top-level domain; it also has a list of top-level
domains with <em class="emphasis">whois</em> URLs -- pages with
HTML-based interfaces to query <em class="emphasis">whois</em> servers.</p><p>


<a name="dns4-CHP-3-FIG-1" /><div class="figure"><img height="280" alt="Figure 3-1" src="figs/dns4_0301.gif" width="431" /></div><h4 class="objtitle">Figure 3-1. The Allwhois.com web site</h4>

Scrolling down to "Australia (au)," you can click on
"Jump to Whois" and go directly to a page where you can
enter <em class="emphasis">csiro.au</em>, as shown in <a href="ch03_02.html#dns4-CHP-3-FIG-2">Figure 3-2</a>.</p><p>


<a name="dns4-CHP-3-FIG-2" /><div class="figure"><img height="286" alt="Figure 3-2" src="figs/dns4_0302.gif" width="431" /></div><h4 class="objtitle">Figure 3-2. Web interface for au's whois server</h4>

<a name="dns4-CHP-3-FIG-3" /><div class="figure"><img height="450" alt="Figure 3-3" src="figs/dns4_0303.gif" width="431" /></div><h4 class="objtitle">Figure 3-3. Information about csiro.au from the au whois server</h4>

Clicking on "Submit" retrieves the information in <a href="ch03_02.html#dns4-CHP-3-FIG-3">Figure 3-3</a> for you.</p><p>


Perhaps even more interesting for the inertially challenged is the
work done by <a name="INDEX-309" />
<a name="INDEX-310" />WebMagic
to provide a unified <em class="emphasis">whois</em> lookup service on the
Web. Their web site,
<a href="http://www.webmagic.com/whois/index.html">http://www.webmagic.com/whois/index.html</a>, lets
you choose the top-level domain (and sometimes the second-level
domain) containing the subdomain you're looking for and then
transparently contacts the right <em class="emphasis">whois</em> server.</p><p>


Obviously, these are both very useful web sites if you're
looking for the contact for a domain outside of the U.S.</p><p>


Once you've found the right web site or contact, you've
probably found the registrar. Outside the U.S., most domains have a
single registrar. A few, though, such as Denmark's <em class="emphasis">dk
</em>and Great Britain's <em class="emphasis">co.uk</em> and
<em class="emphasis">org.uk</em>, have multiple registrars. However, the
process just described will still lead you to<a name="INDEX-311" /> them.<a name="INDEX-312" /></p><p>
</div>
</div>




<a name="dns4-CHP-3-SECT-2.3" /><div class="sect2">
<h3 class="sect2">3.2.3. Back in the U.S.A.</h3>


<a name="INDEX-313" />In <a name="INDEX-314" />true cosmopolitan spirit, we covered
international domains first. But what if you're from the good
ol' U.S. of A.?</p><p>


If you're in the U.S., where you belong depends mainly upon
what your organization does, how you'd like your domain names
to look, and how much you're willing to pay. If your
organization falls into one of the following categories, you're
encouraged to join the <em class="emphasis">us</em> top-level domain:</p><p>


<ul><li>K-12 (kindergarten through twelfth grade) schools</p></li><li>Community colleges and technical vocational schools</p></li><li>State and local government agencies</p></li></ul>
Even if you don't fall into one of these categories, if
you'd like a domain name that indicates your location, like
<em class="emphasis">acme.boulder.co.us</em>, you can register in the
<em class="emphasis">us</em> top-level domain. The <em class="emphasis">us</em>
domain delegates subdomains under <a name="INDEX-315" />
<a name="INDEX-316" />third-level domains largely named
after "<a name="INDEX-317" />localities" (usually
<a name="INDEX-318" />cities or <a name="INDEX-319" />counties); the second-level
domains correspond to the appropriate U.S. Postal Service two-letter
<a name="INDEX-320" />state abbreviations (recall our discussion
in <a href="ch02_02.html#dns4-CHP-2-SECT-2">Section 2.2, "The Internet Domain Name Space"</a> in <a href="ch02_01.html">Chapter 2, "How Does DNS Work?"</a> ). So, for example, if all you need is a
subdomain to hold the two internetworked hosts in your basement in
Colorado Springs, Colorado, you can register
<em class="emphasis">toms-basement.colorado-springs.co.us</em>.</p><p>


Finally, there's the issue of cost. It's usually cheaper
to register a
<a name="INDEX-321" />
<a name="INDEX-322" />subdomain of the
<em class="emphasis">us</em> top-level domain than to register under
<em class="emphasis">com</em>, <em class="emphasis">net</em>, or
<em class="emphasis">org</em>, and sometimes it's even free.</p><p>


If you'd like more detailed information on the structure of the
<em class="emphasis">us</em> domain and the rules that govern it, check
out the U.S. NIC's web site, <a href="http://www.nic.us/">http://www.nic.us</a><a name="INDEX-323" /> <a name="INDEX-324" /><em class="emphasis">.</em></p><p>


Of course, folks in the U.S. can also ask for a subdomain of one of
the generic top-level domains such as <em class="emphasis">com</em>,
<em class="emphasis">net</em>, or <em class="emphasis">org</em>. As long as you
don't ask for one that's already taken, you should get
the one you ask for. We'll cover registration under the generic
top-level domains later in this chapter.</p><p>


<a name="dns4-CHP-3-SECT-2.3.1" /><div class="sect3">
<h3 class="sect3">3.2.3.1. The us domain</h3>


<a name="INDEX-325" /> <a name="INDEX-326" />Let's go through an
example to give you an idea of how to comb the
<em class="emphasis">us</em> domain name space for the perfect domain
name. Say you're helping out your son's kindergarten in
Boulder, Colorado, and you want to register a domain name for the
school.</p><p>


Using an account you still have on a host at CU (from your undergrad
days), you can check to see whether a domain for Boulder exists. (If
you didn't have an account there, but you did have Internet
connectivity, you could still use <em class="emphasis">nslookup</em> to
query a well-known name server.)</p><p>


<blockquote><pre class="code">% <tt class="userinput"><b>nslookup</b></tt>
Default Server:  boulder.colorado.edu
Address: 128.138.238.18, 128.138.240.1

&gt; <tt class="userinput"><b>set type=ns</b></tt>           <i class="lineannotation"> -- Look up the name servers</i>
&gt; <tt class="userinput"><b>co.us.</b></tt>                <i class="lineannotation"> -- for co.us</i>
Default Server:  boulder.colorado.edu
Address:  128.138.238.18, 128.138.240.1

co.us   nameserver = VENERA.ISI.EDU
co.us   nameserver = NS.ISI.EDU
co.us   nameserver = RS0.INTERNIC.NET
co.us   nameserver = NS.UU.NET
co.us   nameserver = ADMII.ARL.MIL
co.us   nameserver = EXCALIBUR.USC.EDU</pre></blockquote>


This gives you the names of the <em class="emphasis">co.us</em> name
servers. Now change servers to a <em class="emphasis">co.us</em> name
server, say <em class="emphasis">venera.isi.edu</em>, and check to see if
there are any subdomains (you haven't exited out of
<em class="emphasis">nslookup</em> yet):</p><p>


<blockquote><pre class="code"><i class="lineannotation">&gt; </i><tt class="userinput"><b>server venera.isi.edu.</b></tt>  <i class="lineannotation"> -- Change server to venera.isi.edu</i>
Default Server:  venera.isi.edu
Address:  128.9.0.32

<i class="lineannotation">&gt; </i><tt class="userinput"><b>ls -t co.us.</b></tt>    <i class="lineannotation"> -- List the co.us zone to look for NS records</i>
[venera.isi.edu]
$ORIGIN co.us.
@                       1W IN NS        NS.ISI.EDU.
                        1W IN NS        RS0.INTERNIC.NET.
                        1W IN NS        NS.UU.NET.
                        1W IN NS        ADMII.ARL.MIL.
                        1W IN NS        EXCALIBUR.USC.EDU.
                        1W IN NS        VENERA.ISI.EDU.
officemate1.monument    1W IN NS        ns1.direct.ca.
                        1W IN NS        ns2.direct.ca.
la-junta                1D IN NS        ns2.cw.net.
                        1D IN NS        usdns.beltane.com.
                        1D IN NS        usdns2.beltane.com.
morrison                1W IN NS        NS1.WESTNET.NET.
                        1W IN NS        NS.UTAH.EDU.
littleton               1W IN NS        NS1.WESTNET.NET.
                        1W IN NS        NS.UTAH.EDU.
mus                     1W IN NS        NS1.WESTNET.NET.
                        1W IN NS        NS.UTAH.EDU.
ci.palmer-lake          1W IN NS        DNS1.REGISTEREDSITE.COM.
                        1W IN NS        DNS2.REGISTEREDSITE.COM.
co.adams                1W IN NS        ns1.rockymtn.net.
                        1W IN NS        ns2.rockymtn.net. 
[...]</pre></blockquote>


Aha! So there <em class="emphasis">is</em> life in Colorado! There are
subdomains called <em class="emphasis">la-junta</em>,
<em class="emphasis">morrison</em>, <em class="emphasis">littleton</em>,
<em class="emphasis">mus</em>, and many others. There's even a
subdomain for Boulder (called, not surprisingly,
<em class="emphasis">boulder</em>):</p><p>


<blockquote><pre class="code">boulder                 1W IN NS        NS1.WESTNET.NET.
                        1W IN NS        NS.UTAH.EDU.</pre></blockquote>


<a name="INDEX-327" />
<a name="INDEX-328" />How
<a name="INDEX-329" />do you find out how to
contact the administrator of <em class="emphasis">boulder.co.us</em> ? You
can try <em class="emphasis">whois</em>, but since <em class="emphasis">boulder.co.us
</em>isn't a top-level country domain or a subdomain of a
generic top-level domain, you won't find much. Fortunately, the
U.S. NIC provides a list of email addresses of contacts for each
third-level subdomain of <em class="emphasis">us</em> at
<a href="http://www.nic.us/">http://www.nic.us</a>.
If you can't find the information you need there, you can still
use <em class="emphasis">nslookup</em> to find the <a name="INDEX-330" />
<a name="INDEX-331" />
<a name="INDEX-332" />SOA record for
the <em class="emphasis">boulder.co.us</em> zone, just as you did to find
out whom to ask about <em class="emphasis">csiro.au</em>. Though the
people who read mail sent to the address in the SOA record may not
handle registration themselves (technical and administrative
functions for the zone may be divided), it's a good bet that
they know the folks who do and can direct you to them.</p><p>


Here's how you'd use <a name="INDEX-333" /><em class="emphasis">nslookup</em> to dig up
the SOA record for <em class="emphasis">boulder.co.us</em> :</p><p>


<blockquote><pre class="code">% <tt class="userinput"><b>nslookup</b></tt>
Default Server:  boulder.colorado.edu
Address:  128.138.238.18, 128.138.240.1

<i class="lineannotation">&gt; </i><tt class="userinput"><b>set type=soa</b></tt>     <i class="lineannotation"> -- Look up SOA record</i>
<i class="lineannotation">&gt; </i><tt class="userinput"><b>boulder.co.us.</b></tt>   <i class="lineannotation"> -- for boulder.co.us</i>
Default Server:  boulder.colorado.edu
Address:  128.138.238.18, 128.138.240.1

boulder.co.us
        origin = ns1.westnet.net
        mail addr = cgarner.westnet.net
        serial = 200004101
        refresh = 21600 (6H)
        retry   = 1200 (20M)
        expire  = 3600000 (5w6d16h)
        minimum ttl = 432000 (5D)</pre></blockquote>


As in the <em class="emphasis">csiro.au</em> example, you need to swap the
first "." in the <em class="emphasis">mail addr</em> field for
an "@" before you use it. Thus,
<em class="emphasis">cgarner.westnet.net</em> becomes
<em class="emphasis">cgarner@westnet.net</em>.</p><p>


To request
<a name="INDEX-334" />delegation of a subdomain of
<em class="emphasis">boulder.co.us</em>, you can download a copy of the
registration form template from
<a href="http://www.nic.us/cgi-bin/template.pl">http://www.nic.us/cgi-bin/template.pl</a> and mail
it to the contact.</p><p>


If, however, you find that the subdomain for your locality
hasn't yet been created, then read through the <em class="emphasis">us
</em>domain's delegation policy at
<a name="INDEX-335" /><a href="http://www.nic.us/register/locality.html">http://www.nic.us/register/locality.html</a>
and fill out the registration form at
<a href="http://www.nic.us/cgi-bin/template.pl">http://www.nic.us/cgi-bin/template.pl</a>.<a name="INDEX-336" /> <a name="INDEX-337" /></p><p>
</div>



<a name="dns4-CHP-3-SECT-2.3.2" /><div class="sect3">
<h3 class="sect3">3.2.3.2. The generic top-level domains</h3>


<a name="INDEX-338" /> <a name="INDEX-339" />As
we mentioned earlier, there are many reasons that you might want to
ask for a subdomain of one of the generic top-level domains like
<em class="emphasis">com</em>, <em class="emphasis">net</em>, and
<em class="emphasis">org</em>: you work for a multi- or transnational
company, you like the fact that they're better-known, or you
just like the sound of your domain name better with
<em class="emphasis">com</em> on the end. Let's go through a short
example of choosing a <a name="INDEX-340" />domain name under a generic
top-level domain.</p><p>


Imagine you're the network administrator for a think tank in
Hopkins, Minnesota. You've just gotten a connection to the
Internet through a commercial ISP. Your company has never had so much
as a UUCP link, so you're not currently registered in the
Internet namespace.</p><p>


Since you're in the United States, you have the choice of
joining either <em class="emphasis">us</em> or one of the generic
top-level domains. Your think tank is world-renowned, though, so
<em class="emphasis">us</em> wouldn't be a good choice. A subdomain
of <em class="emphasis">com</em> would be best.</p><p>


The think tank is known as The Gizmonic Institute, so you decide
<em class="emphasis">gizmonics.com</em> might be an appropriate domain
name. Now you've got to check whether the name
<em class="emphasis">gizmonics.com</em> has been taken by anyone, so you
use an account you have at UMN:</p><p>


<blockquote><pre class="code">% <tt class="userinput"><b>nslookup</b></tt>
Default Server:  ns.unet.umn.edu
Address:  128.101.101.101

<i class="lineannotation">&gt; </i><tt class="userinput"><b>set type=any</b></tt>    <i class="lineannotation"> -- Look for any records</i>
&gt; <tt class="userinput"><b>gizmonics.com.</b></tt>  <i class="lineannotation"> -- for gizmonics.com</i>
Server:  ns.unet.umn.edu
Address:  128.101.101.101

gizmonics.com   nameserver = NS2.SFO.WENET.NET
gizmonics.com   nameserver = NS1.SFO.WENET.NET</pre></blockquote>


Whoops! Looks like <em class="emphasis">gizmonics.com</em> is already
taken (who would have thought?).<a href="#FOOTNOTE-23">[23]</a> Well,
<em class="emphasis">gizmonic-institute.com</em> is a little longer, but
still intuitive:</p><blockquote class="footnote">

<a name="FOOTNOTE-23" />[23]Actually,
<em class="emphasis">gizmonics.com</em> is taken by Joel Hodgson, the guy
who dreamed up The Gizmonic Institute and Mystery Science Theater
3000 in the first place.</p><p>

</blockquote>


<blockquote><pre class="code">% <tt class="userinput"><b>nslookup</b></tt>
Default Server:  ns.unet.umn.edu
Address:  128.101.101.101

&gt; <tt class="userinput"><b>set type=any</b></tt>        <i class="lineannotation"> -- Look for any records</i>
&gt; <tt class="userinput"><b>gizmonic-institute.com.</b></tt>    <i class="lineannotation"> -- for gizmonic-institute.com</i>
Server:  ns.unet.umn.edu
Address:  128.101.101.101

*** ns.unet.umn.edu can't find gizmonic-institute.com.: Non-existent host/domain</pre></blockquote>


Happily, <em class="emphasis">gizmonic-institute.com</em> is free, so you
can go on to the next step: picking a registrar.</p><p>
</div>



<a name="dns4-CHP-3-SECT-2.3.3" /><div class="sect3">
<h3 class="sect3">3.2.3.3. Choosing a registrar</h3>


Choose a
<a name="INDEX-341" />
<a name="INDEX-342" />registrar?
Welcome to the brave new world of competition! Before the spring of
1999, a single company, <a name="INDEX-343" />Network Solutions Inc., was both
the registry and sole registrar for <em class="emphasis">com</em>,
<em class="emphasis">net</em>, and <em class="emphasis">org</em>,as well as <em class="emphasis">edu.</em> To register a
subdomain of any of the generic top-level domains, you had to go to
Network Solutions.</p><p>


In June 1999, ICANN, the organization that manages the domain name
space (we mentioned them in the last chapter) introduced competition
to the registrar function of <em class="emphasis">com</em>,
<em class="emphasis">net</em>,and
<em class="emphasis">org.</em> There are now dozens of
<em class="emphasis">com</em>, <em class="emphasis">net</em>, and <em class="emphasis">org
</em>registrars you can choose from. There's a list of
them at <a name="INDEX-344" /><a href="http://www.internic.net/regist.html">http://www.internic.net/regist.html</a>.</p><p>


We won't presume to tell you how to pick a registrar, but take
a look at the price and any other services the registrar provides
that might interest you. See if you can get a nice package deal on
registration and aluminum<a name="INDEX-345" /> siding<a name="INDEX-346" />, for<a name="INDEX-347" />
example<a name="INDEX-348" />
<a name="INDEX-349" />.</p><p>
</div>
</div>




<a name="dns4-CHP-3-SECT-2.4" /><div class="sect2">
<h3 class="sect2">3.2.4. Checking That Your Network Is Registered</h3>


<a name="INDEX-350" /> <a name="INDEX-351" />Before proceeding, you should also check
whether your IP network or networks are registered. Some registrars
won't delegate a subdomain to name servers on unregistered
networks, and network registries (we'll talk about them
shortly) won't delegate an <em class="emphasis">in-addr.arpa</em>
zone that corresponds to an unregistered network.</p><p>


An <a name="INDEX-352" /> <a name="INDEX-353" />IP network defines a range of IP
addresses. For example, the network 15/8 is made up of all IP
addresses in the range 15.0.0.0 to 15.255.255.255. The network
199.10.25/24 starts at 199.10.25.0 and ends at 199.10.25.255.</p><p>


<a name="ch03-12-fm2xml" /><blockquote><table border="1" cellpadding="6"><tr><td>
<h4 class="objtitle">A Sidebar on CIDR</h4>


<a name="INDEX-354" /><a name="INDEX-355" /><a name="INDEX-356" />Once upon a
time, when we wrote the first edition of this book, the
Internet's 32-bit address space was divided up into three main
classes of networks: class A, class B, and class C. Class A networks
were networks in which the first octet (the first eight bits) of the
IP address identified the network, and the remaining bits were used
by the organization running the network to differentiate hosts on the
network. Most organizations with class A networks also subdivided
their networks into subnetworks, or subnets, adding another level of
hierarchy to the addressing scheme. Class B networks devoted two
octets to the network identifier and two to the host; class C
networks gave three octets to the network identifier and one to the
host.</p><p>


Unfortunately, this small/medium/large system of networks
didn't work well for everyone. Many organizations were large
enough to require more than a class C network, which could
accommodate at most 254 hosts, but too small to warrant a full class
B network, which could serve 65534 hosts. Many of these organizations
were allocated class B networks, anyway. Consequently, class B
networks quickly became scarce.</p><p>


To help solve this problem and create networks that were just the
right size for all sorts of organizations, <em class="emphasis">Classless
Inter-Domain Routing</em>, or CIDR (pronounced
"cider"), was developed. As the name implies, CIDR does
away with the old class A, class B, and class C network designations.
Instead of allocating either one, two, or three octets to the network
identifier, the allocator could assign any number of contiguous bits
of the IP address to the network identifier. So, for example, if an
organization needed an address space roughly four times as large as a
class B network, the powers-that-be could assign it a network
identifier of 14 bits, leaving 18 bits (four class Bs' worth)
of space to use.</p><p>


Naturally, the advent of CIDR made the "classful"
terminology outdated -- although it's still used a good deal
in casual conversation. Now, to designate a particular CIDR network,
we specify the particular high-order bit value assigned to an
organization, expressed in <a name="INDEX-357" />dotted-octet notation, and how many bits
identify the network. The two terms are separated by a slash. So 15/8
is the old class A-sized network that begins with the eight bit
pattern 00001111. The old class B-sized network 128.32.0.0 is now
128.32/16. And the network 192.168.0.128/25 consists of the 128 IP
addresses from 192.168.0.128 through 192.168.0.255.</p><p>

</td></tr></table><p></blockquote>

The <a name="INDEX-358" />InterNIC was
once the official source of all IP networks: they assigned all IP
networks to Internet-connected networks and made sure no two address
ranges overlapped. Nowadays, the InterNIC's old role has been
largely assumed by Internet service providers (ISPs), who allocate
space from their own networks for customers to use. If you know your
network came from your ISP, the larger network from which your
network was carved is probably registered (to your ISP). You may
still want to double-check that your ISP took care of registering
their network, but you don't (and probably can't) do
anything yourself besides nagging your ISP if they didn't
register their network. Once you've verified their
registration, you can skip the rest of this section and move on.</p><p>


If, however, your network was assigned by the InterNIC way back when,
or if you <em class="emphasis">are</em> an ISP, you should check to see
whether your network is registered. Where do you go to check whether
your network is registered? Why, to the same organizations that
register networks, of course. These organizations, called (what
else?) <a name="INDEX-359" />
<a name="INDEX-360" />network
registries, handle network registration in some part of the world. In
the western hemisphere, <a name="INDEX-361" /> <a name="INDEX-362" />ARIN, the
American Registry of Internet Numbers
(<a name="INDEX-363" /><a href="http://www.arin.net/">http://www.arin.net</a>)
hands out IP address space and registers networks. In Asia and the
Pacific, <a name="INDEX-364" />
<a name="INDEX-365" />APNIC, the Asia Pacific Network
Information Center
(<a name="INDEX-366" /><a href="http://www.apnic.net/">http://www.apnic.net</a>)
serves the same function. In Europe, it's the
<a name="INDEX-367" />RIPE Network
Coordination Centre
(<a name="INDEX-368" /><a href="http://www.ripe.net/">http://www.ripe.net</a>).
Each registry may also delegate registration authority for a region;
for example, ARIN delegates registration authority for Mexico and
Brazil to network registries in each country. Be sure to check for a
network registry local to your country.</p><p>


If you're not sure your network is registered, the best way to
find out is to use the
<em class="emphasis">whois</em><a name="INDEX-369" /> service provided by the various network
registries and look for your network. Here are the URLs for each
registry's <em class="emphasis">whois</em> page:</p><p>


<dl>
<dt><i>ARIN</i></dt>
<dd><a href="http://www.arin.net/whois/index.html">http://www.arin.net/whois/index.html</a></p></dd>

</dl>


<dl>
<dt><i>APNIC</i></dt>
<dd><a href="http://whois.apnic.net/">http://whois.apnic.net</a></p></dd>

</dl>


<dl>
<dt><i>RIPE</i></dt>
<dd><a href="http://www.ripe.net/cgi-bin/whois">http://www.ripe.net/cgi-bin/whois</a></p></dd>

</dl>


If you find out your network isn't registered, you'll
need to get it registered before setting up your
<em class="emphasis">in-addr.arpa</em> zones. Each registry has a
different process for registering networks, but most involve money
changing hands (from your hands to theirs, unfortunately).</p><p>


You may find out that your network is already assigned to your ISP.
If this is the case, you don't need to register independently
with the network registry.</p><p>


Once all your Internet-connected hosts are on registered networks,
it's time to register your zones.<a name="INDEX-370" /> <a name="INDEX-371" /></p><p>
</div>




<a name="dns4-CHP-3-SECT-2.5" /><div class="sect2">
<h3 class="sect2">3.2.5. Registering Your Zones</h3>


<a name="INDEX-372" />Different
<a name="INDEX-373" />registrars
have different registration policies and procedures, but at this
point, most handle registration online, through their web sites.
Since you found or chose your registrar earlier in the chapter,
we'll assume you know which web site to go to.</p><p>


The basic information that any registrar needs is the domain names
and addresses of your name servers and enough information about you
to send you a bill or charge your credit card. If you're not
connected to the Internet, give them the addresses of the Internet
hosts that will act as your name servers. Some registrars also
require that you already have operational name servers for your
<a name="INDEX-374" />
<a name="INDEX-375" />
<a name="INDEX-376" />zone. (Those that don't may ask for
an estimate of when the name servers will be fully operational.) If
that's the case with your registrar, skip ahead to <a href="ch04_01.html">Chapter 4, "Setting Up BIND"</a>and set up your name
servers. Then contact your registrar with the requisite information.</p><p>


Most registrars will also ask for some information about your
organization, including administrative and technical contacts for
your zone (who can be the same person). If your contacts aren't
already registered in the registrar's
<em class="emphasis">whois</em> database, you'll also need to
provide information to register them in <em class="emphasis">whois</em>.
This includes their names, surface mail addresses, phone numbers, and
electronic mail addresses. If they are already registered in
<em class="emphasis">whois</em><a name="INDEX-377" />,
just specify their <em class="emphasis">whois</em> "handle" (a
unique alphanumeric ID) in the registration.</p><p>


<a name="INDEX-378" />
<a name="INDEX-379" />There's another aspect of
registering a new zone that we should mention: cost. Most registrars
are commercial enterprises and charge money for registering domain
names. <a name="INDEX-380" />Network Solutions, the original registrar
for <em class="emphasis">com</em>, <em class="emphasis">net</em>, and
<em class="emphasis">org</em>, charges $35 per year to register subdomains
under the generic top-level domains. (If you already have a subdomain
under <em class="emphasis">com</em>, <em class="emphasis">net</em>, or
<em class="emphasis">org</em> and haven't received a bill from
Network Solutions recently, it'd be a good idea to check your
contact information with <em class="emphasis">whois</em> to make sure
they've got a current address and phone number for you.)</p><p>


If you're directly connected to the Internet, you should also
have the <a name="INDEX-381" />
<a name="INDEX-382" /><em class="emphasis">in-addr.arpa</em> zones
corresponding to your IP networks delegated to you. For example, if
your company has been allocated the network 192.201.44/24, you should
manage the <em class="emphasis">44.201.192.in-addr.arpa</em> zone. This
will let you control the IP address-to-name mappings for hosts on
your network. <a href="ch04_01.html">Chapter 4, "Setting Up BIND"</a> also explains how to set
up your <em class="emphasis">in-addr.arpa</em> zones.</p><p>


In <a href="ch03_02.html#dns4-CHP-3-SECT-2.4">Section 3.2.4, "Checking That Your Network Is Registered"</a>, we asked you to find the answers to several
questions: is your network a slice of an ISP's network? Is your
network, or the ISP's network that your network is part of,
registered? In which network registry? You'll need these
answers to have your <em class="emphasis">in-addr.arpa</em> zones
delegated to you.</p><p>


If your network is part of a larger network registered to an ISP, you
should contact the ISP to have the appropriate subdomains of their
<em class="emphasis">in-addr.arpa</em> zone delegated to you. Each ISP
uses a different process for setting up
<em class="emphasis">in-addr.arpa</em> delegation. Your ISP's web
page is a good place to research that process. If you can't
find the information there, try looking up the SOA record for the
<em class="emphasis">in-addr.arpa</em> zone that corresponds to your
ISP's network. For example, if your network is part of
UUNET's 153.35/16 network, you could look up the SOA record of
<em class="emphasis">35.153.in-addr.arpa</em> to find the email address of
the technical contact for the zone.</p><p>


If your network is registered directly with one of the regional
network registries, contact them to get your
<em class="emphasis">in-addr.arpa</em><a name="INDEX-383" />
<a name="INDEX-384" /> zone registered. Each network registry
makes information on its delegation process available on its web
site.</p><p>


Now that you've registered your zones, you'd better take
some time to get your house in order. You've got some name
servers to set up, and in the next chapter we'll
<a name="INDEX-385" />show you how.<a name="INDEX-386" /> <a name="INDEX-387" /></p><p>
</div>


<hr width="684" align="left" />
<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch03_01.html"><img alt="Previous" border="0" src="../gifs/txtpreva.gif" /></a></td><td align="center" valign="top" width="228"><a href="index.html"><img alt="Home" border="0" src="../gifs/txthome.gif" /></a></td><td align="right" valign="top" width="228"><a href="ch04_01.html"><img alt="Next" border="0" src="../gifs/txtnexta.gif" /></a></td></tr><tr><td align="left" valign="top" width="228">3. Where Do I Start?</td><td align="center" valign="top" width="228"><a href="index/index.html"><img alt="Book Index" border="0" src="../gifs/index.gif" /></a></td><td align="right" valign="top" width="228">4. Setting Up BIND</td></tr></table><div>
<hr width="684" align="left" />

<img alt="Library Navigation Links" border="0" src="../gifs/navbar.gif" usemap="#library-map" />
<p><font size="-1"><a href="copyrght.html">Copyright &copy; 2002</a> O'Reilly &amp; Associates. All rights reserved.</font></p><p>

<map name="library-map"><area shape="rect" coords="1,0,84,90" href="../index.html" /><area shape="rect" coords="86,-7,176,90" href="../ssh/index.html" /><area shape="rect" coords="178,0,265,101" href="../tcp/index.html" /><area shape="rect" coords="266,0,333,90" href="../nfs/index.html" /><area shape="rect" coords="334,-1,429,93" href="../snmp/index.html" /><area shape="rect" coords="431,0,529,116" href="../tshoot/index.html" /><area shape="rect" coords="534,0,594,104" href="index.html" /><area shape="rect" coords="595,1,704,108" href="../fire/index-2.html" /></map>

</body>
<!-- Mirrored from nnc3.com/mags/Networking2/dns/ch03_02.htm by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 28 Jul 2017 17:57:24 GMT -->
</html>