<html>
<!-- Mirrored from nnc3.com/mags/Networking2/snmp/ch13_02.htm by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 28 Jul 2017 17:56:59 GMT -->
<head><title>Viewing Graphs (Essential SNMP)</title><link rel="stylesheet" type="text/css" href="../style/style1.css" />

<meta name="DC.Creator" content="Douglas Mauro and Kevin Schmidt" /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="059600020L" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="Essential SNMP" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">

<img alt="Book Home" border="0" src="gifs/smbanner.gif" usemap="#banner-map" /><map name="banner-map"><area shape="rect" coords="1,-2,616,66" href="index.html" alt="Essential SNMP" /><area shape="rect" coords="629,-11,726,25" href="jobjects/fsearch.html" alt="Search this book" /></map>

<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch13_01.html"><img alt="Previous" border="0" src="../gifs/txtpreva.gif" /></a></td><td align="center" valign="top" width="228"><a href="index.html"></a></td><td align="right" valign="top" width="228"><a href="ch13_03.html"><img alt="Next" border="0" src="../gifs/txtnexta.gif" /></a></td></tr></table></div>


<h2 class="sect1">13.2. Viewing Graphs</h2>

<a name="INDEX-2034" />
<a name="INDEX-2035" /><a name="INDEX-2036" /><a name="INDEX-2037" /><a name="INDEX-2038" /><a name="INDEX-2039" />Once you've generated some graphs,
you will want to look at them to see the results. To make it easier
to view the graphs, MRTG comes with an <i class="command">indexmaker
</i>script that generates HTML index pages. Here's how to
run <i class="command">indexmaker</i> for a typical set of graphs:
</p>

<blockquote><pre class="code">[root][linuxserver] ~/mrtg-2.9.10&gt; <tt class="userinput"><b>indexmaker --title "Cisco to Internet" \ </b></tt>
<tt class="userinput"><b>--filter name=~'cisco' --output /mrtg/images/cisco.html /mrtg/run/mrtg.cfg</b></tt></pre></blockquote>

This command creates one index page with the five-minute average
graph for each target you've specified in your
<em class="filename">mrtg.cfg</em> file. Keep in mind that the target is
the interface from which you're gathering data. If you have
four targets for your router, there will be four graphs in the index
file, all pointing to the daily, weekly, monthly, and yearly summary
graphs for that target. The <i class="command">- -title</i> option tells
<i class="command">indexmaker</i> what title to use for the index file.
<i class="command">- -filter name=~cisco</i> allows you to select some of
the targets in the <em class="filename">mrtg.cfg</em> file by using a
regular expression: we told <i class="command">indexmaker</i> to find all
targets that include the string <tt class="literal">cisco</tt>. The
<i class="command">- -output</i> option is the name of the index file.
The final argument on the command line is the full path to the
configuration file. <a href="ch13_02.html#enettdg-CHP-13-TABLE-1">Table 13-1</a> gives a synopsis of
these options as well as some other useful options to
<i class="command">indexmaker</i>.
</p>

<a name="enettdg-CHP-13-TABLE-1" /><h4 class="objtitle">Table 13-1. Command-Line Options to indexmaker</h4><table border="1">



<tr>
<th>
Option</p>
</th>
<th>
Description</p>
</th>
</tr>


<tr>
<td>
<i class="command">--title</i><a name="INDEX-2040" />
</p>
</td>
<td>
Specify a title for the HTML page.</p>
</td>
</tr>
<tr>
<td>
<i class="command">--filter </i><a name="INDEX-2041" />
</p>
</td>
<td>
Specify the regular expression that will be used to find a specific
target from the <em class="filename">mrtg.cfg</em> file. These matched
targets are used to create the HTML report files.
</p>
</td>
</tr>
<tr>
<td>
<i class="command">--output
</i><a name="INDEX-2042" />
</p>
</td>
<td>
Indicate the full pathname for the HTML file that is to be generated.
The default is standard output.
</p>
</td>
</tr>
<tr>
<td>
<i class="command">--sort</i><a name="INDEX-2043" />
</p>
</td>
<td>
Sort how the graphs show up on the index page.</p>
</td>
</tr>
<tr>
<td>
<i class="command">--columns</i></p>
</td>
<td>
Arrange the graphs on the index page by <em class="emphasis">x</em>
columns. The default is <tt class="literal">2</tt>.
</p>
</td>
</tr>
<tr>
<td>
<i class="command">--width</i></p>
</td>
<td>
Set the width of the graphs. This is not set by default. </p>
</td>
</tr>
<tr>
<td>
<i class="command">--height</i></p>
</td>
<td>
Set the height of the graphs. This is not set by default.</p>
</td>
</tr>
<tr>
<td>
<i class="command">--show</i></p>
</td>
<td>
Pick which graph to show on the index page. The default is
<tt class="literal">day</tt>. Other options include
<tt class="literal">week</tt>, <tt class="literal">month</tt>,
<tt class="literal">year</tt>, and <tt class="literal">none</tt>.
</p>
</td>
</tr>

</table><p>

To display the entire list of options to
<i class="command">indexmaker</i>, run the command without any options.
<a href="ch13_02.html#enettdg-CHP-13-FIG-1">Figure 13-1</a> shows how the
<em class="filename">cisco.html</em> file generated by
<i class="command">indexmaker</i> looks when it's loaded into a web
browser.
</p>

<a name="enettdg-CHP-13-FIG-1" /><div class="figure"><img height="296" alt="Figure 13-1" src="figs/snmp_1301.gif" width="481" /></div><h4 class="objtitle">Figure 13-1.  Cisco graph overview</h4>

There are four graphs on the page, one for each of the operational
interfaces (interfaces that were up and running when we ran
<i class="command">cfgmaker</i>) on our router. This page includes links
to other pages that have more detailed information about individual
interfaces; <a href="ch13_02.html#enettdg-CHP-13-FIG-2">Figure 13-2</a> shows the daily, weekly,
monthly, and yearly traffic graphs for the
<em class="emphasis">Ethernet0</em> interface.
</p>

<a name="enettdg-CHP-13-FIG-2" /><div class="figure"><img height="500" alt="Figure 13-2" src="figs/snmp_1302.gif" width="281" /></div><h4 class="objtitle">Figure 13-2.  Daily, weekly, monthly, and yearly graphs for Etherenet0</h4>

<a name="INDEX-2044" /><a name="INDEX-2045" /><a name="INDEX-2046" />The
daily graph (which actually represents a 32-hour period) is the one
that most people are interested in viewing. It shows the five-minute
average of the traffic on this particular interface. Incoming traffic
(<em class="emphasis">ifInOctets</em>) is represented by a green line;
outgoing traffic (<em class="emphasis">IfOutOctets</em>) is represented by
a blue line. If we had clicked on one of the other interfaces on the
Cisco index page (<a href="ch13_02.html#enettdg-CHP-13-FIG-1">Figure 13-1</a>), we would have seen a
similar graph.
</p>

<a name="INDEX-2047" /><a name="INDEX-2048" /><a name="INDEX-2049" /> <a name="INDEX-2050" />That's
all there is to viewing the graphs. MRTG stores the raw data it
collects in flat-text-file format but, due to its intelligent log
rolling capabilities, the log files don't grow out of control;
their sizes remain quite manageable even if you use MRTG
extensively.<a name="INDEX-2051" /><a name="INDEX-2052" /><a name="INDEX-2053" /> 
</p>



<hr width="684" align="left" />
<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch13_01.html"><img alt="Previous" border="0" src="../gifs/txtpreva.gif" /></a></td><td align="center" valign="top" width="228"><a href="index.html"><img alt="Home" border="0" src="../gifs/txthome.gif" /></a></td><td align="right" valign="top" width="228"><a href="ch13_03.html"><img alt="Next" border="0" src="../gifs/txtnexta.gif" /></a></td></tr><tr><td align="left" valign="top" width="228">13. MRTG</td><td align="center" valign="top" width="228"><a href="index/index.html"><img alt="Book Index" border="0" src="../gifs/index.gif" /></a></td><td align="right" valign="top" width="228">13.3. Graphing Other Objects</td></tr></table></div>
<hr width="684" align="left" />

<img alt="Library Navigation Links" border="0" src="../gifs/navbar.gif" usemap="#library-map" />
<p><font size="-1"><a href="copyrght.html">Copyright &copy; 2002</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map"><area shape="rect" coords="1,0,84,90" href="../index.html" /><area shape="rect" coords="86,-7,176,90" href="../ssh/index.html" /><area shape="rect" coords="178,0,265,101" href="../tcp/index.html" /><area shape="rect" coords="266,0,333,90" href="../nfs/index.html" /><area shape="rect" coords="334,-1,429,93" href="index.html" /><area shape="rect" coords="431,0,529,116" href="../tshoot/index.html" /><area shape="rect" coords="534,0,594,104" href="../dns/index.html" /><area shape="rect" coords="595,1,704,108" href="../fire/index-2.html" /></map>

</body>
<!-- Mirrored from nnc3.com/mags/Networking2/snmp/ch13_02.htm by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 28 Jul 2017 17:57:00 GMT -->
</html>
