<html>
<!-- Mirrored from nnc3.com/mags/Networking2/snmp/ch02_02.htm by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 28 Jul 2017 17:56:46 GMT -->
<head><title>SNMP Communities (Essential SNMP)</title><link rel="stylesheet" type="text/css" href="../style/style1.css" />

<meta name="DC.Creator" content="Douglas Mauro and Kevin Schmidt" /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="059600020L" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="Essential SNMP" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">

<img alt="Book Home" border="0" src="gifs/smbanner.gif" usemap="#banner-map" /><map name="banner-map"><area shape="rect" coords="1,-2,616,66" href="index.html" alt="Essential SNMP" /><area shape="rect" coords="629,-11,726,25" href="jobjects/fsearch.html" alt="Search this book" /></map>

<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch02_01.html"><img alt="Previous" border="0" src="../gifs/txtpreva.gif" /></a></td><td align="center" valign="top" width="228"><a href="index.html"></a></td><td align="right" valign="top" width="228"><a href="ch02_03.html"><img alt="Next" border="0" src="../gifs/txtnexta.gif" /></a></td></tr></table></div>


<h2 class="sect1">2.2. SNMP Communities</h2>

<a name="INDEX-131" />
<a name="INDEX-132" />
<a name="INDEX-133" /><a name="INDEX-134" /><a name="INDEX-135" /><a name="INDEX-136" /><a name="INDEX-137" /><a name="INDEX-138" /><a name="INDEX-139" />SNMPv1 and SNMPv2 use the notion of
communities to establish trust between managers and agents. An agent
is configured with three community names: read-only, read-write, and
trap. The community names are essentially passwords; there's no
real difference between a community string and the password you use
to access your account on the computer. The three community strings
control different kinds of activities. As its name implies, the
read-only community string lets you read data values, but
doesn't let you modify the data. For example, it allows you to
read the number of packets that have been transferred through the
ports on your router, but doesn't let you reset the counters.
The read-write community is allowed to read and modify data values;
with the read-write community string, you can read the counters,
reset their values, and even reset the interfaces or do other things
that change the router's configuration. Finally, the trap
community string allows you to receive traps (asynchronous
notifications) from the agent.
</p>

<a name="INDEX-140" />
<a name="INDEX-141" /><a name="INDEX-142" /><a name="INDEX-143" /><a name="INDEX-144" />Most vendors ship their
equipment with default community strings, typically
<em class="emphasis">public</em> for the read-only community and
<em class="emphasis">private</em> for the read-write community. It's
important to change these defaults before your device goes live on
the network. (You may get tired of hearing this because we say it
many times, but it's absolutely essential.) When setting up an
SNMP agent, you will want to configure its trap destination, which is
the address to which it will send any traps it generates. In
addition, since SNMP community strings are sent in clear text, you
can configure an agent to send an SNMP authentication-failure trap
when someone attempts to query your device with an incorrect
community string. Among other things, authentication-failure traps
can be very useful in determining when an intruder might be trying to
gain access to your network.
</p>

<a name="INDEX-145" /><a name="INDEX-146" /><a name="INDEX-147" />Because community
strings are essentially passwords, you should use the same rules for
selecting them as you use for Unix or NT user passwords: no
dictionary words, spouse names, etc. An alphanumeric string with
mixed upper- and lowercase letters is generally a good idea. As
mentioned earlier, the problem with SNMP's authentication is
that community strings are sent in plain text, which makes it easy
for people to intercept them and use them against you. SNMPv3
addresses this by allowing, among other things, secure authentication
and communication between SNMP devices.
</p>

<a name="INDEX-148" />
<a name="INDEX-149" /><a name="INDEX-150" />There
are ways to reduce your risk of attack. IP firewalls or filters
minimize the chance that someone can harm any managed device on your
network by attacking it through SNMP. You can configure your firewall
to allow UDP traffic from only a list of known hosts. For example,
you can allow UDP traffic on port 161 (SNMP requests) into your
network only if it comes from one of your network-management
stations. The same goes for traps; you can configure your router so
it allows UDP traffic on port 162 to your NMS only if it originates
from one of the hosts you are monitoring. Firewalls aren't 100%
effective, but simple precautions such as these do a lot to reduce
your risk.
<a name="INDEX-151" /><a name="INDEX-152" /><a name="INDEX-153" /><a name="INDEX-154" />
</p>

<a name="ch02-4-fm2xml" /><blockquote><b>WARNING: </b> 
It is important to realize that if
someone has read-write access to any of your SNMP devices, he can
gain control of those devices by using SNMP (for example, he can set
router interfaces, switch ports down, or even modify your routing
tables). One way to protect your community strings is to use a
<em class="firstterm">Virtual Private Network</em> (VPN) to make sure
your network traffic is encrypted. Another way is to change your
community strings often. Changing community strings isn't
difficult for a small network, but for a network that spans city
blocks or more and has dozens (or hundreds or thousands) of managed
hosts, changing community strings can be a problem. An easy solution
is to write a simple Perl script that uses SNMP to change the
community strings on your devices.<a name="INDEX-155" /> 
</p>
</blockquote>



<hr width="684" align="left" />
<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch02_01.html"><img alt="Previous" border="0" src="../gifs/txtpreva.gif" /></a></td><td align="center" valign="top" width="228"><a href="index.html"><img alt="Home" border="0" src="../gifs/txthome.gif" /></a></td><td align="right" valign="top" width="228"><a href="ch02_03.html"><img alt="Next" border="0" src="../gifs/txtnexta.gif" /></a></td></tr><tr><td align="left" valign="top" width="228">2. A Closer Look at SNMP</td><td align="center" valign="top" width="228"><a href="index/index.html"><img alt="Book Index" border="0" src="../gifs/index.gif" /></a></td><td align="right" valign="top" width="228">2.3. The Structure of Management Information</td></tr></table></div>
<hr width="684" align="left" />

<img alt="Library Navigation Links" border="0" src="../gifs/navbar.gif" usemap="#library-map" />
<p><font size="-1"><a href="copyrght.html">Copyright &copy; 2002</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map"><area shape="rect" coords="1,0,84,90" href="../index.html" /><area shape="rect" coords="86,-7,176,90" href="../ssh/index.html" /><area shape="rect" coords="178,0,265,101" href="../tcp/index.html" /><area shape="rect" coords="266,0,333,90" href="../nfs/index.html" /><area shape="rect" coords="334,-1,429,93" href="index.html" /><area shape="rect" coords="431,0,529,116" href="../tshoot/index.html" /><area shape="rect" coords="534,0,594,104" href="../dns/index.html" /><area shape="rect" coords="595,1,704,108" href="../fire/index-2.html" /></map>

</body>
<!-- Mirrored from nnc3.com/mags/Networking2/snmp/ch02_02.htm by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 28 Jul 2017 17:56:46 GMT -->
</html>
