<html>
<!-- Mirrored from nnc3.com/mags/Networking2/fire/ch13_06.htm by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 28 Jul 2017 17:51:34 GMT -->
<head><title>Controlling Unsafe Configurations (Building Internet Firewalls, 2nd Edition)</title><link rel="stylesheet" type="text/css" href="../style/style1.css" />

<meta name="DC.Creator" content="Elizabeth D. Zwicky, Simon Cooper and D. Brent Chapman" /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="1565928717L" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="Building Internet Firewalls, 2nd Edition" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">

<img alt="Book Home" border="0" src="gifs/smbanner.gif" usemap="#banner-map" /><map name="banner-map"><area shape="rect" coords="1,-2,616,66" href="index-2.html" alt="Building Internet Firewalls" /><area shape="rect" coords="629,-11,726,25" href="jobjects/fsearch.html" alt="Search this book" /></map>

<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch13_05.html"><img alt="Previous" border="0" src="../gifs/txtpreva.gif" /></a></td><td align="center" valign="top" width="228"></td><td align="right" valign="top" width="228"><a href="ch14_01.html"><img alt="Next" border="0" src="../gifs/txtnexta.gif" /></a></td></tr></table><div>



<h2 class="sect1">13.6. Controlling Unsafe Configurations</h2>





<a name="INDEX-1265" />As
we've discussed in earlier sections, your ability to trust a
protocol often depends on your ability to control what it's
talking to. It's not unusual to have a protocol that can be
perfectly safe, as long as you know that it's going to specific
clients with specific configurations, or otherwise horribly unsafe.
For instance, the Simple Mail Transport Protocol (SMTP) is considered
acceptable at most sites, as long as it's going to a machine
with a reliable and well-configured server on it. On the other hand,
it's extremely dangerous when talking to a badly configured
server.</p><p>





Normally, if you want to use a protocol like this, you will use
bastion hosts, and you will allow the protocol to come into your site
only when it is destined for a carefully controlled and configured
machine that is administered by your trusted security staff.
Sometimes you may not be able to do this, however; you may find that
you need to allow a large number of machines, or machines that are
not directly controlled by the staff responsible for the firewall.
What do you do then?</p><p>





The first thing to be aware of is that you cannot protect yourself
from hostile insiders in this situation. If you allow a protocol to
come to machines, and the people who control those machines are
actively trying to subvert your security, they will succeed in doing
so. Your ability to control hostile insiders is fairly minimal in the
first place, but the more protocols you allow, the more vulnerable
you are.</p><p>





Supposing that the people controlling the machines are not hostile
but aren't security experts either, there are measures you can
take to help the situation. One option is to attempt to increase your
control over the machines to the point where they can't get
things wrong; this means forcing them to run an operating system like
Windows NT or Unix where you can centralize account administration
and remove access to globally powerful accounts (root or
Administrator). This is rarely possible, and when it is possible, it
sometimes doesn't help much. This approach will generally allow
you to forcibly configure web browsers into safe configurations, for
instance, but it won't do much for web servers. Enough access
to administer a web server in any useful way is enough access to make
it insecure.</p><p>





Another option is to attempt to increase your control over the
protocol until you're certain that it can't be used to
attack a machine even it's misconfigured. For instance, if you
can't turn off support for scripting languages in web browsers,
you can filter scripting languages out of incoming HTTP. This is at
best an ongoing war -- it's usually impossible to find a
safe but useful subset of the protocol, so you end up removing unsafe
things as they become known. At worst, it may be impossible to do
this sort of control.</p><p>





If you can't actually control either the clients or the
protocol, you can at least provide peer pressure and social support
to get programs safely configured. You can use local installations
under Unix or profiles under Windows NT to supply defaults that you
find acceptable (this will work best if you also provide
localizations that are useful to the user). For instance, you can
supply configuration information for web browsers that turns off
scripting languages and that also correctly sets proxying information
and provides bookmarks of local interest. You want to make it easier
and more pleasant to do things securely than insecurely.</p><p>





You can also provide a security policy that makes clear what you want
people to do and why. In particular, it should explain to people why
it matters to them, since few people are motivated to go to any
trouble at all to achieve some abstract notion of security. (See
<a href="ch25_01.html">Chapter 25, "Security Policies"</a>, for more information on security
policies.)</p><p>





No matter how you end up trying to manage these configuration issues,
you will want to be sure that you are monitoring for vulnerabilities.
Don't fool yourself; you will never get perfect compliance
using policies and defaults. (You'll be very lucky to get
perfect compliance even when you're using force, since it
requires perfect enforcement!)<a name="INDEX-1266" /> <a name="INDEX-1267" /> <a name="INDEX-1268" /></p><p>


<hr width="684" align="left" />
<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch13_05.html"><img alt="Previous" border="0" src="../gifs/txtpreva.gif" /></a></td><td align="center" valign="top" width="228"><a href="index-2.html"><img alt="Home" border="0" src="../gifs/txthome.gif" /></a></td><td align="right" valign="top" width="228"><a href="ch14_01.html"><img alt="Next" border="0" src="../gifs/txtnexta.gif" /></a></td></tr><tr><td align="left" valign="top" width="228">13.5. Choosing Security-Critical Programs</td><td align="center" valign="top" width="228"><a href="index/index.html"><img alt="Book Index" border="0" src="../gifs/index.gif" /></a></td><td align="right" valign="top" width="228">14. Intermediary Protocols</td></tr></table><div>
<hr width="684" align="left" />

<img alt="Library Navigation Links" border="0" src="../gifs/navbar.gif" usemap="#library-map" />
<p><font size="-1"><a href="copyrght.html">Copyright &copy; 2002</a> O'Reilly &amp; Associates. All rights reserved.</font></p><p>

<map name="library-map"><area shape="rect" coords="1,0,84,90" href="../index.html" /><area shape="rect" coords="86,-7,176,90" href="../ssh/index.html" /><area shape="rect" coords="178,0,265,101" href="../tcp/index.html" /><area shape="rect" coords="266,0,333,90" href="../nfs/index.html" /><area shape="rect" coords="334,-1,429,93" href="../snmp/index.html" /><area shape="rect" coords="431,0,529,116" href="../tshoot/index.html" /><area shape="rect" coords="534,0,594,104" href="../dns/index.html" /><area shape="rect" coords="595,1,704,108" href="index-2.html" /></map>

</body>
<!-- Mirrored from nnc3.com/mags/Networking2/fire/ch13_06.htm by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 28 Jul 2017 17:51:34 GMT -->
</html>