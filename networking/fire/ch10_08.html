<html>
<!-- Mirrored from nnc3.com/mags/Networking2/fire/ch10_08.htm by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 28 Jul 2017 17:51:34 GMT -->
<head><title>Building a Bastion Host (Building Internet Firewalls, 2nd Edition)</title><link rel="stylesheet" type="text/css" href="../style/style1.css" />

<meta name="DC.Creator" content="Elizabeth D. Zwicky, Simon Cooper and D. Brent Chapman" /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="1565928717L" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="Building Internet Firewalls, 2nd Edition" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">

<img alt="Book Home" border="0" src="gifs/smbanner.gif" usemap="#banner-map" /><map name="banner-map"><area shape="rect" coords="1,-2,616,66" href="index-2.html" alt="Building Internet Firewalls" /><area shape="rect" coords="629,-11,726,25" href="jobjects/fsearch.html" alt="Search this book" /></map>

<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch10_07.html"><img alt="Previous" border="0" src="../gifs/txtpreva.gif" /></a></td><td align="center" valign="top" width="228"></td><td align="right" valign="top" width="228"><a href="ch10_09.html"><img alt="Next" border="0" src="../gifs/txtnexta.gif" /></a></td></tr></table><div>



<h2 class="sect1">10.8. Building a Bastion Host</h2>





<a name="INDEX-779" /><a name="INDEX-780" />Now that
you've figured out what you want your bastion host to do, you
need to actually build the bastion host. This process of configuring
a machine to be especially secure and resistant to attack is
generally known as <em class="emphasis">hardening</em>. The basic
hardening process is as follows:<a name="INDEX-781" /> <a name="INDEX-782" /></p><p>





<ol><li>Secure the machine.</p><p></li><li>Disable all nonrequired services.</p></li><li><p>Install or modify the services you want to provide.</p></li><li><p>Reconfigure the machine from a configuration suitable for development
into its final running state.</p><p></li><li>Run a security audit to establish a baseline.</p></li><li>Connect the machine to the network it will be used on.</p></li></ol>
<a name="INDEX-783" /><a name="INDEX-784" /><a name="INDEX-785" />You
should be very careful to make sure the machine is not accessible
from the Internet until the last step. If your site isn't yet
connected to the Internet, you can simply avoid turning on the
Internet connection until the bastion host is fully configured. If
you are adding a firewall to a site that's already connected to
the Internet, you need to configure the bastion host as a standalone
machine, unconnected to your network.</p><p>





If the bastion host is vulnerable to the Internet while it is being
built, it may become an attack mechanism instead of a defense
mechanism. An intruder who gets in before you've run the
baseline audit will be difficult to detect and will be well
positioned to read all of your traffic to and from the Internet.
Cases have been reported where machines have been broken into within
minutes of first being connected to the Internet; while rare, it can
happen.</p><p>





Take copious notes on every stage of building the system. Assume that
sometime in the future, a compromise will occur that causes the
machine to burst into flames and be destroyed. In order to rebuild
your system, you will need to be able to follow all of the steps you
took previously.</p><p>





You will also need all of the software that you used, so you should
be sure to securely store all of the things you need to do the
installation, including:</p><p>





<ul><li>The disks, CDs, or tapes you install software from</p><p></li><li>The source code for any software you build from source</p></li><li><p>The environment you used to build software from source, if it's
different from the one you're installing; this includes the
operating system, compiler, and header files (and a machine they run
on)</p><p></li><li>The manuals and documents you were working from</p></li></ul>
The following sections briefly describe each of the main steps
involved in building a bastion host; these steps will be covered in
more detail in the following separate chapters for Unix and Windows
NT. They also touch briefly on ongoing maintenance and protection of
the bastion host; note, though, that maintenance issues are discussed
primarily in <a href="ch26_01.html">Chapter 26, "Maintaining Firewalls"</a>.<a name="INDEX-786" /> <a name="INDEX-787" /></p><p>


<hr width="684" align="left" />
<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch10_07.html"><img alt="Previous" border="0" src="../gifs/txtpreva.gif" /></a></td><td align="center" valign="top" width="228"><a href="index-2.html"><img alt="Home" border="0" src="../gifs/txthome.gif" /></a></td><td align="right" valign="top" width="228"><a href="ch10_09.html"><img alt="Next" border="0" src="../gifs/txtnexta.gif" /></a></td></tr><tr><td align="left" valign="top" width="228">10.7. Disabling User Accounts on Bastion Hosts</td><td align="center" valign="top" width="228"><a href="index/index.html"><img alt="Book Index" border="0" src="../gifs/index.gif" /></a></td><td align="right" valign="top" width="228">10.9. Securing the Machine</td></tr></table><div>
<hr width="684" align="left" />

<img alt="Library Navigation Links" border="0" src="../gifs/navbar.gif" usemap="#library-map" />
<p><font size="-1"><a href="copyrght.html">Copyright &copy; 2002</a> O'Reilly &amp; Associates. All rights reserved.</font></p><p>

<map name="library-map"><area shape="rect" coords="1,0,84,90" href="../index.html" /><area shape="rect" coords="86,-7,176,90" href="../ssh/index.html" /><area shape="rect" coords="178,0,265,101" href="../tcp/index.html" /><area shape="rect" coords="266,0,333,90" href="../nfs/index.html" /><area shape="rect" coords="334,-1,429,93" href="../snmp/index.html" /><area shape="rect" coords="431,0,529,116" href="../tshoot/index.html" /><area shape="rect" coords="534,0,594,104" href="../dns/index.html" /><area shape="rect" coords="595,1,704,108" href="index-2.html" /></map>

</body>
<!-- Mirrored from nnc3.com/mags/Networking2/fire/ch10_08.htm by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 28 Jul 2017 17:51:34 GMT -->
</html>