<html>
<!-- Mirrored from nnc3.com/mags/Networking2/fire/ch03_05.htm by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 28 Jul 2017 17:51:19 GMT -->
<head><title>Fail-Safe Stance (Building Internet Firewalls, 2nd Edition)</title><link rel="stylesheet" type="text/css" href="../style/style1.css" />

<meta name="DC.Creator" content="Elizabeth D. Zwicky, Simon Cooper and D. Brent Chapman" /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="1565928717L" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="Building Internet Firewalls, 2nd Edition" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">

<img alt="Book Home" border="0" src="gifs/smbanner.gif" usemap="#banner-map" /><map name="banner-map"><area shape="rect" coords="1,-2,616,66" href="index-2.html" alt="Building Internet Firewalls" /><area shape="rect" coords="629,-11,726,25" href="jobjects/fsearch.html" alt="Search this book" /></map>

<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch03_04.html"><img alt="Previous" border="0" src="../gifs/txtpreva.gif" /></a></td><td align="center" valign="top" width="228"></td><td align="right" valign="top" width="228"><a href="ch03_06.html"><img alt="Next" border="0" src="../gifs/txtnexta.gif" /></a></td></tr></table><div>



<h2 class="sect1">3.5. Fail-Safe Stance</h2>





<a name="INDEX-241" /><a name="INDEX-242" /><a name="INDEX-243" /><a name="INDEX-244" />Another fundamental principle of security
is that, to the extent possible, systems should <em class="emphasis">fail safe
</em>; that is, if they're going to fail, they should
fail in such a way that they deny access to an attacker, rather than
letting the attacker in. The failure may also result in denying
access to legitimate users as well, until repairs are made, but this
is usually an acceptable trade-off.</p><p>





Safe failures are another principle with wide application in familiar
places. Electrical devices are designed to go off  --  to stop
 --  when they fail in almost any way. Elevators are designed to
grip their cables if they're not being powered. Electric door
locks generally unlock when the power fails, to avoid trapping people
in buildings.</p><p>





ost of the applications we discuss automatically fail safely. For
example, if a packet filtering router goes down, it doesn't let
any packets in. If a proxying program goes down, it provides no
service. On the other hand, some host-based packet filtering systems
are designed such that packets are allowed to arrive at a machine
that runs a packet filtering application and separately runs
applications providing services. The way some of these systems work,
if the packet filtering application crashes (or is never started at
boot time), the packets will be delivered to the applications
providing services. This is not a fail-safe design and should be
avoided.</p><p>





The biggest application of this principle in network security is in
choosing your site's <em class="emphasis">stance</em> with respect
to security. Your stance is, essentially, your site's overall
attitude towards security. Do you lean towards being restrictive or
permissive? Are you more inclined to err in the direction of safety
(some might call it paranoia) or freedom?</p><p>





There are two fundamental stances that you can take with respect to
security decisions and policies:</p><p>





<dl>
<dt><i>The default deny stance</i></dt>
<dd>Specify only what you allow and prohibit everything else.</p><p></dd>





<dt><i>The default permit stance</i></dt>
<dd>Specify only what you prohibit and allow everything else.</p><p></dd>

</dl>





It may seem obvious to you which of these is the "right"
approach to take; from a security point of view, it's the
default deny stance. Probably, it will also seem obvious to your
users and management; from their point of view, it's the
default permit stance. It's important to make your stance clear
to users and management, as well as to explain the reasons behind
that stance. Otherwise, you're likely to spend a lot of
unproductive time in conflict with them, wondering "How could
they be so foolish as to even suggest that?" time and again,
simply because they don't understand the security point of
view.</p><p>





<a name="ch03-1502" /><div class="sect2">
<h3 class="sect2">3.5.1. Default Deny Stance: That Which Is Not Expressly Permitted Is Prohibited</h3>





<a name="INDEX-245" /><a name="INDEX-246" />The <em class="emphasis">default deny
stance</em> makes sense from a security point of view because
it is a fail-safe stance. It recognizes that what you don't
know <em class="emphasis">can</em> hurt you. It's the obvious choice
for most security people, but it's usually not at all obvious
to users.</p><p>





With the default deny stance, you prohibit everything by default;
then, to determine what you are going to allow, you:</p><p>





<ul><li>Examine the services your users want.</p><p></li><li>Consider the security implications of these services and how you can
safely provide them.</p><p></li><li>Allow only the services that you understand, can provide safely, and
see a legitimate need for.</p><p></li></ul>
Services are enabled on a case-by-case basis. You start by analyzing
the security of a specific service, and balance its security
implications against the needs of your users. Based on that analysis
and the availability of various remedies to improve the security of
the service, you settle on an appropriate compromise.</p><p>





For one service, you might determine that you should provide the
service to all users and can do so safely with commonly available
packet filtering or proxy systems. For another service, you might
determine that the service cannot be adequately secured by any
currently available means, but that only a small number of your users
or systems require it. In the latter case, perhaps its use can be
restricted to that small set of users (who can be made aware of the
risks through special training) or systems (which you may be able to
protect in other ways -- for example, through host security). The
whole key is to find a compromise that is appropriate to your
particular situation.</p><p>
</div>
















<a name="ch03-1522" /><div class="sect2">
<h3 class="sect2">3.5.2. Default Permit Stance: That Which Is Not Expressly Prohibited Is Permitted</h3>





<a name="INDEX-247" /><a name="INDEX-248" />Most users and managers prefer the
<em class="emphasis">default permit stance</em>. They tend to assume that
everything will be, by default, permitted, and that certain specific,
troublesome actions and services will then be prohibited as
necessary. For example:</p><p>





<ul><li>NFS is not permitted across the firewall.</p><p></li><li>World Wide Web access is restricted to users who have received
awareness training about its security problems.</p><p></li><li>Users are not allowed to set up unauthorized servers.</p></li></ul>
They want you to tell them what's dangerous; to itemize those
few (they think) things that they can't do; and to let them do
everything else. This is definitely not a fail-safe stance.</p><p>





First, it assumes that you know ahead of time precisely what the
specific dangers are, how to explain them so users will understand
them, and how to guard against them. Trying to guess what dangers
might be in a system or out there on the Internet is essentially an
impossible task. There are simply too many possible problems, and too
much information (new security holes, new exploitations of old holes,
etc.) to be able to keep up to date. If you don't know that
something is a problem, it won't be on your
"prohibited" list. In that case, it will go right on
being a problem until you notice it, and you'll probably notice
it because somebody takes advantage of it.</p><p>





Second, the default permit stance tends to degenerate into an
escalating "arms race" between the firewall maintainer
and the users. The maintainer prepares defenses against user action
or inaction (just keeps saying, "Don't do that!");
the users come up with fascinating new and insecure ways of doing
things; and the process repeats, again and again. The maintainer is
forever playing catch up. Inevitably, there are going to be periods
of vulnerability between the time that a system is set up, the time
that a security problem is discovered, and the time that the
maintainer is able to respond to the problem. No matter how vigilant
and cooperative everyone may be, some things are going to fall
through the cracks forever: because the maintainer has never heard
about them, never realized the full security consequences, or just
plain hasn't had time to work on the problem.</p><p>





About the only people who benefit from the default permit stance are
potential attackers, because the firewall maintainer can't
possibly close all the holes, is forever stuck in "fire
fighting" mode, and is likely to be far too busy to notice an
attacker's activities.</p><p>





For example, consider the problem of sharing files with collaborators
at another site. Your users' first idea will probably be to use
the same tool that they use to share files internally  --  for
instance, NFS or Windows file sharing. The problem is, both of these
are completely unsafe to allow across a firewall (for reasons
discussed in <a href="ch02_01.html">Chapter 2, "Internet Services"</a>, and <a href="ch17_01.html">Chapter 17, "File Transfer, File Sharing, and Printing"</a>). Suppose that your stance is a permissive one,
and you haven't specifically told your users that it's
not safe to share files across your firewall (or even if you have
told them, they don't remember or don't care). In this
case, you're probably going to find yourself sharing files
across your firewall because it seemed like a good idea to somebody
who didn't understand (or care about) the security issues. If
your stance is default deny, on the other hand, your users'
attempts to set up file sharing will fail. You'll need to
explain why to them, suggest alternatives that are more secure (such
as FTP), and look for ways to make those more secure alternatives
easier to use without sacrificing security.<a name="INDEX-249" /><a name="INDEX-250" /><a name="INDEX-251" /><a name="INDEX-252" /><a name="INDEX-253" /><a name="INDEX-254" /></p><p>
</div>


<hr width="684" align="left" />
<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch03_04.html"><img alt="Previous" border="0" src="../gifs/txtpreva.gif" /></a></td><td align="center" valign="top" width="228"><a href="index-2.html"><img alt="Home" border="0" src="../gifs/txthome.gif" /></a></td><td align="right" valign="top" width="228"><a href="ch03_06.html"><img alt="Next" border="0" src="../gifs/txtnexta.gif" /></a></td></tr><tr><td align="left" valign="top" width="228">3.4. Weakest Link</td><td align="center" valign="top" width="228"><a href="index/index.html"><img alt="Book Index" border="0" src="../gifs/index.gif" /></a></td><td align="right" valign="top" width="228">3.6. Universal Participation</td></tr></table><div>
<hr width="684" align="left" />

<img alt="Library Navigation Links" border="0" src="../gifs/navbar.gif" usemap="#library-map" />
<p><font size="-1"><a href="copyrght.html">Copyright &copy; 2002</a> O'Reilly &amp; Associates. All rights reserved.</font></p><p>

<map name="library-map"><area shape="rect" coords="1,0,84,90" href="../index.html" /><area shape="rect" coords="86,-7,176,90" href="../ssh/index.html" /><area shape="rect" coords="178,0,265,101" href="../tcp/index.html" /><area shape="rect" coords="266,0,333,90" href="../nfs/index.html" /><area shape="rect" coords="334,-1,429,93" href="../snmp/index.html" /><area shape="rect" coords="431,0,529,116" href="../tshoot/index.html" /><area shape="rect" coords="534,0,594,104" href="../dns/index.html" /><area shape="rect" coords="595,1,704,108" href="index-2.html" /></map>

</body>
<!-- Mirrored from nnc3.com/mags/Networking2/fire/ch03_05.htm by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 28 Jul 2017 17:51:19 GMT -->
</html>