<html>
<!-- Mirrored from nnc3.com/mags/Networking2/tcp/appg_01.htm by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 28 Jul 2017 17:53:20 GMT -->
<head><title>RFC Excerpts (TCP/IP Network Administration, 3rd Edition)</title><link rel="stylesheet" type="text/css" href="../style/style1.css" />

<meta name="DC.Creator" content="Craig Hunt" /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="0596002971L" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="TCP/IP Network Administration, 3rd Edition" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">

<img alt="Book Home" border="0" src="gifs/smbanner.gif" usemap="#banner-map" /><map name="banner-map"><area shape="rect" coords="1,-2,616,66" href="index.html" alt="TCP/IP Network Administration" /><area shape="rect" coords="629,-11,726,25" href="jobjects/fsearch.html" alt="Search this book" /></map>

<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="appf_01.html"><img alt="Previous" border="0" src="../gifs/txtpreva.gif" /></a></td><td align="center" valign="top" width="228" /><td align="right" valign="top" width="228"><a href="appg_02.html"><img alt="Next" border="0" src="../gifs/txtnexta.gif" /></a></td></tr></table></div>




<h1 class="chapter">Appendix G. RFC Excerpts</h1>
<div class="htmltoc"><h4 class="tochead">Contents:</h4>
  <p> <a href="#tcp3-APP-G-SECT-1">IP Datagram Header</a><br />
<a href="appg_02.html">TCP Segment Header</a><br />
<a href="appg_03.html">ICMP Parameter Problem Message Header</a><br />
<a href="appg_04.html">Retrieving RFCs </a><br /></p></div>


<p><a href="ch13_01.html">Chapter 13, "
Troubleshooting TCP/IP"</a> refers to specific TCP/IP headers that
are documented here. This is not an exhaustive list of headers; only
the headers used in the troubleshooting examples in <a href="ch13_01.html">Chapter 13, "
Troubleshooting TCP/IP"</a> are covered:
</p>

<ul><li>
<p>IP Datagram Header, as defined in RFC 791, <em class="emphasis">Internet
Protocol</em>
</p>
</li><li>
<p>TCP Segment Header, as defined in RFC 793, <em class="emphasis">Transmission
Control Protocol</em>
</p>
</li><li>
<p>ICMP Parameter Problem Message Header, as defined in RFC 792,
<em class="emphasis">Internet Control Message Protocol</em>
</p>
</li></ul>
<p>Each header is presented using an excerpt from the RFC that defines
the header. These are not exact quotes; the excerpts have been
slightly edited to better fit this text. However, the importance of
using primary sources for troubleshooting protocol problems is still
emphasized. These headers are provided here to help you follow the
examples in <a href="ch13_01.html">Chapter 13, "
Troubleshooting TCP/IP"</a>. For real troubleshooting,
use the real RFCs. You can obtain your own copies of the RFCs by
following the instructions at the end of this appendix.
</p>


<div class="sect1"><a name="tcp3-APP-G-SECT-1" /></a>
<h2 class="sect1">G.1. IP Datagram Header</h2>

<p>This description <a name="INDEX-3819" /></a> <a name="INDEX-3820" /></a> <a name="INDEX-3821" /></a>is
taken from pages 11 to 15 of <a name="INDEX-3822" /></a>RFC 791, <em class="emphasis">Internet
Protocol</em>.
</p>

<a name="INDEX-3823" /></a><a name="INDEX-3824" /></a><a name="INDEX-3825" /></a><blockquote><pre class="code">Internet Header Format 
                                     
    0                   1                   2                   3    
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1  
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
   |Version|  IHL  |Type of Service|          Total Length         | 
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
   |         Identification        |Flags|      Fragment Offset    | 
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
   |  Time to Live |    Protocol   |         Header Checksum       | 
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
   |                       Source Address                          | 
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
   |                    Destination Address                        | 
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
   |                    Options                    |    Padding    | 
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
 
  Version:  4 bits 
 
    The Version field indicates the format of the internet header.  
    This document describes version 4. 
 
  IHL:  4 bits 
 
    Internet Header Length is the length of the internet header in 32 
    bit words.  The minimum value for a correct header is 5. 
 
  Type of Service:  8 bits 
 
    The Type of Service indication the quality of service desired. 
    The meaning of the bits is explained below. 
 
      Bits 0-2:  Precedence. 
      Bit    3:  0 = Normal Delay,      1 = Low Delay. 
      Bits   4:  0 = Normal Throughput, 1 = High Throughput. 
      Bits   5:  0 = Normal Reliability 1 = High Reliability. 
      Bit  6-7:  Reserved for Future Use. 
 
         0     1     2     3     4     5     6     7 
      +-----+-----+-----+-----+-----+-----+-----+-----+ 
      |                 |     |     |     |     |     | 
      |   PRECEDENCE    |  D  |  T  |  R  |  0  |  0  | 
      |                 |     |     |     |     |     | 
      +-----+-----+-----+-----+-----+-----+-----+-----+ 
 
        Precedence 
 
          111 - Network Control 
          110 - Internetwork Control 
          101 - CRITIC/ECP 
          100 - Flash Override 
          011 - Flash 
          010 - Immediate 
          001 - Priority 
          000 - Routine 
 
  Total Length:  16 bits 
 
    Total Length is the length of the datagram, measured in octets  
    (bytes), including internet header and data. 
 
  Identification:  16 bits 
 
    An identifying value assigned by the sender to aid in assembling 
    the fragments of a datagram. 
 
  Flags:  3 bits 
 
    Various Control Flags.  The Flag bits are explained below: 
 
      Bit 0: reserved, must be zero 
      Bit 1: (DF) 0 = May Fragment,  1 = Don't Fragment. 
      Bit 2: (MF) 0 = Last Fragment, 1 = More Fragments. 
 
          0   1   2 
        +---+---+---+ 
        |   | D | M | 
        | 0 | F | F | 
        +---+---+---+ 
 
  Fragment Offset:  13 bits 
 
    This field indicates where in the datagram this fragment belongs. 
    The fragment offset is measured in units of 8 octets (64 bits). 
    The first fragment has offset zero. 
 
  Time to Live:  8 bits 
 
    This field indicates the maximum time the datagram is allowed to 
    remain in the internet system.  
 
  Protocol:  8 bits 
 
    This field indicates the Transport Layer protocol that the data 
    portion of this datagram is passed to.  The values for various 
    protocols are specified in the "Assigned Numbers" RFC. 
 
  Header Checksum:  16 bits 
 
    A checksum on the header only.  Since some header fields change 
    (e.g., time to live), this is recomputed and verified at each 
    point that the internet header is processed.  The checksum 
    algorithm is: 
 
      The checksum field is the 16 bit one's complement of the one's 
      complement sum of all 16 bit words in the header.  For purposes 
      of computing the checksum, the value of the checksum field is 
      zero. 
 
  Source Address:  32 bits 
 
    The source IP address.  See <a href="ch02_01.html">Chapter 2, "Delivering the Data"</a> for a 
    description of IP addresses. 
 
  Destination Address:  32 bits 
 
    The destination IP address.  See <a href="ch02_01.html">Chapter 2, "Delivering the Data"</a> for a description of IP 
    addresses. 
 
  Options:  variable 
 
    The options may or may not appear in datagrams, but they must be 
    implemented by all IP modules (host and gateways).  No options
    were used in any of the datagrams examined 

in <a href="ch13_01.html">Chapter 13, "
Troubleshooting TCP/IP"</a>.</pre></blockquote>

</div>








<hr width="684" align="left" />
<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="appf_01.html"><img alt="Previous" border="0" src="../gifs/txtpreva.gif" /></a></td><td align="center" valign="top" width="228"><a href="index.html"><img alt="Home" border="0" src="../gifs/txthome.gif" /></a></td><td align="right" valign="top" width="228"><a href="appg_02.html"><img alt="Next" border="0" src="../gifs/txtnexta.gif" /></a></td></tr><tr><td align="left" valign="top" width="228">F. Solaris httpd.conf File</td><td align="center" valign="top" width="228"><a href="index/index.html"><img alt="Book Index" border="0" src="../gifs/index.gif" /></a></td><td align="right" valign="top" width="228">G.2. TCP Segment Header</td></tr></table></div>
<hr width="684" align="left" />

<img alt="Library Navigation Links" border="0" src="../gifs/navbar.gif" usemap="#library-map" />
<p><p><font size="-1"><a href="copyrght.html">Copyright &copy; 2002</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map"><area shape="rect" coords="1,0,84,90" href="../index.html" /><area shape="rect" coords="86,-7,176,90" href="../ssh/index.html" /><area shape="rect" coords="178,0,265,101" href="index.html" /><area shape="rect" coords="266,0,333,90" href="../nfs/index.html" /><area shape="rect" coords="334,-1,429,93" href="../snmp/index.html" /><area shape="rect" coords="431,0,529,116" href="../tshoot/index.html" /><area shape="rect" coords="534,0,594,104" href="../dns/index.html" /><area shape="rect" coords="595,1,704,108" href="../fire/index-2.html" /></map>

</body>
<!-- Mirrored from nnc3.com/mags/Networking2/tcp/appg_01.htm by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 28 Jul 2017 17:53:21 GMT -->
</html>