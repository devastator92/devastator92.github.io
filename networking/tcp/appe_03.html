<html>
<!-- Mirrored from nnc3.com/mags/Networking2/tcp/appe_03.htm by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 28 Jul 2017 17:56:36 GMT -->
<head><title>m4 sendmail Macros (TCP/IP Network Administration, 3rd Edition)</title><link rel="stylesheet" type="text/css" href="../style/style1.css" />

<meta name="DC.Creator" content="Craig Hunt" /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="0596002971L" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="TCP/IP Network Administration, 3rd Edition" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">

<img alt="Book Home" border="0" src="gifs/smbanner.gif" usemap="#banner-map" /><map name="banner-map"><area shape="rect" coords="1,-2,616,66" href="index.html" alt="TCP/IP Network Administration" /><area shape="rect" coords="629,-11,726,25" href="jobjects/fsearch.html" alt="Search this book" /></map>

<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="appe_02.html"><img alt="Previous" border="0" src="../gifs/txtpreva.gif" /></a></td><td align="center" valign="top" width="228" /><td align="right" valign="top" width="228"><a href="appe_04.html"><img alt="Next" border="0" src="../gifs/txtnexta.gif" /></a></td></tr></table></div>



<h2 class="sect1">E.3. m4 sendmail Macros</h2>

<p>The sendmail distribution
<a name="INDEX-3664" />comes
<a name="INDEX-3665" /> <a name="INDEX-3666" /> <a name="INDEX-3667" />with several sample configuration files.
<a href="ch10_01.html">Chapter 10, "sendmail "</a> provides an example of how the
<em class="emphasis">tcpproto.mc</em> file is modified to produce a
configuration file suitable for a Linux system. The prototype files
are <tt class="literal">m4</tt> macro configuration files that produce
usable <em class="emphasis">sendmail.cf</em> files as output. The
prototype files are located in the
<em class="emphasis">sendmail/cf/cf</em> directory of the sendmail
distribution. Use those prototypes as examples of reasonable sendmail
configurations.
</p>

<p>All of the sendmail configuration files are composed of the following
<tt class="literal">m4</tt> macros: <a href="#FOOTNOTE-164">[164]</a>
</p><blockquote class="footnote"> <a name="FOOTNOTE-164" /><p>[164]By convention,
<tt class="literal">m4</tt> macros are shown in uppercase, and built-in
<tt class="literal">m4</tt> commands are shown in lowercase.</p>
</blockquote>

<dl>
<a name="INDEX-3668" /><dt><b><tt class="literal">divert</tt></b></dt>
<dd>
<p>Directs the output of the <tt class="literal">m4</tt> process.</p>
</dd>


<a name="INDEX-3669" /><dt><b><tt class="literal">dnl</tt></b></dt>
<dd>
<p>Deletes all characters up to the next newline.</p>
</dd>


<a name="INDEX-3670" /><dt><b><tt class="literal">VERSIONID</tt></b></dt>
<dd>
<p>Defines the version number of the <em class="emphasis">.mc</em> source
file. RCS or SCCS version numbers are commonly used. This command is
optional.
</p>
</dd>


<a name="INDEX-3671" /><dt><b><tt class="literal">OSTYPE</tt></b></dt>
<dd>
<p>Points to the <tt class="literal">m4</tt> source file that contains the
operating system-specific information for this configuration. This is
required.
</p>
</dd>


<a name="INDEX-3672" /><dt><b><tt class="literal">DOMAIN</tt></b></dt>
<dd>
<p>Points to the <tt class="literal">m4</tt> source file that contains
configuration information specific to this domain. This is optional.
</p>
</dd>


<a name="INDEX-3673" /><dt><b><tt class="literal">LOCAL_DOMAIN</tt></b></dt>
<dd>
<p>Defines the hostname aliases for the server.</p>
</dd>


<a name="INDEX-3674" /><dt><b><tt class="literal">CANONIFY_DOMAIN</tt></b></dt>
<dd>
<p>Defines domains that should be converted to canonical format even if
the nocanonify feature is set.
</p>
</dd>


<a name="INDEX-3675" /><dt><b><tt class="literal">CANONIFY_DOMAIN_FILE</tt></b></dt>
<dd>
<p>Identifies a file that contains the list of domains that should be
converted to canonical format even if the nocanonify feature is set.
</p>
</dd>


<a name="INDEX-3676" /><dt><b><tt class="literal">GENERICS_DOMAIN</tt></b></dt>
<dd>
<p>Defines domain names that should be processed through the
genericstable database.
</p>
</dd>


<a name="INDEX-3677" /><dt><b><tt class="literal">GENERICS_DOMAIN_FILE</tt></b></dt>
<dd>
<p>Identifies a file that contains the list of domains that should be
processed through the genericstable database.
</p>
</dd>


<a name="INDEX-3678" /><dt><b><tt class="literal">LDAPROUTE_DOMAIN</tt></b></dt>
<dd>
<p>Defines domains that should be routed according to directions found
in the LDAP directory.
</p>
</dd>


<a name="INDEX-3679" /><dt><b><tt class="literal">LDAPROUTE_DOMAIN_FILE</tt></b></dt>
<dd>
<p>Identifies a file that lists the domains that should be routed
according to directions found in the LDAP directory.
</p>
</dd>


<a name="INDEX-3680" /><dt><b><tt class="literal">RELAY_DOMAIN</tt></b></dt>
<dd>
<p>Defines the domains for which this server should relay mail.</p>
</dd>


<a name="INDEX-3681" /><dt><b><tt class="literal">RELAY_DOMAIN_FILE</tt></b></dt>
<dd>
<p>Identifies a file that lists the domains for which this server should
relay mail.
</p>
</dd>


<a name="INDEX-3682" /><dt><b><tt class="literal">VIRTUSER_DOMAIN</tt></b></dt>
<dd>
<p>Defines the virtual domains that should be processed through the
virtusertable.
</p>
</dd>


<a name="INDEX-3683" /><dt><b><tt class="literal">VIRTUSER_DOMAIN_FILE</tt></b></dt>
<dd>
<p>Identifies a file that lists the virtual domains that should be
processed through the virtusertable.
</p>
</dd>


<a name="INDEX-3684" /><dt><b><tt class="literal">FEATURE</tt></b></dt>
<dd>
<p>Points to an <tt class="literal">m4</tt> source file that defines an
optional sendmail feature. This is not required for
<tt class="literal">m4</tt> to process the <em class="emphasis">.mc</em> source
file, but many configurations have multiple
<tt class="literal">FEATURE</tt> entries.
</p>
</dd>


<a name="INDEX-3685" /><dt><b><tt class="literal">MASQUERADE_AS</tt></b></dt>
<dd>
<p>Defines the domain name used to masquerade outgoing mail.</p>
</dd>


<a name="INDEX-3686" /><dt><b><tt class="literal">MASQUERADE_DOMAIN</tt></b></dt>
<dd>
<p>Defines domains that should be masqueraded.</p>
</dd>


<a name="INDEX-3687" /><dt><b><tt class="literal">MASQUERADE_DOMAIN_FILE</tt></b></dt>
<dd>
<p>Identifies a file that lists the domains that should be masqueraded.</p>
</dd>


<a name="INDEX-3688" /><dt><b><tt class="literal">MASQUERADE_EXCEPTION</tt></b></dt>
<dd>
<p>Defines a host that should not be masqueraded even if the domain is
being masqueraded.
</p>
</dd>


<a name="INDEX-3689" /><dt><b><tt class="literal">EXPOSED_USER</tt></b></dt>
<dd>
<p>Defines usernames that prevent masquerading. If the user portion of
the address contains one of these names, the host portion of the
address is not masqueraded.
</p>
</dd>


<a name="INDEX-3690" /><dt><b><tt class="literal">HACK</tt></b></dt>
<dd>
<p>Points to an <tt class="literal">m4</tt> source file that contains
site-specific configuration information. This is a temporary
configuration used to fix a temporary problem. The use of HACK is
discouraged.
</p>
</dd>


<a name="INDEX-3691" /><dt><b><tt class="literal">SITE</tt></b></dt>
<dd>
<p>Identifies a locally connected UUCP host. </p>
</dd>


<a name="INDEX-3692" /><dt><b><tt class="literal">SITECONFIG</tt></b></dt>
<dd>
<p>Points to a source file that contains <tt class="literal">m4</tt> SITE
commands that define the UUCP sites connected to this host. The
format of the command is:
<tt class="literal">SITECONFIG(</tt><em class="replaceable">file, local-hostname,
class</em>), which reads the UUCP hostnames from
<em class="replaceable">file</em> into
<em class="replaceable">class</em>.
</p>
</dd>


<a name="INDEX-3693" /><dt><b><tt class="literal">UUCPSMTP</tt></b></dt>
<dd>
<p>Maps a UUCP hostname to an Internet hostname.</p>
</dd>


<a name="INDEX-3694" /><dt><b><tt class="literal">define</tt></b></dt>
<dd>
<p>Defines a local value. Most "defines" are done in the
<tt class="literal">m4</tt> source files that are called by the
<em class="emphasis">.mc</em> file, not in the <em class="emphasis">.mc</em>
file itself. It can define a value for a
<em class="emphasis">sendmail.cf</em> macro, option, or other command.
</p>
</dd>


<a name="INDEX-3695" /><dt><b><tt class="literal">undefine</tt></b></dt>
<dd>
<p>Clears the value set for a configuration parameter.</p>
</dd>


<a name="INDEX-3696" /><dt><b><tt class="literal">MAILER</tt></b></dt>
<dd>
<p>Points to an <tt class="literal">m4</tt> source file that contains the
configuration commands that define a sendmail mailer. At least one
AILER command must appear in the configuration file. Generally more
than one MAILER command is used.
</p>
</dd>


<a name="INDEX-3697" /><dt><b><tt class="literal">MAILER_DEFINITIONS</tt></b></dt>
<dd>
<p>Heads a section of <em class="emphasis">sendmail.cf</em> commands that
define a custom mailer.
</p>
</dd>


<a name="INDEX-3698" /><dt><b><tt class="literal">MODIFY_MAILER_FLAGS</tt></b></dt>
<dd>
<p>Overrides the flags defined for a mailer.</p>
</dd>


<a name="INDEX-3699" /><dt><b><tt class="literal">MAIL_FILTER</tt></b></dt>
<dd>
<p>Defines a mail filter.</p>
</dd>


<a name="INDEX-3700" /><dt><b><tt class="literal">INPUT_MAIL_FILTER</tt></b></dt>
<dd>
<p>Defines a mail filter and the variables necessary to call the filter.</p>
</dd>


<a name="INDEX-3701" /><dt><b><tt class="literal">DAEMON_OPTIONS</tt></b></dt>
<dd>
<p>Defines runtime options for the sendmail daemon.</p>
</dd>


<a name="INDEX-3702" /><dt><b><tt class="literal">TRUST_AUTH_MECH</tt></b></dt>
<dd>
<p>Defines a list of trusted authorization mechanisms.</p>
</dd>


<a name="INDEX-3703" /><dt><b><tt class="literal">LOCAL_RULE_</tt><em class="replaceable">n</em></b></dt>
<dd>
<p>Heads a section of code to be added to ruleset
<em class="replaceable">n</em>, where <em class="replaceable">n</em> is
0, 1, 2, or 3. The code that follows the
LOCAL_RULE_<em class="replaceable">n</em> command is composed of
standard <em class="emphasis">sendmail.cf</em> rewrite rules.<a href="#FOOTNOTE-165">[165]</a> The
LOCAL_RULE_<em class="replaceable">n</em> command is rarely used.
</p><blockquote class="footnote">
<a name="FOOTNOTE-165" /><p>[165]The one exception to this is the UUCPSMTP macro that can be
used in the local rule. </p> </blockquote>
</dd>


<a name="INDEX-3704" /><dt><b><tt class="literal">LOCAL_RULESETS</tt></b></dt>
<dd>
<p>Heads a section of code that defines a custom ruleset.</p>
</dd>


<a name="INDEX-3705" /><dt><b><tt class="literal">LOCAL_USER</tt></b></dt>
<dd>
<p>Defines usernames that should be exempted from relaying even when
local mail is being relayed.
</p>
</dd>


<a name="INDEX-3706" /><dt><b><tt class="literal">LOCAL_NET_CONFIG</tt></b></dt>
<dd>
<p>Heads a section of <em class="emphasis">sendmail.cf</em> code that defines
how mail destined for the local host is processed.
</p>
</dd>


<a name="INDEX-3707" /><dt><b><tt class="literal">LOCAL_CONFIG</tt></b></dt>
<dd>
<p>Heads a section of code to be added to the
<em class="emphasis">sendmail.cf</em> file after the local information
section and before the rewrite rules. The section of code contains
standard <em class="emphasis">sendmail.cf</em> configuration commands.
This macro is rarely used.
</p>
</dd>

</dl>

<p>The built-in <tt class="literal">m4</tt> commands shown above -- those
listed in lowercase characters -- are divided between those that
control the flow of output and those that set macro values. The two
commands that control the flow of output are <tt class="literal">dnl</tt>
and <tt class="literal">divert</tt>. Text following the
<tt class="literal">dnl</tt> command is not sent to the output file. Thus
it is used at the beginning of a line on a comment. The
<tt class="literal">divert(-1)</tt> command sends output to the
"bit-bucket" and marks the start of a block of comments.
The <tt class="literal">divert(0)</tt> command directs output to standard
<tt class="literal">m4</tt> processing. In addition to
<tt class="literal">-1</tt> and <tt class="literal">0</tt>, the
<tt class="literal">divert</tt> command accepts nine other numeric
arguments: the values 1 to 9. These other values are used in the
<tt class="literal">m4</tt> macro source code to direct data to various
parts of the <em class="emphasis">sendmail.cf</em> file. You will not use
these values in your own configuration. Instead you will use other
commands to direct data to specific parts of the
<em class="emphasis">sendmail.cf</em> file.
</p>

<p>The commands LOCAL_CONFIG, LOCAL_USER, LOCAL_RULESETS,
AILER_DEFINITION, LOCAL_NET_CONFIG, and LOCAL_RULE allow you to send
data to various parts of the <em class="emphasis">sendmail.cf</em> file
without using the various <tt class="literal">divert</tt> values directly.
Commands such as LOCAL_CONFIG and MAILER_DEFINITION mark the start of
raw <em class="emphasis">sendmail.cf</em> code that should be included in
some part of the output file. These commands make it possible for you
to customize the <em class="emphasis">sendmail.cf</em> file in any
possible way.
</p>

<p>The built-in <tt class="literal">m4</tt> commands <tt class="literal">define</tt>
and <tt class="literal">undefine</tt> set macro values.
<tt class="literal">define</tt> sets a variable to a value and
<tt class="literal">undefine</tt> resets it to its default value. More
configuration parameters can be controlled through the
<tt class="literal">define</tt> command than through any other, and,
correspondingly, more of this appendix is dedicated to
<tt class="literal">define</tt> parameters than to anything else.
</p>

<p>Almost half of the <tt class="literal">m4</tt> macros act like the define
command and simply set a parameter to a value. MASQUERADE_AS,
ASQUERADE_DOMAIN, RELAY_DOMAIN, and VIRTUSER_DOMAIN_FILE are all
examples of commands used to set variables.
</p>

<p>The TRUST_AUTH_MECH macro is a good example of a macro that
complements a define. As you'll see in <a href="appe_03.html#tcp3-APP-E-SECT-3.1">Section E.3.1, "define"</a> of
this appendix, the parameter confAUTH_MECHANISMS can be used to
define the trusted authentication mechanisms your server advertises
to other servers. The TRUST_AUTH_MECH macro is the inverse of this.
It identifies the mechanism that your server accepts from other
servers. The same list of keywords used to configure the
confAUTH_MECHANISMS parameter in <a href="appe_03.html#tcp3-APP-E-SECT-3.1">Section E.3.1, "define"</a> can
be used to configure TRUST_AUTH_MECHANISMS.
</p>

<p>The macro names OSTYPE, DOMAIN, FEATURE, MAILER, HACK, and SITECONFIG
are all names of subdirectories within the <em class="emphasis">cf</em>
directory. The value passed to each of these macros is the name of a
file within the specified directory. For example, the command
FEATURE(nouucp) tells <tt class="literal">m4</tt> to load the file
<em class="emphasis">nouucp.m4</em> from the <em class="emphasis">ostype</em>
directory and process the <tt class="literal">m4</tt> source code found
there. The <em class="emphasis">.m4</em> source files pointed to by the
OSTYPE, DOMAIN, FEATURE, and MAILER commands are built primarily from
<tt class="literal">define</tt> and FEATURE commands.
</p>

<p>Two of the macros that are also directory names, SITECONFIG and HACK,
are rarely used. SITECONFIG points to a source file that contains
SITE macros that define the UUCP sites connected to the local host.
You create the file containing the SITE macros yourself and then
invoke it with the SITECONFIG command. These commands, along with
UUCPSMTP, are obsolete and maintained only for backward
compatibility.
</p>

<p>The HACK macro points to an <tt class="literal">m4</tt> source file that
contains a temporary site-specific fix to a sendmail problem. You
create the file in the <em class="emphasis">hack</em> directory and then
use the HACK command to add that file to the configuration. The use
of hacks is discouraged and is generally unnecessary.
</p>

<p>The following section provides additional information about the
OSTYPE, DOMAIN, FEATURE, and MAILER macros and details of the various
commands used to build the <tt class="literal">m4</tt> source files they
call. <a href="ch10_01.html">Chapter 10, "sendmail "</a> provides an example of building a
custom DOMAIN macro source file. The source files can contain any of
the macros we have already mentioned as well as the additional ones
documented below. The macro configuration (<em class="emphasis">.mc</em>)
file also can contain any of the commands documented below. In fact,
pretty much any macro can appear in any file.
</p>

<p>To bring some order out of this chaos, the commands are organized
according to the files they are most likely to appear in, which is
similar to the organization found in the documentation that comes
with the sendmail distribution. Just remember, actual implementation
files may have a different organization. We start by examining the
<tt class="literal">define</tt> macros and the FEATURE macros that are the
primary <a name="INDEX-3708" /> <a name="INDEX-3709" /> <a name="INDEX-3710" />building blocks of all the other
files.
</p>

<a name="tcp3-APP-E-SECT-3.1" /><div class="sect2">
<h3 class="sect2">E.3.1. define</h3>

<p>The syntax of the <tt class="literal">define</tt><a name="INDEX-3711" /> <a name="INDEX-3712" />
<a name="INDEX-3713" />macro
is:
</p>

<blockquote><pre class="code"><tt class="userinput"><b>define(</b></tt>`<em class="replaceable">parameter</em>'<b class="emphasis-bold">,</b> `<em class="replaceable">value</em>')</pre></blockquote>

<p>where <em class="replaceable">parameter</em> is the keyword name of a
sendmail configuration parameter and <em class="replaceable">value</em>
is the value assigned to that configuration parameter. The
<em class="replaceable">parameter</em> and the
<em class="replaceable">value</em> are normally enclosed in single
quotes to prevent inappropriate macro expansion. These are not
balanced quotes. The opening quote is a grave sign (`), and the
closing quote is an apostrophe (<tt class="literal">'</tt>).
</p>

<p>Many of the configuration parameters that can be set using the
<tt class="literal">define</tt> command are shown below. Most of the
parameters correspond to sendmail options, macros, or classes. The
name of the option, macro, or class set by the parameter is listed in
the parameter description enclosed in square brackets
(<tt class="literal">[]</tt>). Macro names begin with a dollar sign
(<tt class="literal">$j</tt>), class names begin with a dollar sign and an
equals sign (<tt class="literal">$=w</tt>), and options are shown with long
option names (<tt class="literal">SingleThreadDelivery</tt>). To find out
more about these parameters, see the descriptions of the macros,
options, and classes they represent that are provided later in this
appendix.
</p>

<p>Because many <tt class="literal">define</tt> parameters are equivalent to
options, macros, and classes, the command:
</p>

<blockquote><pre class="code">define(`confDOMAIN_NAME', `rodent.wrotethebook.com')</pre></blockquote>

<p>placed in an <tt class="literal">m4</tt> source file has the same effect as:</p>

<blockquote><pre class="code">Djrodent.wrotethebook.com</pre></blockquote>

<p>placed directly in the <em class="emphasis">sendmail.cf</em> file. If you
compile and install a new version of sendmail, build your
configuration with <tt class="literal">m4</tt> and set values for macros,
classes, and options with the <tt class="literal">m4 define</tt> macro.
</p>

<p>The list of <tt class="literal">define</tt> <a name="INDEX-3714" />parameters is quite long. However,
because most of the parameters default to a reasonable value, they do
not have to be explicitly set in the <tt class="literal">m4</tt> source
file. The default value of each parameter is shown in the
listing -- unless there is no default.
</p>

<dl>
<dt><b><tt class="literal">confMAILER_NAME</tt></b></dt>
<dd>
<p>Default is MAILER-DAEMON. The sender name used on error messages. [$n]</p>
</dd>


<dt><b><tt class="literal">confDOMAIN_NAME</tt></b></dt>
<dd>
<p>The full hostname. [$j]</p>
</dd>


<dt><b><tt class="literal">confCF_VERSION</tt></b></dt>
<dd>
<p>The configuration file's version number. [$Z]</p>
</dd>


<dt><b><tt class="literal">confFROM_HEADER</tt></b></dt>
<dd>
<p>Default is <tt class="literal">$?x$x &lt;$g&gt;$|$g$.</tt> . The From:
header format.
</p>
</dd>


<dt><b><tt class="literal">confRECEIVED_HEADER</tt></b></dt>
<dd>
<p>Default is <tt class="literal">$?sfrom $s $.$?_($?s$|from $.$_) $.by $j
($v/$Z)$?r with $r$. id</tt> <tt class="literal">$i$?u for $u$.;
$b</tt> . The Received: header format.
</p>
</dd>


<dt><b><tt class="literal">confCW_FILE</tt></b></dt>
<dd>
<p>Default is <em class="emphasis">/etc/sendmail.cw</em>. The file of local
host aliases. [$=w]
</p>
</dd>


<dt><b><tt class="literal">confCT_FILE</tt></b></dt>
<dd>
<p>Default is <em class="emphasis">/etc/sendmail.ct</em>. The file of trusted
usernames. [$=t]
</p>
</dd>


<dt><b><tt class="literal">confTRUSTED_USERS</tt></b></dt>
<dd>
<p>Trusted usernames to add to <em class="emphasis">root</em>,
<em class="emphasis">uucp</em>, and <em class="emphasis">daemon</em>.
</p>
</dd>


<dt><b><tt class="literal">confSMTP_MAILER</tt></b></dt>
<dd>
<p>Default is esmtp. The mailer used for SMTP connections; must be smtp,
smtp8, or esmtp.
</p>
</dd>


<dt><b><tt class="literal">confUUCP_MAILER</tt></b></dt>
<dd>
<p>Default is uucp-old. The default UUCP mailer.</p>
</dd>


<dt><b><tt class="literal">confLOCAL_MAILER</tt></b></dt>
<dd>
<p>Default is local. The mailer used for local connections.</p>
</dd>


<dt><b><tt class="literal">confRELAY_MAILER</tt></b></dt>
<dd>
<p>Default is relay. The default mailer name for relaying.</p>
</dd>


<dt><b><tt class="literal">confSEVEN_BIT_INPUT</tt></b></dt>
<dd>
<p>Default is False. Forces input to seven bits. [SevenBitInput]</p>
</dd>


<dt><b><tt class="literal">confEIGHT_BIT_HANDLING</tt></b></dt>
<dd>
<p>Default is pass8. Defines how 8-bit data is handled. [EightBitMode]</p>
</dd>


<dt><b><tt class="literal">confALIAS_WAIT</tt></b></dt>
<dd>
<p>Default is 10m. The amount of time to wait for alias file rebuild.
[AliasWait]
</p>
</dd>


<dt><b><tt class="literal">confMIN_FREE_BLOCKS</tt></b></dt>
<dd>
<p>Default is 100. The minimum number of free blocks on the queue
filesystem that must be available to accept SMTP mail.
[MinFreeBlocks]
</p>
</dd>


<dt><b><tt class="literal">confMAX_MESSAGE_SIZE</tt></b></dt>
<dd>
<p>Default is infinite. The maximum message size. [MaxMessageSize]</p>
</dd>


<dt><b><tt class="literal">confBLANK_SUB</tt></b></dt>
<dd>
<p>The character used to replace unquoted blank characters in email
addresses. [BlankSub]
</p>
</dd>


<dt><b><tt class="literal">confCON_EXPENSIVE</tt></b></dt>
<dd>
<p>Default is False. Tells system to hold mail bound for mailers that
have the <tt class="literal">e</tt> flag set until the next queue run.
[HoldExpensive]
</p>
</dd>


<dt><b><tt class="literal">confCHECKPOINT_INTERVAL</tt></b></dt>
<dd>
<p>Default is 10. Tells system to checkpoint the queue files after this
number of queued items are processed. [CheckpointInterval]
</p>
</dd>


<dt><b><tt class="literal">confDELIVERY_MODE</tt></b></dt>
<dd>
<p>Default is background. Sets the default delivery mode. [DeliveryMode]</p>
</dd>


<dt><b><tt class="literal">confAUTO_REBUILD</tt></b></dt>
<dd>
<p>Default is False. Automatically rebuilds alias file.
[AutoRebuildAliases]
</p>
</dd>


<dt><b><tt class="literal">confERROR_MODE</tt></b></dt>
<dd>
<p>Default is print. Defines how errors are handled. [ErrorMode]</p>
</dd>


<dt><b><tt class="literal">confERROR_MESSAGE</tt></b></dt>
<dd>
<p>Points to a file containing a message that is prepended to error
messages. [ErrorHeader]
</p>
</dd>


<dt><b><tt class="literal">confSAVE_FROM_LINES</tt></b></dt>
<dd>
<p>Tells system not to discard Unix From: lines. They are discarded if
this is not set. [SaveFromLine]
</p>
</dd>


<dt><b><tt class="literal">confTEMP_FILE_MODE</tt></b></dt>
<dd>
<p>Default is 0600. File mode for temporary files. [TempFileMode]</p>
</dd>


<dt><b><tt class="literal">confMATCH_GECOS</tt></b></dt>
<dd>
<p>Tells system to match the email username to the GECOS field. This
match is not done if this is not set. [MatchGECOS]
</p>
</dd>


<dt><b><tt class="literal">confMAX_HOP</tt></b></dt>
<dd>
<p>Default is 25. The counter used to determine mail loops. [MaxHopCount]</p>
</dd>


<dt><b><tt class="literal">confIGNORE_DOTS</tt></b></dt>
<dd>
<p>Default is False. Tells system to ignore dots in incoming messages.
[IgnoreDots]
</p>
</dd>


<dt><b><tt class="literal">confBIND_OPTS</tt></b></dt>
<dd>
<p>Default is undefined. Sets options for DNS resolver. [ResolverOptions]</p>
</dd>


<dt><b><tt class="literal">confMIME_FORMAT_ERRORS</tt></b></dt>
<dd>
<p>Default is True. Tells system to send MIME-encapsulated error
messages. [SendMimeErrors]
</p>
</dd>


<dt><b><tt class="literal">confFORWARD_PATH</tt></b></dt>
<dd>
<p>Default is <em class="emphasis">$z/.forward.$w:$z/.forward</em>. Places to
search for <em class="emphasis">.forward</em> files. [ForwardPath]
</p>
</dd>


<dt><b><tt class="literal">confMCI_CACHE_SIZE</tt></b></dt>
<dd>
<p>Default is 2. The number of open connections that can be cached.
[ConnectionCacheSize]
</p>
</dd>


<dt><b><tt class="literal">confMCI_CACHE_TIMEOUT</tt></b></dt>
<dd>
<p>Default is 5m. The amount of time inactive open connections are held
in the cache. [ConnectionCacheTimeout]
</p>
</dd>


<dt><b><tt class="literal">confHOST_STATUS_DIRECTORY</tt></b></dt>
<dd>
<p>Directory in which host status is saved. [HostStatusDirectory]</p>
</dd>


<dt><b><tt class="literal">confUSE_ERRORS_TO</tt></b></dt>
<dd>
<p>Default is False. Delivers errors using the Errors-To: header.
[UseErrorsTo]
</p>
</dd>


<dt><b><tt class="literal">confLOG_LEVEL</tt></b></dt>
<dd>
<p>Default is 9. Level of detail for the log file. [LogLevel]</p>
</dd>


<dt><b><tt class="literal">confME_TOO</tt></b></dt>
<dd>
<p>Default is False. Sends a copy to the sender. [MeToo]</p>
</dd>


<dt><b><tt class="literal">confCHECK_ALIASES</tt></b></dt>
<dd>
<p>Default is False. Looks up every alias during alias file build.
[CheckAliases]
</p>
</dd>


<dt><b><tt class="literal">confOLD_STYLE_HEADERS</tt></b></dt>
<dd>
<p>Default is True. Treats headers without special characters as old
style. [OldStyleHeaders]
</p>
</dd>


<dt><b><tt class="literal">confDAEMON_OPTIONS</tt></b></dt>
<dd>
<p>SMTP daemon options. [DaemonPortOptions]</p>
</dd>


<dt><b><tt class="literal">confPRIVACY_FLAGS</tt></b></dt>
<dd>
<p>Default is authwarnings. These flags restrict the use of some mail
commands. [PrivacyOptions]
</p>
</dd>


<dt><b><tt class="literal">confCOPY_ERRORS_TO</tt></b></dt>
<dd>
<p>Address to receive copies of error messages. [PostmasterCopy]</p>
</dd>


<dt><b><tt class="literal">confQUEUE_FACTOR</tt></b></dt>
<dd>
<p>Default is 600000. Used to calculate when a loaded system should
queue mail instead of attempting delivery. [QueueFactor]
</p>
</dd>


<dt><b><tt class="literal">confDONT_PRUNE_ROUTES</tt></b></dt>
<dd>
<p>Default is False. Don't prune route-addresses to the minimum
possible. [DontPruneRoutes]
</p>
</dd>


<dt><b><tt class="literal">confSAFE_QUEUE</tt></b></dt>
<dd>
<p>Create a queue file, then attempt delivery. This is not done unless
this parameter is specified. [SuperSafe]
</p>
</dd>


<dt><b><tt class="literal">confTO_INITIAL</tt></b></dt>
<dd>
<p>Default is 5m. Maximum time to wait for the initial connect response.
[Timeout.initial]
</p>
</dd>


<dt><b><tt class="literal">confTO_CONNECT</tt></b></dt>
<dd>
<p>Default is 0. Maximum time to wait for a connect to complete.
[Timeout.connect]
</p>
</dd>


<dt><b><tt class="literal">confTO_ICONNECT</tt></b></dt>
<dd>
<p>Maximum time to wait for the very first connect attempt to a host.
[Timeout.iconnect]
</p>
</dd>


<dt><b><tt class="literal">confTO_HELO</tt></b></dt>
<dd>
<p>Default is 5m. Maximum time to wait for a HELO or EHLO response.
[Timeout.helo]
</p>
</dd>


<dt><b><tt class="literal">confTO_MAIL</tt></b></dt>
<dd>
<p>Default is 10m. Maximum time to wait for a MAIL command response.
[Timeout.mail]
</p>
</dd>


<dt><b><tt class="literal">confTO_RCPT</tt></b></dt>
<dd>
<p>Default is 1h. Maximum time to wait for a RCPT command response.
[Timeout.rcpt]
</p>
</dd>


<dt><b><tt class="literal">confTO_DATAINIT</tt></b></dt>
<dd>
<p>Default is 5m. Maximum time to wait for a DATA command response.
[Timeout.datainit]
</p>
</dd>


<dt><b><tt class="literal">confTO_DATABLOCK</tt></b></dt>
<dd>
<p>Default is 1h. Maximum time to wait for a block during DATA phase.
[Timeout.datablock]
</p>
</dd>


<dt><b><tt class="literal">confTO_DATAFINAL</tt></b></dt>
<dd>
<p>Default is 1h. Maximum time to wait for a response to the terminating
".". [Timeout.datafinal]
</p>
</dd>


<dt><b><tt class="literal">confTO_RSET</tt></b></dt>
<dd>
<p>Default is 5m. Maximum time to wait for a RSET command response.
[Timeout.rset]
</p>
</dd>


<dt><b><tt class="literal">confTO_QUIT</tt></b></dt>
<dd>
<p>Default is 2m. Maximum time to wait for a QUIT command response.
[Timeout.quit]
</p>
</dd>


<dt><b><tt class="literal">confTO_MISC</tt></b></dt>
<dd>
<p>Default is 2m. Maximum time to wait for other SMTP command responses.
[Timeout.misc]
</p>
</dd>


<dt><b><tt class="literal">confTO_COMMAND</tt></b></dt>
<dd>
<p>Default is 1h. Maximum time to wait for a command to be issued.
[Timeout.command]
</p>
</dd>


<dt><b><tt class="literal">confTO_IDENT</tt></b></dt>
<dd>
<p>Default is 30s. Maximum time to wait for an IDENT query response.
[Timeout.ident]
</p>
</dd>


<dt><b><tt class="literal">confTO_FILEOPEN</tt></b></dt>
<dd>
<p>Default is 60s. Maximum time to wait for a file open.
[Timeout.fileopen]
</p>
</dd>


<dt><b><tt class="literal">confTO_QUEUERETURN</tt></b></dt>
<dd>
<p>Default is 5d. Time until a message is returned from the queue as
undeliverable. [Timeout.queuereturn]
</p>
</dd>


<dt><b><tt class="literal">confTO_QUEUERETURN_NORMAL</tt></b></dt>
<dd>
<p>"Undeliverable" timeout for normal priority messages.
[Timeout.queuereturn.normal]
</p>
</dd>


<dt><b><tt class="literal">confTO_QUEUERETURN_URGENT</tt></b></dt>
<dd>
<p>"Undeliverable" timeout for urgent priority messages.
[Timeout.queuereturn.urgent]
</p>
</dd>


<dt><b><tt class="literal">confTO_QUEUERETURN_NONURGENT</tt></b></dt>
<dd>
<p>"Undeliverable" timeout for low priority messages.
[Timeout.queuereturn.non-urgent]
</p>
</dd>


<dt><b><tt class="literal">confTO_QUEUEWARN</tt></b></dt>
<dd>
<p>Default is 4h. Time until a "still queued" warning is
sent about a message. [Timeout.queuewarn]
</p>
</dd>


<dt><b><tt class="literal">confTO_QUEUEWARN_NORMAL</tt></b></dt>
<dd>
<p>Time until a "still queued" warning is sent for normal
priority messages. [Timeout.queuewarn.normal]
</p>
</dd>


<dt><b><tt class="literal">confTO_QUEUEWARN_URGENT</tt></b></dt>
<dd>
<p>Time until a "still queued" warning is sent for urgent
priority messages. [Timeout.queuewarn.urgent]
</p>
</dd>


<dt><b><tt class="literal">confTO_QUEUEWARN_NONURGENT</tt></b></dt>
<dd>
<p>Time until a "still queued" warning is sent for low
priority messages. [Timeout.queuewarn.non-urgent]
</p>
</dd>


<dt><b><tt class="literal">confTO_HOSTSTATUS</tt></b></dt>
<dd>
<p>Default is 30m. Time for stale host status information.
[Timeout.hoststatus]
</p>
</dd>


<dt><b><tt class="literal">confTIME_ZONE</tt></b></dt>
<dd>
<p>Default is USE_SYSTEM. Sets time zone from the system (USE_SYSTEM) or
the TZ variable (USE_TZ). [TimeZoneSpec]
</p>
</dd>


<dt><b><tt class="literal">confDEF_USER_ID</tt></b></dt>
<dd>
<p>Default is 1:1. Default user ID and group ID. [DefaultUser]</p>
</dd>


<dt><b><tt class="literal">confUSERDB_SPEC</tt></b></dt>
<dd>
<p>Path of the user database file. [UserDatabaseSpec]</p>
</dd>


<dt><b><tt class="literal">confFALLBACK_MX</tt></b></dt>
<dd>
<p>Backup MX host. [FallbackMXhost]</p>
</dd>


<dt><b><tt class="literal">confTRY_NULL_MX_LIST</tt></b></dt>
<dd>
<p>Default is False. Instructs system to connect to the remote host
directly if the MX points to the local host. [TryNullMXList]
</p>
</dd>


<dt><b><tt class="literal">confQUEUE_LA</tt></b></dt>
<dd>
<p>Default is 8. Sends mail directly to the queue when this load average
is reached. [QueueLA]
</p>
</dd>


<dt><b><tt class="literal">confREFUSE_LA</tt></b></dt>
<dd>
<p>Default is 12. Refuses incoming SMTP connections at this load
average. [RefuseLA]
</p>
</dd>


<dt><b><tt class="literal">confMAX_DAEMON_CHILDREN</tt></b></dt>
<dd>
<p>If set, refuses connection when this number of children is reached.
[MaxDaemonChildren]
</p>
</dd>


<dt><b><tt class="literal">confCONNECTION_RATE_THROTTLE</tt></b></dt>
<dd>
<p>Maximum number of connections permitted per second, if set.
[ConnectionRateThrottle]
</p>
</dd>


<dt><b><tt class="literal">confWORK_RECIPIENT_FACTOR</tt></b></dt>
<dd>
<p>Default is 30000. Factor used to lower the priority of a job for each
additional recipient. [RecipientFactor]
</p>
</dd>


<dt><b><tt class="literal">confSEPARATE_PROC</tt></b></dt>
<dd>
<p>Default is False. Delivers messages with separate processes.
[ForkEachJob]
</p>
</dd>


<dt><b><tt class="literal">confWORK_CLASS_FACTOR</tt></b></dt>
<dd>
<p>Default is 1800. The factor used to favor a high-priority job.
[ClassFactor]
</p>
</dd>


<dt><b><tt class="literal">confWORK_TIME_FACTOR</tt></b></dt>
<dd>
<p>Default is 90000. Factor used to lower the priority of a job for each
delivery attempt. [RetryFactor]
</p>
</dd>


<dt><b><tt class="literal">confQUEUE_SORT_ORDER</tt></b></dt>
<dd>
<p>Default is Priority. Sorts queue by Priority or Host order.
[QueueSortOrder]
</p>
</dd>


<dt><b><tt class="literal">confMIN_QUEUE_AGE</tt></b></dt>
<dd>
<p>Default is 0. Minimum time a job must be queued. [MinQueueAge]</p>
</dd>


<dt><b><tt class="literal">confDEF_CHAR_SET</tt></b></dt>
<dd>
<p>Default is unknown-8bit. Default character set for unlabeled 8-bit
IME data. [DefaultCharSet]
</p>
</dd>


<dt><b><tt class="literal">confSERVICE_SWITCH_FILE</tt></b></dt>
<dd>
<p>Default is <em class="emphasis">/etc/service.switch</em>. The path to the
service switch file. [ServiceSwitchFile]
</p>
</dd>


<dt><b><tt class="literal">confHOSTS_FILE</tt></b></dt>
<dd>
<p>Default is <em class="emphasis">/etc/hosts</em>. The path to the hostnames
file. [HostsFile]
</p>
</dd>


<dt><b><tt class="literal">confDIAL_DELAY</tt></b></dt>
<dd>
<p>Default is 0s. Amount of time to delay before retrying a "dial
on demand" connection. 0s means "don't
retry." [DialDelay]
</p>
</dd>


<dt><b><tt class="literal">confNO_RCPT_ACTION</tt></b></dt>
<dd>
<p>Default is none. Handling for mail with no recipient headers: do
nothing (none); add To: header (add-to); add Apparently-To: header
(add-apparently-to); add a Bcc: header (add-bcc); add "To:
undisclosed-recipients" header (add-to-undisclosed).
[NoRecipientAction]
</p>
</dd>


<dt><b><tt class="literal">confSAFE_FILE_ENV</tt></b></dt>
<dd>
<p>Default is undefined. <tt class="literal">chroot( )</tt> to this directory
before writing files. [SafeFileEnvironment]
</p>
</dd>


<dt><b><tt class="literal">confCOLON_OK_IN_ADDR</tt></b></dt>
<dd>
<p>Default is True. Treats colons as regular characters in addresses.
[ColonOkInAddr]
</p>
</dd>


<dt><b><tt class="literal">confMAX_QUEUE_RUN_SIZE</tt></b></dt>
<dd>
<p>Default is 0. Limits the number of entries processed in a queue run.
means no limit. [MaxQueueRunSize]
</p>
</dd>


<dt><b><tt class="literal">confDONT_EXPAND_CNAMES</tt></b></dt>
<dd>
<p>Default is False. If true, don't convert nicknames to canonical
names. False means to convert. [DontExpandCnames]
</p>
</dd>


<dt><b><tt class="literal">confFROM_LINE</tt></b></dt>
<dd>
<p>Default is <tt class="literal">From $g $d</tt>. The format of the Unix
From: line. [UnixFromLine]
</p>
</dd>


<dt><b><tt class="literal">confOPERATORS</tt></b></dt>
<dd>
<p>Default is <tt class="literal">.:%@!^/[]+</tt>. Address operator
characters. [OperatorChars]
</p>
</dd>


<dt><b><tt class="literal">confSMTP_LOGIN_MSG</tt></b></dt>
<dd>
<p>Default is <tt class="literal">$j sendmail $v/$Z; $b</tt>. The SMTP
greeting message. [SmtpGreetingMessage]
</p>
</dd>


<dt><b><tt class="literal">confDONT_INIT_GROUPS</tt></b></dt>
<dd>
<p>Default is False. If true, disable the initgroups(3) routine. False
means to use the initgroups(3) routine. [DontInitGroups]
</p>
</dd>


<dt><b><tt class="literal">confUNSAFE_GROUP_WRITES</tt></b></dt>
<dd>
<p>Default is False. If true, don't reference programs or files
from group-writable
<tt class="literal">:</tt><em class="emphasis">include</em><tt class="literal">:</tt>
and <em class="emphasis">.forward</em> files. [UnsafeGroupWrites]
</p>
</dd>


<dt><b><tt class="literal">confDOUBLE_BOUNCE_ADDRESS</tt></b></dt>
<dd>
<p>Default is postmaster. When errors occur sending an error message,
send the second error message to this address. [DoubleBounceAddress]
</p>
</dd>


<dt><b><tt class="literal">confRUN_AS_USER</tt></b></dt>
<dd>
<p>Default is undefined. Run as this user to read and deliver mail.
[RunAsUser]
</p>
</dd>


<dt><b><tt class="literal">confSINGLE_THREAD_DELIVERY</tt></b></dt>
<dd>
<p>Default is False. Force single-threaded mail delivery when set with
HostStatusDirectory. [SingleThreadDelivery]
</p>
</dd>


<dt><b><tt class="literal">confALLOW_BOGUS_HELO</tt></b></dt>
<dd>
<p>Defines normally illegal special characters that will be allowed in
the DNS hostname on a HELO or EHLO command line. [AllowBogusHELO]
</p>
</dd>


<dt><b><tt class="literal">confAUTH_MECHANISMS</tt></b></dt>
<dd>
<p>Defines a space-separated list of authentication mechanisms that will
be advertised by this server. Possible values are GSSAPI,
KERBEROS_V4, DIGEST-MD5, and CRAM-MD5. [AuthMechanisms]
</p>
</dd>


<dt><b><tt class="literal">confAUTH_OPTIONS</tt></b></dt>
<dd>
<p>The <tt class="literal">A</tt>UTH= argument is added to the MAIL FROM
header only when authentication succeeds if this is set to A.
[AuthOptions]
</p>
</dd>


<dt><b><tt class="literal">confCACERT</tt></b></dt>
<dd>
<p>Identifies a file containing a cryptographic certificate from a
certificate authority. [CACERTFile]
</p>
</dd>


<dt><b><tt class="literal">confCACERT_PATH</tt></b></dt>
<dd>
<p>Defines the path to the directory that contains the cryptographic
certificates. [CACERTPath]
</p>
</dd>


<dt><b><tt class="literal">confCLIENT_CERT</tt></b></dt>
<dd>
<p>Identifies the file containing the cryptographic certificate sendmail
uses when it acts as client. [ClientCertFile]
</p>
</dd>


<dt><b><tt class="literal">confCLIENT_KEY</tt></b></dt>
<dd>
<p>Identifies the file containing the private key associated with the
certificate used when sendmail acts as a client. [ClientKeyFile]
</p>
</dd>


<dt><b><tt class="literal">confCLIENT_OPTIONS</tt></b></dt>
<dd>
<p>Defines the port options used for outbound SMTP client connections.
[ClientPortOptions]
</p>
</dd>


<dt><b><tt class="literal">confCONNECT_ONLY_TO</tt></b></dt>
<dd>
<p>Limits connectivity. Used for testing by the sendmail developers.
This is not used in production environments. [ConnectOnlyTo]
</p>
</dd>


<dt><b><tt class="literal">confCONTROL_SOCKET_NAME</tt></b></dt>
<dd>
<p>Defines a socket used for managing the sendmail daemon.
[ControlSocketName]
</p>
</dd>


<dt><b><tt class="literal">confCR_FILE</tt></b></dt>
<dd>
<p>Points to the file that lists the hosts for which this server will
relay mail. Defaults to <em class="emphasis">/etc/mail/relay-domains</em>.
[$=R]
</p>
</dd>


<dt><b><tt class="literal">confDEAD_LETTER_DROP</tt></b></dt>
<dd>
<p>Defines the file where failed messages that could not be returned to
the sender or sent to the postmaster are saved. [DeadLetterDrop]
</p>
</dd>


<dt><b><tt class="literal">confDEF_AUTH_INFO</tt></b></dt>
<dd>
<p>Identifies the file that contains the authentication information used
for outbound connections. [DefaultAuthInfo]
</p>
</dd>


<dt><b><tt class="literal">confDF_BUFFER_SIZE</tt></b></dt>
<dd>
<p>Defines the maximum amount of buffer memory that will be used before
a disk file is used. [DataFileBufferSize]
</p>
</dd>


<dt><b><tt class="literal">confDH_PARAMETERS</tt></b></dt>
<dd>
<p>Identifies the file that contains the DH parameters for the DSA/DH
digital signature algorithm. [DHParameters]
</p>
</dd>


<dt><b><tt class="literal">confDONT_BLAME_SENDMAIL</tt></b></dt>
<dd>
<p>Tells sendmail to perform certain file security checks. By default,
all checks are performed. This option weakens the security of your
server. See the DontBlameSendmail option later in this appendix for a
full list of the values that can be used with this parameter.
[DontBlameSendmail]
</p>
</dd>


<dt><b><tt class="literal">confDONT_PROBE_INTERFACES</tt></b></dt>
<dd>
<p>Tells sendmail not to automatically accept the addresses of the
server's network interfaces as valid addresses if set to true.
Defaults to false. [DontProbeInterface]
</p>
</dd>


<dt><b><tt class="literal">confEBINDIR</tt></b></dt>
<dd>
<p>Defines the directory where executables for
<tt class="literal">FEATURE(`local_lmtp')</tt> and
<tt class="literal">FEATURE(`smrsh')</tt> are stored. The default directory
is <em class="emphasis">/usr/libexec</em>.
</p>
</dd>


<dt><b><tt class="literal">confLDAP_DEFAULT_SPEC</tt></b></dt>
<dd>
<p>Defines the defaults used for LDAP databases unless specifically
overridden by a <tt class="literal">K</tt> command for an individual map.
[LDAPDefaultSpec]
</p>
</dd>


<dt><b><tt class="literal">confMAX_ALIAS_RECURSION</tt></b></dt>
<dd>
<p>Aliases can refer to other aliases. This sets the maximum depth that
alias references can be nested. The default is 10.
[MaxAliasRecursion]
</p>
</dd>


<dt><b><tt class="literal">confMAX_HEADERS_LENGTH</tt></b></dt>
<dd>
<p>Defines the maximum length of the sum of all headers in bytes.
[MaxHeadersLength]
</p>
</dd>


<dt><b><tt class="literal">confMAX_MIME_HEADER_LENGTH</tt></b></dt>
<dd>
<p>Defines the maximum length of MIME headers. [MaxMimeHeaderLength]</p>
</dd>


<dt><b><tt class="literal">confMAX_RCPTS_PER_MESSAGE</tt></b></dt>
<dd>
<p>Defines the maximum number of recipients allowed for a piece of mail.
[MaxRecipientsPerMessage]
</p>
</dd>


<dt><b><tt class="literal">confMUST_QUOTE_CHARS</tt></b></dt>
<dd>
<p>Adds characters to the list of characters that must be quoted when
they are included in the user's full name ($x). The characters
@,;:\( )[] are always quoted. By default . and ` are added to
the list. [MustQuoteChars]
</p>
</dd>


<dt><b><tt class="literal">confPID_FILE</tt></b></dt>
<dd>
<p>Specifies the path of the PID file. [PidFile]</p>
</dd>


<dt><b><tt class="literal">confPROCESS_TITLE_PREFIX</tt></b></dt>
<dd>
<p>Identifies the string used on this system as the prefix for the
process title in <tt class="literal">ps</tt> listings. [ProcessTitlePrefix]
</p>
</dd>


<dt><b><tt class="literal">confRAND_FILE</tt></b></dt>
<dd>
<p>Identifies the file that contains random data needed by STARTTLS if
sendmail was not compiled with the HASURANDOM flag. [RandFile]
</p>
</dd>


<dt><b><tt class="literal">confREJECT_MSG</tt></b></dt>
<dd>
<p>Defines the message displayed when mail is rejected because of the
access control database. Defaults to "550 Access denied".
</p>
</dd>


<dt><b><tt class="literal">confRRT_IMPLIES_DSN</tt></b></dt>
<dd>
<p>True tells sendmail to interpret a Return-Receipt-To: header as a
request for delivery status notification (DSN). The default is false.
[RrtImpliesDsn]
</p>
</dd>


<dt><b><tt class="literal">confSERVER_CERT</tt></b></dt>
<dd>
<p>Identifies the file that contains the cryptographic certificate used
when this system acts as server. [ServerCertFile]
</p>
</dd>


<dt><b><tt class="literal">confSERVER_KEY</tt> </b></dt>
<dd>
<p>Identifies the file that contains the private key associated with the
cryptographic certificate used when this system acts as server.
[ServerKeyFile]
</p>
</dd>


<dt><b><tt class="literal">confSINGLE_LINE_FROM_HEADER</tt></b></dt>
<dd>
<p>True forces a multiline From: line to a single line. The default is
false. [SingleLineFromHeader]
</p>
</dd>


<dt><b><tt class="literal">confTO_RESOLVER_RETRANS</tt></b></dt>
<dd>
<p>Defines, in seconds, the retransmission timer for all resolver
lookups. [Timeout.resolver.retrans]
</p>
</dd>


<dt><b><tt class="literal">confTO_RESOLVER_RETRANS_FIRST</tt></b></dt>
<dd>
<p>Defines, in seconds, the retransmission timer for the resolver lookup
for the first attempt to deliver a message.
[Timeout.resolver.retrans.first]
</p>
</dd>


<dt><b><tt class="literal">confTO_RESOLVER_RETRANS_NORMAL</tt></b></dt>
<dd>
<p>Defines, in seconds, the retransmission timer for all resolver
lookups after the first attempt to deliver a message.
[Timeout.resolver.retrans.normal]
</p>
</dd>


<dt><b><tt class="literal">confTO_RESOLVER_RETRY</tt> </b></dt>
<dd>
<p>Defines the total number of times to retry a resolver query.
[Timeout.resolver.retry]
</p>
</dd>


<dt><b><tt class="literal">confTO_RESOLVER_RETRY_FIRST</tt> </b></dt>
<dd>
<p>Defines the number of times the resolver query for the first delivery
attempt is retried. [Timeout.resolver.retry.first]
</p>
</dd>


<dt><b><tt class="literal">confTO_RESOLVER_RETRY_NORMAL</tt></b></dt>
<dd>
<p>Defines the number of times to retry resolver queries after the first
delivery attempt. [Timeout.resolver.retry.normal]
</p>
</dd>


<dt><b><tt class="literal">confTRUSTED_USER</tt></b></dt>
<dd>
<p>Defines the user who controls the sendmail daemon and owns the files
created by sendmail. Do not confuse this option with
confTRUSTED_USERS. [TrustedUser]
</p>
</dd>


<dt><b><tt class="literal">confXF_BUFFER_SIZE</tt></b></dt>
<dd>
<p>Defines the maximum amount of buffer memory that can be used for a
transcript file before the file must be written to disk. The default
is 4096 bytes. [XScriptFileBufferSize]
</p>
</dd>

</dl>

<p><tt class="literal">define</tt> macros are the most common macros in the
<tt class="literal">m4</tt> source files. The next most commonly used macro
is <a name="INDEX-3715" />the FEATURE
<a name="INDEX-3716" /> <a name="INDEX-3717" />macro. 
</p>

</div>
<a name="tcp3-APP-E-SECT-3.2" /><div class="sect2">
<h3 class="sect2">E.3.2. FEATURE</h3>

<p>The <a name="INDEX-3718" /> <a name="INDEX-3719" />FEATURE
<a name="INDEX-3720" />macro
processes <tt class="literal">m4</tt> source code from the
<em class="emphasis">cf/feature</em> directory. Source files in that
directory define optional sendmail features that you may wish to
include in your configuration. The syntax of the FEATURE macro is:
</p>

<blockquote><pre class="code">FEATURE(<em class="replaceable">name</em>, [<em class="replaceable">argument</em>])
</pre></blockquote>

<p>The FEATURE source file can be called with or without an optional
argument. If an argument is passed to the source file, the argument
is used by the source file to generate code for the
<em class="emphasis">sendmail.cf</em> file. For example:
</p>

<blockquote><pre class="code">FEATURE(`mailertable', `hash /etc/mail/mailertable')</pre></blockquote>

<p>generates the code for accessing the mailertable and defines that
table as being a hash database located in the file
<em class="emphasis">/etc/mail/mailertable</em>.
</p>

<p>There are several features available in sendmail V8. They are all
listed in <a href="appe_03.html#tcp3-APP-E-TABLE-3">Table E-3</a>. The table provides the name
of
<a name="INDEX-3721" />each
feature and its purpose.
</p>

<a name="tcp3-APP-E-TABLE-3" /><h4 class="objtitle">Table E-3. sendmail features </h4>

<table border="1">

<tr>
<th>
<p>Name</p>
</th>
<th>
<p>Purpose</p>
</th>
</tr>


<tr>
<td>
<p>use_cw_file</p>
</td>
<td>
<p>Load $=w from <em class="emphasis">/etc/mail/local-host-names</em>.</p>
</td>
</tr>
<tr>
<td>
<p>use_ct_file</p>
</td>
<td>
<p>Load $=t from <em class="emphasis">/etc/mail/trusted-users</em>.</p>
</td>
</tr>
<tr>
<td>
<p>relay_based_on_MX</p>
</td>
<td>
<p>Relay mail for any site whose MX points to this server.</p>
</td>
</tr>
<tr>
<td>
<p>relay_entire_domain</p>
</td>
<td>
<p>Relay mail for any host in your domain.</p>
</td>
</tr>
<tr>
<td>
<p>relay_hosts_only</p>
</td>
<td>
<p>Only relay mail for hosts listed in the access database.</p>
</td>
</tr>
<tr>
<td>
<p>relay_local_from</p>
</td>
<td>
<p>Relay mail if the source is a local host.</p>
</td>
</tr>
<tr>
<td>
<p>relay_mail_from</p>
</td>
<td>
<p>Relay mail if the sender is listed as RELAY in the access database.</p>
</td>
</tr>
<tr>
<td>
<p>promiscuous_relay</p>
</td>
<td>
<p>Relay mail from any site to any site.</p>
</td>
</tr>
<tr>
<td>
<p>rbl</p>
</td>
<td>
<p>The obsolete Realtime Blackhole List feature has been replaced by
dnsbl.
</p>
</td>
</tr>
<tr>
<td>
<p>dnsbl</p>
</td>
<td>
<p>Reject mail from hosts listed in a DNS-based rejection list. Replaces
rbl.
</p>
</td>
</tr>
<tr>
<td>
<p>blacklist_recipients</p>
</td>
<td>
<p>Filter incoming mail based on values set in the access database. </p>
</td>
</tr>
<tr>
<td>
<p>delay_checks</p>
</td>
<td>
<p>Delay the check_mail and check_relay rulesets until check_rcpt is
called.
</p>
</td>
</tr>
<tr>
<td>
<p>loose_relay_check</p>
</td>
<td>
<p>Disable validity checks for addresses that use the % hack.</p>
</td>
</tr>
<tr>
<td>
<p>redirect</p>
</td>
<td>
<p>Support the .REDIRECT pseudo-domain.</p>
</td>
</tr>
<tr>
<td>
<p>no_default_msa</p>
</td>
<td>
<p>Allow the default configuration of the Message Submission Agent to be
overridden by the DAEMON_OPTIONS macro.
</p>
</td>
</tr>
<tr>
<td>
<p>nouucp</p>
</td>
<td>
<p>Don't include UUCP address processing.</p>
</td>
</tr>
<tr>
<td>
<p>nocanonify</p>
</td>
<td>
<p>Don't convert names with $[<em class="replaceable">name</em>$]
syntax.
</p>
</td>
</tr>
<tr>
<td>
<p>stickyhost</p>
</td>
<td>
<p>Treat "user" differently than
"user@local.host".<a href="#FOOTNOTE-166">[166]</a>
</p>
</td>
</tr>
<tr>
<td>
<p>mailertable</p>
</td>
<td>
<p>Mail routing using a mailer table.</p>
</td>
</tr>
<tr>
<td>
<p>domaintable</p>
</td>
<td>
<p>Domain name mapping using a domain table.</p>
</td>
</tr>
<tr>
<td>
<p>access_db</p>
</td>
<td>
<p>Relay control using the access database.</p>
</td>
</tr>
<tr>
<td>
<p>bitdomain</p>
</td>
<td>
<p>Use a table to map bitnet hosts to Internet addresses.</p>
</td>
</tr>
<tr>
<td>
<p>uucpdomain</p>
</td>
<td>
<p>Use a table to map UUCP hosts to Internet addresses.</p>
</td>
</tr>
<tr>
<td>
<p>accept_unqualified_senders</p>
</td>
<td>
<p>Allow network mail from addresses that do not include a valid
hostname.
</p>
</td>
</tr>
<tr>
<td>
<p>accept_unresolvable_domains</p>
</td>
<td>
<p>Accept mail from hosts that are unknown to DNS.</p>
</td>
</tr>
<tr>
<td>
<p>always_add_domain</p>
</td>
<td>
<p>Add the local hostname to all locally delivered mail.</p>
</td>
</tr>
<tr>
<td>
<p>allmasquerade</p>
</td>
<td>
<p>Also masquerade recipient addresses.</p>
</td>
</tr>
<tr>
<td>
<p>limited_masquerade</p>
</td>
<td>
<p>Only masquerade hosts listed in $=M.</p>
</td>
</tr>
<tr>
<td>
<p>masquerade_entire_domain</p>
</td>
<td>
<p>Masquerade all hosts within the masquerading domains.</p>
</td>
</tr>
<tr>
<td>
<p>masquerade_envelope</p>
</td>
<td>
<p>Also masquerade envelope addresses. The default is to masquerade only
header addresses.
</p>
</td>
</tr>
<tr>
<td>
<p>genericstable</p>
</td>
<td>
<p>Use a table to rewrite local addresses.</p>
</td>
</tr>
<tr>
<td>
<p>generics_entire_domain</p>
</td>
<td>
<p>Map domain names identified in class <tt class="literal">G</tt> through the
genericstable.
</p>
</td>
</tr>
<tr>
<td>
<p>virtusertable</p>
</td>
<td>
<p>Map virtual domain names to real mail addresses.</p>
</td>
</tr>
<tr>
<td>
<p>virtuser_entire_domain</p>
</td>
<td>
<p>Map domain names through the virtusertable.</p>
</td>
</tr>
<tr>
<td>
<p>ldap_routing</p>
</td>
<td>
<p>Enable LDAP-based email routing.</p>
</td>
</tr>
<tr>
<td>
<p>nodns</p>
</td>
<td>
<p>Don't include DNS support.</p>
</td>
</tr>
<tr>
<td>
<p>nullclient</p>
</td>
<td>
<p>Forward all mail to a central server.</p>
</td>
</tr>
<tr>
<td>
<p>local_lmtp</p>
</td>
<td>
<p>Use mail.local with LMTP support.</p>
</td>
</tr>
<tr>
<td>
<p>local_procmail</p>
</td>
<td>
<p>Use procmail as the local mailer.</p>
</td>
</tr>
<tr>
<td>
<p>bestmx_is_local</p>
</td>
<td>
<p>Accept mail as local when it is addressed to a host that lists us as
its MX server.
</p>
</td>
</tr>
<tr>
<td>
<p>smrsh</p>
</td>
<td>
<p>Use smrsh as the prog mailer.</p>
</td>
</tr>
</table>
<blockquote>
<a name="FOOTNOTE-166">
[166] See the discussion of "stickyhost" in the "DOMAIN" section later in
this appendix.</p> </blockquote>

<p>The <a name="INDEX-3722" />use_cw_file and the
<a name="INDEX-3723" />use_ct_file features are equivalent
to <tt class="literal">Fw/etc/sendmail.cw</tt> and
<tt class="literal">Fw/etc/sendmail.ct</tt> commands in the
<em class="emphasis">sendmail.cf</em> file. See <a href="ch10_01.html">Chapter 10, "sendmail "</a> for descriptions of host aliases
(<tt class="literal">$=w</tt>) and trusted users (<tt class="literal">$=t</tt>).
</p>

<p>The .REDIRECT pseudo-domain code returns an error message to the
sender telling the sender to try a new address for the recipient.
This is used to handle mail for people who no longer read mail at
your site but who are still getting mail sent to a very old address.
Enable this feature with the FEATURE(redirect) command and then add
aliases for each obsolete mailing address in the form:
</p>

<blockquote><pre class="code"> <em class="replaceable">old-address new-address.</em>REDIRECT</pre></blockquote>

<p>For example, assume that Edward Winslow is no longer a valid user of
<em class="emphasis">crab.wrotethebook.com</em>. Therefore, his old
username, <em class="emphasis">ed</em>, should no longer accept mail. His
new mailing address is <em class="emphasis">WinslowE@industry.com</em>. We
enter the following alias in the <em class="emphasis">/etc/aliases</em>
file:
</p>

<blockquote><pre class="code"> ed    WinslowE@industry.com.REDIRECT</pre></blockquote>

<p>Now when mail is sent to the <em class="emphasis">ed</em> account on
<em class="emphasis">crab</em>, the following error is returned to the
sender:
</p>

<blockquote><pre class="code"> 551 User not local; please try &lt;WinslowE@industry.com&gt;</pre></blockquote>

<p>Several of the FEATURE macros actually remove features from the
<em class="emphasis">sendmail.cf</em> file instead of adding them. nouucp
removes the code to handle UUCP addresses for systems that do not
have access to UUCP networks, and nodns removes the code for DNS
lookups for systems that do not have access to DNS. nocanonify
disables the
<tt class="literal">$[</tt><em class="replaceable">name</em>]<tt class="literal">$</tt>
syntax that converts nicknames and IP addresses to canonical names.
Finally, the nullclient feature strips everything out of the
configuration except for the ability to forward mail to a single mail
server via a local SMTP link. The name of the mail server is provided
as the argument on the nullclient command line. For example,
<tt class="literal">FEATURE(nullclient,</tt> <tt class="literal">ms.big.com</tt>)
forwards all mail to <em class="emphasis">ms.big.com</em> without any
local mail processing.
</p>

<p>Several features relate to mail relaying and masquerading. Examples
include stickyhost, relay_based_on_MX, allmasquerade,
limited_masquerade, and masquerade_entire_domain. All of these
features are covered in the "DOMAIN" section later in
this appendix.
</p>

<p>Several of the features define databases that are used to perform
special address processing. All of these features accept an optional
argument that defines the database. (See the sample
<tt class="literal">mailertable</tt> command at the beginning of this
section for an example of defining the database with the optional
argument.) If the optional argument is not provided, the database
description always defaults to <tt class="literal">hash</tt>
<tt class="literal">-o</tt>
<tt class="literal">/etc/mail/</tt><em class="replaceable">filename</em>,
where <em class="replaceable">filename</em> matches the name of the
feature. For example, <tt class="literal">mailertable</tt> defaults to the
definition <tt class="literal">hash -o /etc/mail/mailertable</tt>. The
database features are:
</p>

<dl>
<a name="INDEX-3724" /><dt><b><tt class="literal">mailertable</tt></b></dt>
<dd>
<p>Maps host and domain names to specific mailer:host pairs. If the host
or domain name in the recipient addresses matches a key field in the
<tt class="literal">mailertable</tt> database, it returns the mailer and
host for that address. The format of <tt class="literal">mailertable</tt>
entries is:
</p>

<blockquote><pre class="code"><em class="replaceable">domain-name mailer</em><b class="emphasis-bold">:</b><em class="replaceable">host</em></pre></blockquote>
<p>where <em class="replaceable">domain-name</em> is either a full
hostname (host plus domain) or a domain name. If a domain name is
used it must start with a dot (.), and it will match every host in
the specified domain.
</p>
</dd>


<a name="INDEX-3725" /><dt><b><tt class="literal">domaintable</tt></b></dt>
<dd>
<p>Converts an old domain name to a new domain name. The old name is the
key and the new name is the value returned for the key.
</p>
</dd>


<a name="INDEX-3726" /><dt><b><tt class="literal">bitdomain</tt></b></dt>
<dd>
<p>Converts a Bitnet hostname to an Internet hostname. The Bitnet name
is the key and the Internet hostname is the value returned. The
<tt class="literal">bitdomain</tt> program that comes with sendmail can be
used to build this database.
</p>
</dd>


<a name="INDEX-3727" /><dt><b><tt class="literal">uucpdomain</tt></b></dt>
<dd>
<p>Converts a UUCP name to an Internet hostname. The key is the UUCP
hostname and the value returned is the Internet hostname.
</p>
</dd>


<a name="INDEX-3728" /><dt><b><tt class="literal">genericstable</tt></b></dt>
<dd>
<p>Converts a sender email address. The key to the database is either a
username or a full email address (username and hostname). The value
returned by the database is the new email address.
<tt class="literal">genericstable</tt> is often used to convert the same
address as those processed for masquerading and thus the features
that affect masquerading and those that affect the
<tt class="literal">genericstable</tt> conversion are set to exactly the
same values. If you use the <tt class="literal">genericstable</tt> and you
use masquerading, set GENERICS_DOMAIN and GENERICS_DOMAIN_FILE to the
same values as MASQUERADE_DOMAIN and MASQUERADE_DOMAIN_FILE.
</p>
</dd>


<a name="INDEX-3729" /><dt><b><tt class="literal">virtusertable</tt></b></dt>
<dd>
<p>Aliases incoming email addresses. Essentially, this is an extended
alias database for aliasing addresses that are not local to this
host. The key to the database is a full email address or a domain
name. The value returned by the database is the recipient address to
which the mail is delivered. If a domain name is used as a key, it
must begin with an at-sign (@). Mail addressed to any user in the
specified domain is sent to the recipient defined by the
virtusertable database. Any hostname used as a key in the
virtusertable database must also be defined in class w or class
{VirtHost}. A hostname can be added to class w with the LOCAL_DOMAIN
macro. Hostnames can be added to the {VirtHost} class using the
VIRTUSER_DOMAIN macro. The {VirtHost} class can be loaded from a file
using the VIRTUSER_DOMAIN_FILE macro.
</p>
</dd>

</dl>

<p>Some features are important in the fight against
<a name="INDEX-3730" />spam because they help you control
what mail your server will deliver or forward on for delivery. These
are accept_unqualified_senders, accept_unresolvable_domains,
access_db, blacklist_recipients, and dnsbl. The access database lists
email sources and how mail from these sources should be treated. The
dnsbl uses a special DNS database to reject mail from specific
sources. The blacklist_recipients feature extends the access_db and
dnsbl controls to email destinations as well as email sources. Two of
the features, accept_unqualified_senders and
accept_unresolvable_domains, weaken relay controls by allowing
relaying for hosts or domains that cannot be found via DNS. Use care
when adjusting these controls.
</p>

<p>Two of the remaining FEATURE commands relate to domains. The
always_add_domain macro makes sendmail add the local hostname to all
locally delivered mail, even to those pieces of mail that would
normally have just a username as an address. The bestmx_is_local
feature accepts mail addressed to a host that lists the local host as
its preferred MX server as if the mail was local mail. If this
feature is not used, mail bound for a remote host is sent directly to
the remote host even if its MX record lists the local host as its
preferred MX server. The bestmx_is_local feature should not be used
if you use a wildcard MX record for your domain.
</p>

<p>The last two features are used to select optional programs for the
local and the prog mailers. local_procmail selects
<tt class="literal">procmail</tt> as the local mailer. Provide the path to
<tt class="literal">procmail</tt> as the argument in the FEATURE command.
The <tt class="literal">smrsh</tt> feature selects the sendmail Restricted
SHell (<tt class="literal">smrsh</tt>) as the prog mailer.
<tt class="literal">smrsh</tt> provides improved security over
<em class="emphasis">/bin/sh</em>, which is normally used as the prog
mailer. Provide the path to <tt class="literal">smrsh</tt> as the argument
in the FEATURE command.
</p>

<p>The FEATURE commands discussed in this section and the
<tt class="literal">define</tt> macros discussed previously are used to
build the <tt class="literal">m4</tt> source files. The following sections
describe the purpose and structure of the OSTYPE, DOMAIN, and MAILER
<a name="INDEX-3731" />
<a name="INDEX-3732" />source files.
</p>

</div>
<a name="tcp3-APP-E-SECT-3.3" /><div class="sect2">
<h3 class="sect2">E.3.3. OSTYPE</h3>

<p>The source file for the <a name="INDEX-3733" />
<a name="INDEX-3734" />OSTYPE
<a name="INDEX-3735" />macro
defines operating system-specific parameters. Many operating systems
are predefined. Look in the <em class="emphasis">sendmail/cf/ostype</em>
directory for a full listing of the systems that are already defined.
</p>

<p>OSTYPE source files are mostly composed of <tt class="literal">define</tt>
macros. <a href="appe_03.html#tcp3-APP-E-TABLE-4">Table E-4</a> lists the
<tt class="literal">define</tt> parameters most frequently associated with
the OSTYPE source file and the function of each parameter. If a
default value is assigned to a parameter, it is shown enclosed in
square brackets after the functional description.
</p>

</th>
<th>
<p>Function</p>
</th>
</tr>


<tr>
<td>
<p>ALIAS_FILE</p>
</td>
<td>
<p>Name of the alias file. [<em class="emphasis">/etc/mail/aliases</em>]</p>
</td>
</tr>
<tr>
<td>
<p>HELP_FILE</p>
</td>
<td>
<p>Name of the help file. [<em class="emphasis">/etc/mail/helpfile</em>]</p>
</td>
</tr>
<tr>
<td>
<p>QUEUE_DIR</p>
</td>
<td>
<p>Directory containing queue files.
[<em class="emphasis">/var/spool/mqueue</em>]
</p>
</td>
</tr>
<tr>
<td>
<p>STATUS_FILE</p>
</td>
<td>
<p>Name of the status file. [<em class="emphasis">/etc/mail/statistics</em>]</p>
</td>
</tr>
<tr>
<td>
<p>LOCAL_MAILER_PATH</p>
</td>
<td>
<p>The local mail delivery program. [<em class="emphasis">/bin/mail</em>]</p>
</td>
</tr>
<tr>
<td>
<p>LOCAL_MAILER_FLAGS</p>
</td>
<td>
<p>Local mailer flags added to "lsDFMAW5:/|@q". [Prmn9]</p>
</td>
</tr>
<tr>
<td>
<p>LOCAL_MAILER_ARGS</p>
</td>
<td>
<p>Arguments for local mail delivery. [mail -d $u]</p>
</td>
</tr>
<tr>
<td>
<p>LOCAL_MAILER_MAX</p>
</td>
<td>
<p>Maximum size of local mail. </p>
</td>
</tr>
<tr>
<td>
<p>LOCAL_MAILER_CHARSET</p>
</td>
<td>
<p>Character set for local 8-bit MIME mail. </p>
</td>
</tr>
<tr>
<td>
<p>LOCAL_MAILER_DSN_DIAGNOSTIC_CODE</p>
</td>
<td>
<p>The delivery status notification code used for local mail. [X-Unix]</p>
</td>
</tr>
<tr>
<td>
<p>LOCAL_MAILER_EOL</p>
</td>
<td>
<p>The end-of-line character for local mail.</p>
</td>
</tr>
<tr>
<td>
<p>LOCAL_MAILER_MAXMSG</p>
</td>
<td>
<p>The maximum number of messages delivered with a single connection.</p>
</td>
</tr>
<tr>
<td>
<p>LOCAL_SHELL_PATH</p>
</td>
<td>
<p>Shell used to deliver piped email. [<em class="emphasis">/bin/sh</em>]</p>
</td>
</tr>
<tr>
<td>
<p>LOCAL_SHELL_FLAGS</p>
</td>
<td>
<p>Flags added to lsDFM for the shell mailer. [eu9]</p>
</td>
</tr>
<tr>
<td>
<p>LOCAL_SHELL_ARGS</p>
</td>
<td>
<p>Arguments for the "prog" mail. [sh -c $u]</p>
</td>
</tr>
<tr>
<td>
<p>LOCAL_SHELL_DIR</p>
</td>
<td>
<p>Directory in which the shell should run. [<em class="emphasis">$z:/</em>]</p>
</td>
</tr>
<tr>
<td>
<p>USENET_MAILER_PATH</p>
</td>
<td>
<p>Program used for news. [<em class="emphasis">/usr/lib/news/inews</em>]</p>
</td>
</tr>
<tr>
<td>
<p>USENET_MAILER_FLAGS</p>
</td>
<td>
<p>Usenet mailer flags. [rDFMmn]</p>
</td>
</tr>
<tr>
<td>
<p>USENET_MAILER_ARGS</p>
</td>
<td>
<p>Arguments for the usenet mailer. [-m -h -n]</p>
</td>
</tr>
<tr>
<td>
<p>USENET_MAILER_MAX</p>
</td>
<td>
<p>Maximum size of usenet mail messages. [100000]</p>
</td>
</tr>
<tr>
<td>
<p>SMTP_MAILER_FLAGS</p>
</td>
<td>
<p>Flags added to "mDFMuX" for all SMTP mailers. </p>
</td>
</tr>
<tr>
<td>
<p>SMTP_MAILER_MAX</p>
</td>
<td>
<p>Maximum size of messages for all SMTP mailers. </p>
</td>
</tr>
<tr>
<td>
<p>SMTP_MAILER_ARGS</p>
</td>
<td>
<p>smtp mailer arguments. [IPC $h]</p>
</td>
</tr>
<tr>
<td>
<p>ESMTP_MAILER_ARGS</p>
</td>
<td>
<p>esmtp mailer arguments. [IPC $h]</p>
</td>
</tr>
<tr>
<td>
<p>DSMTP_MAILER_ARGS</p>
</td>
<td>
<p>dsmtp mailer arguments. [IPC $h]</p>
</td>
</tr>
<tr>
<td>
<p>SMTP8_MAILER_ARGS</p>
</td>
<td>
<p>smtp8 mailer arguments. [IPC $h]</p>
</td>
</tr>
<tr>
<td>
<p>RELAY_MAILER_ARGS</p>
</td>
<td>
<p>relay mailer arguments. [IPC $h]</p>
</td>
</tr>
<tr>
<td>
<p>RELAY_MAILER_FLAGS</p>
</td>
<td>
<p>Flags added to "mDFMuX" for the relay mailer.</p>
</td>
</tr>
<tr>
<td>
<p>RELAY_MAIL_MAXMSG</p>
</td>
<td>
<p>The maximum number of messages for the relay mailer delivered by a
single connection.
</p>
</td>
</tr>
<tr>
<td>
<p>SMTP_MAILER_CHARSET</p>
</td>
<td>
<p>Character set for SMTP 8-bit MIME mail. </p>
</td>
</tr>
<tr>
<td>
<p>SMTP_MAIL_MAXMSG</p>
</td>
<td>
<p>The maximum number of SMTP messages delivered by a single connection.</p>
</td>
</tr>
<tr>
<td>
<p>UUCP_MAILER_PATH</p>
</td>
<td>
<p>Path to the UUCP mail program. [<em class="emphasis">/usr/bin/uux</em>]</p>
</td>
</tr>
<tr>
<td>
<p>UUCP_MAILER_FLAGS</p>
</td>
<td>
<p>Flags added to "DFMhuU" for the UUCP mailer. </p>
</td>
</tr>
<tr>
<td>
<p>UUCP_MAILER_ARGS</p>
</td>
<td>
<p>UUCP mailer arguments. [uux - -r -z -a$g -gC $h!rmail ($u)]</p>
</td>
</tr>
<tr>
<td>
<p>UUCP_MAILER_MAX</p>
</td>
<td>
<p>Maximum size for UUCP messages. [100000]</p>
</td>
</tr>
<tr>
<td>
<p>UUCP_MAILER_CHARSET</p>
</td>
<td>
<p>Character set for UUCP 8-bit MIME mail. </p>
</td>
</tr>
<tr>
<td>
<p>FAX_MAILER_PATH</p>
</td>
<td>
<p>Path to the FAX program.
[<em class="emphasis">/usr/local/lib/fax/mailfax</em>]
</p>
</td>
</tr>
<tr>
<td>
<p>FAX_MAILER_ARGS</p>
</td>
<td>
<p>FAX mailer arguments. [mailfax $u $h $f]</p>
</td>
</tr>
<tr>
<td>
<p>FAX_MAILER_MAX</p>
</td>
<td>
<p>Maximum size of a FAX. [100000]</p>
</td>
</tr>
<tr>
<td>
<p>POP_MAILER_PATH</p>
</td>
<td>
<p>Path of the POP mailer. [<em class="emphasis">/usr/lib/mh/spop</em>]</p>
</td>
</tr>
<tr>
<td>
<p>POP_MAILER_FLAGS</p>
</td>
<td>
<p>Flags added to "lsDFMq" for the POP mailer. [Penu]</p>
</td>
</tr>
<tr>
<td>
<p>POP_MAILER_ARGS</p>
</td>
<td>
<p>POP mailer arguments. [pop $u]</p>
</td>
</tr>
<tr>
<td>
<p>PROCMAIL_MAILER_PATH</p>
</td>
<td>
<p>Path to the procmail program.
[<em class="emphasis">/usr/local/bin/procmail</em>]
</p>
</td>
</tr>
<tr>
<td>
<p>PROCMAIL_MAILER_FLAGS</p>
</td>
<td>
<p>Flags added to "DFM" for the Procmail mailer. [SPhnu9]</p>
</td>
</tr>
<tr>
<td>
<p>PROCMAIL_MAILER_ARGS</p>
</td>
<td>
<p>Procmail mailer arguments. [procmail -Y -m $h $f $u]</p>
</td>
</tr>
<tr>
<td>
<p>PROCMAIL_MAILER_MAX</p>
</td>
<td>
<p>Maximum size message for the Procmail mailer. </p>
</td>
</tr>
<tr>
<td>
<p>MAIL11_MAILER_PATH</p>
</td>
<td>
<p>Path to the mail11 mailer. [<em class="emphasis">/usr/etc/mail11</em>]</p>
</td>
</tr>
<tr>
<td>
<p>MAIL11_MAILER_FLAGS</p>
</td>
<td>
<p>Flags for the mail11 mailer. [nsFx]</p>
</td>
</tr>
<tr>
<td>
<p>MAIL11_MAILER_ARGS</p>
</td>
<td>
<p>mail11 mailer arguments. [mail11 $g $x $h $u]</p>
</td>
</tr>
<tr>
<td>
<p>PH_MAILER_PATH</p>
</td>
<td>
<p>Path to the phquery program.
[<em class="emphasis">/usr/local/etc/phquery</em>]
</p>
</td>
</tr>
<tr>
<td>
<p>PH_MAILER_FLAGS</p>
</td>
<td>
<p>Flags for the phquery mailer. [ehmu]</p>
</td>
</tr>
<tr>
<td>
<p>PH_MAILER_ARGS</p>
</td>
<td>
<p>phquery mailer arguments. [phquery  --  $u]</p>
</td>
</tr>
<tr>
<td>
<p>QPAGE_MAILER_ARGS</p>
</td>
<td>
<p>qpage mailer arguments. [qpage -10 -m -P$u<tt class="literal">]</tt></p>
</td>
</tr>
<tr>
<td>
<p>QPAGE_MAILER_FLAGS</p>
</td>
<td>
<p>Flags for the qpage mailer. [mDFMs]</p>
</td>
</tr>
<tr>
<td>
<p>QPAGE_MAILER_MAX</p>
</td>
<td>
<p>Maximum qpage mailer message size. [4096]</p>
</td>
</tr>
<tr>
<td>
<p>QPAGE_MAILER_PATH</p>
</td>
<td>
<p>Path to the qpage mailer. [<em class="emphasis">/usr/local/bin/qpage</em>]</p>
</td>
</tr>
<tr>
<td>
<p>CYRUS_MAILER_FLAGS</p>
</td>
<td>
<p>Flags added to "lsDFMnPq" for the cyrus mailer. [A5@/:|]</p>
</td>
</tr>
<tr>
<td>
<p>CYRUS_MAILER_PATH</p>
</td>
<td>
<p>Path to the cyrus mailer.
[<em class="emphasis">/usr/cyrus/bin/deliver</em>]
</p>
</td>
</tr>
<tr>
<td>
<p>CYRUS_MAILER_ARGS</p>
</td>
<td>
<p>cyrus mailer arguments. [deliver -e -m $h  --  $u]</p>
</td>
</tr>
<tr>
<td>
<p>CYRUS_MAILER_MAX</p>
</td>
<td>
<p>Maximum size message for the cyrus mailer. </p>
</td>
</tr>
<tr>
<td>
<p>CYRUS_MAILER_USER</p>
</td>
<td>
<p>User and group used for the cyrus mailer.
[<em class="emphasis">cyrus:mail</em>]
</p>
</td>
</tr>
<tr>
<td>
<p>CYRUS_BB_MAILER_FLAGS</p>
</td>
<td>
<p>Flags added to "lsDFMnP" for the cyrusbb mailer. </p>
</td>
</tr>
<tr>
<td>
<p>CYRUS_BB_MAILER_ARGS</p>
</td>
<td>
<p>cyrusbb mailer arguments. [deliver -e -m $u]</p>
</td>
</tr>

</table><p>

<p>Despite the long list of parameters in <a href="appe_03.html#tcp3-APP-E-TABLE-4">Table E-4</a>,
most OSTYPE macros are very short. There are a few reasons for this.
First, many of the parameters in the table are redundant. They define
the same things for different mailers, and no operating system uses
all of the mailers. Second, the default values are often correct. A
<tt class="literal">define</tt> only needs to be made if the operating
system requires a value different from the default.
</p>

</div>
<a name="tcp3-APP-E-SECT-3.4" /><div class="sect2">
<h3 class="sect2">E.3.4. DOMAIN</h3>

<p>The <a name="INDEX-3736" />
<a name="INDEX-3737" />DOMAIN source file defines configuration
parameters that are related to the local domain. <a href="ch10_01.html">Chapter 10, "sendmail "</a> provides an example of a DOMAIN file built for
the imaginary <em class="emphasis">wrotethebook.com</em> domain.
</p>

<p><a href="appe_03.html#tcp3-APP-E-TABLE-5">Table E-5</a> shows some <tt class="literal">define</tt>
macros that commonly appear in DOMAIN files. (See the syntax of the
<tt class="literal">define</tt> macro earlier.) This table lists the
parameters and the function of each parameter. All of these
parameters are used to define mail relay hosts. The value provided
for each parameter is either a hostname, i.e., the name of a mail
relay server, or a mailer:hostname pair where the mailer is the
internal name of a local sendmail mailer and the hostname is the name
of the remote mail relay server. If only a hostname is used, the
mailer defaults to <em class="emphasis">relay</em>, which is the name of
the SMTP relay mailer. If no values are provided for these
parameters, the BITNET, DECNET, and FAX pseudo-domains are not used,
and the local host must be able to handle its own UUCP and
"local" mail.
</p>

<a name="tcp3-APP-E-TABLE-5" /><h4 class="objtitle">Table E-5. Mail relay define macros </h4>
<table border="1">



<tr>
<th>
<p>Parameter</p>
</th>
<th>
<p>Function</p>
</th>
</tr>


<tr>
<td>
<p>UUCP_RELAY</p>
</td>
<td>
<p>Server for UUCP-addressed email</p>
</td>
</tr>
<tr>
<td>
<p>BITNET_RELAY</p>
</td>
<td>
<p>Server for BITNET-addressed email</p>
</td>
</tr>
<tr>
<td>
<p>DECNET_RELAY</p>
</td>
<td>
<p>Server for DECNET-addressed email</p>
</td>
</tr>
<tr>
<td>
<p>FAX_RELAY</p>
</td>
<td>
<p>Server for mail to the .FAX pseudo-domain<a href="#FOOTNOTE-167">[167]</a>
</p>
</td>
</tr>
<tr>
<td>
<p>LOCAL_RELAY</p>
</td>
<td>
<p>Server for unqualified names</p>
</td>
</tr>
<tr>
<td>
<p>LUSER_RELAY</p>
</td>
<td>
<p>Server for apparently local names that really aren't local</p>
</td>
</tr>
<tr>
<td>
<p>MAIL_HUB</p>
</td>
<td>
<p>Server for all incoming mail</p>
</td>
</tr>
<tr>
<td>
<p>SMART_HOST</p>
</td>
<td>
<p>Server for all outgoing mail</p>
</td>
</tr>
</table>
<blockquote>
<a name="#FOOTNOTE-167">
[167] The "fax" mailer overrides this value.</p> </blockquote>

<p>The precedence of the relays defined by these parameters is from the
most specific to the least specific. If both the UUCP_RELAY and the
SMART_HOST relay are defined, the UUCP_RELAY is used for outgoing
UUCP mail even though the SMART_HOST relay is defined as handling
"all" outgoing mail. If you define both LOCAL_RELAY and
AIL_HUB, you must also use the FEATURE(stickyhost) command to get
the expected behavior.
</p>

<p>When the stickyhost feature is specified, LOCAL_RELAY handles all
local addresses that do not have a host part, and MAIL_HUB handles
all local addresses that do have a host part. If stickyhost is not
specified and both relays are defined, the LOCAL_RELAY is ignored and
AIL_HUB handles all local addresses.
</p>

<p>In addition to the <tt class="literal">define</tt>s shown in <a href="appe_03.html#tcp3-APP-E-TABLE-5">Table E-5</a>, there is a group of macros that relate to
<a name="INDEX-3738" />
<a name="INDEX-3739" />masquerading and relaying that also
appear in the DOMAIN source file. Some of these are used in the
examples in <a href="ch10_01.html">Chapter 10, "sendmail "</a>. The macros
<a name="INDEX-3740" />are:
</p>

<dl>
<a name="INDEX-3741" /><dt><b><tt class="literal">LOCAL_USER(</tt><em class="replaceable">usernames</em><tt class="literal">)</tt></b></dt>
<dd>
<p>Defines local usernames that should not be relayed even if
LOCAL_RELAY or MAIL_HUB is defined. This command is the same as
adding usernames to class L in the <em class="emphasis">sendmail.cf</em>
file.
</p>
</dd>


<a name="INDEX-3742" /><dt><b><tt class="literal">MASQUERADE_AS(</tt><em class="replaceable">host.domain</em><tt class="literal">)</tt></b></dt>
<dd>
<p>Converts the host portion of the sender address on outgoing mail to
the domain name defined by <em class="replaceable">host.domain</em>.
Sender addresses that have no hostname or that have a hostname found
in the w class are converted. This has the same effect as defining
<em class="replaceable">host.domain</em> for the M macro in the
<em class="emphasis">sendmail.cf</em> file. See examples of MASQUERADE_AS
and macro M in <a href="ch10_01.html">Chapter 10, "sendmail "</a>.
</p>
</dd>


<a name="INDEX-3743" /><dt><b><tt class="literal">MASQUERADE_DOMAIN(</tt><em class="replaceable">otherhost.domain</em><tt class="literal">)</tt></b></dt>
<dd>
<p>Converts the host portion of the sender address on outgoing mail to
the domain name defined by the MASQUERADE_AS command, if the host
portion of the sender address matches
<em class="replaceable">otherhost.domain</em>. This command must be
used in conjunction with MASQUERADE_AS. Its effect is the same as
adding hostnames to class M in the <em class="emphasis">sendmail.cf</em>
file. See <a href="ch10_01.html">Chapter 10, "sendmail "</a>.
</p>
</dd>


<a name="INDEX-3744" /><dt><b><tt class="literal">MASQUERADE_DOMAIN_FILE(</tt><em class="replaceable">filename</em><tt class="literal">)</tt></b></dt>
<dd>
<p>Loads <em class="replaceable">otherhost.domain</em> hostnames from the
file identified by <em class="replaceable">filename</em>. This can be
used in place of multiple MASQUERADE_DOMAIN commands. Its effect is
the same as loading class M from a file by using the
<tt class="literal">FM</tt><em class="replaceable">filename</em> command in
the <em class="emphasis">sendmail.cf</em> file.
</p>
</dd>


<a name="INDEX-3745" /><dt><b><tt class="literal">MASQUERADE_EXCEPTION(</tt><em class="replaceable">host</em><tt class="literal">.</tt><em class="replaceable">domain</em><tt class="literal">)</tt></b></dt>
<dd>
<p>This macro defines a host that is not masqueraded, even if it belongs
to a domain that is being masqueraded. This allows you to masquerade
an entire domain with the MASQUERADE_DOMAIN macro and then exempt a
few hosts that should be exposed to the outside world.
</p>
</dd>


<a name="INDEX-3746" /><dt><b><tt class="literal">EXPOSED_USER(</tt><em class="replaceable">username</em><tt class="literal">)</tt></b></dt>
<dd>
<p>Disables masquerading when the user portion of the sender address
matches <em class="replaceable">username</em>. Some usernames, such as
root, occur on many systems and are therefore not unique across a
domain. For those usernames, converting the host portion of the
address makes it impossible to sort out where the message really came
from and makes replies impossible. This command prevents the
ASQUERADE_AS command from having an effect on the sender addresses
for specific users. This is the same as setting the values in class E
in the <em class="emphasis">sendmail.cf</em> file.
</p>
</dd>


<a name="INDEX-3747" /><dt><b><tt class="literal">RELAY_DOMAIN(</tt><em class="replaceable">otherhost</em><tt class="literal">.</tt><em class="replaceable">domain</em><tt class="literal">)</tt></b></dt>
<dd>
<p>This macro identifies a host for which mail should be relayed. The
host identified in this manner is added to class R.
</p>
</dd>


<a name="INDEX-3748" /><dt><b><tt class="literal">RELAY_DOMAIN_FILE(</tt><em class="replaceable">filename</em><tt class="literal">)</tt></b></dt>
<dd>
<p>This macro identifies a file that contains a list of hosts for which
mail should be relayed. This macro loads class R from the specified
file.
</p>
</dd>

</dl>

<p>There are several features that
<a name="INDEX-3749" />affect relaying and
<a name="INDEX-3750" />
<a name="INDEX-3751" />masquerading. We have already
discussed FEATURE(stickyhost). Others are:
</p>

<dl>
<dt><b><tt class="literal">FEATURE(masquerade_envelope)</tt></b></dt>
<dd>
<p>Causes envelope addresses to be masqueraded in the same way that
sender addresses are masqueraded. See <a href="ch10_01.html">Chapter 10, "sendmail "</a>
for an example of this command.
</p>
</dd>


<dt><b><tt class="literal">FEATURE(allmasquerade)</tt></b></dt>
<dd>
<p>Causes recipient addresses to be masqueraded in the same way that
sender addresses are masqueraded. Thus, if the host portion of the
recipient address matches the requirements of the MASQUERADE_AS
command, it is converted. Don't use this feature unless you are
positive that every alias known to the local system is also known to
the mail server that handles mail for the masquerade domain.
</p>
</dd>


<dt><b><tt class="literal">FEATURE(limited_masquerade)</tt></b></dt>
<dd>
<p>Limits masquerading to those hosts defined in class M. The hosts
defined in class w are not masqueraded.
</p>
</dd>


<dt><b><tt class="literal">FEATURE(masquerade_entire_domain)</tt></b></dt>
<dd>
<p>Causes MASQUERADE_DOMAIN to be interpreted as referring to all hosts
within an entire domain. If this feature is not used, only an address
that exactly matches the value defined by MASQUERADE_DOMAIN is
converted. If this feature is used, all addresses that end with the
value defined by MASQUERADE_DOMAIN are converted. For example, assume
that the options MASQUERADE_AS(wrotethebook.com) and
ASQUERADE_DOMAIN(sales.wrotethebook.com) are defined. If
FEATURE(masquerade_entire_domain) is set, every hostname in the
<em class="emphasis">sales.wrotethebook.com</em> domain is converted to
<em class="emphasis">wrotethebook.com</em> on outgoing email. Otherwise,
only the hostname <em class="emphasis">sales.wrotethebook.com</em> is
converted.
</p>
</dd>

</dl>

<p>Some features define how the server handles mail if it is the
<a name="INDEX-3752" />
<a name="INDEX-3753" />mail relay server. These features,
which are mentioned in the "FEATURE" section earlier in
this appendix, are:
</p>

<dl>
<dt><b><tt class="literal">FEATURE(access_db)</tt></b></dt>
<dd>
<p>Adds the code necessary to use the access database. The access
database maps a user, a domain name, or an IP address to a keyword
that tells sendmail how to handle relaying for the host, domain, or
network.
</p>
</dd>


<dt><b><tt class="literal">FEATURE(blacklist_recipient)</tt></b></dt>
<dd>
<p>Uses the access database to control delivery of mail based on the
recipient address. The basic access_db feature controls relaying and
delivery based on the source of the message. This feature adds to
that the ability to control mail relaying and delivery based on the
destination.
</p>
</dd>


<dt><b><tt class="literal">FEATURE(dnsbl)</tt></b></dt>
<dd>
<p>Controls mail delivery based on a DNS blacklist. Source addresses and
destination addresses listed in the DNS blacklist database may be
denied mail delivery or relay services.
</p>
</dd>


<dt><b><tt class="literal">FEATURE(promiscuous_relay)</tt></b></dt>
<dd>
<p>Relays mail from any site to any site. Normally, sendmail does not
relay mail. Mail relays can be abused by spammers and spoofers.
Enable them with caution.
</p>
</dd>


<dt><b><tt class="literal">FEATURE(relay_entire_domain)</tt></b></dt>
<dd>
<p>Relays mail from any domain defined in class M to any site.</p>
</dd>


<dt><b><tt class="literal">FEATURE(relay_hosts_only)</tt></b></dt>
<dd>
<p>Relays mail from any host defined in the access database or in class
R.
</p>
</dd>


<dt><b><tt class="literal">FEATURE(relay_based_on_MX)</tt></b></dt>
<dd>
<p>Relays mail from any site for which your system is the MX server.</p>
</dd>


<dt><b><tt class="literal">FEATURE(relay_local_from)</tt></b></dt>
<dd>
<p>Relays mail with a sender address that contains your local domain
name.
</p>
</dd>

</dl>

<p>Inbound mail can also be filtered to reduce the
<a name="INDEX-3754" />
<a name="INDEX-3755" />impact of spammers. Two macros are
available for this purpose:
</p>

<dl>
<dt><b><tt class="literal">MAIL_FILTER(`</tt><em class="replaceable">name</em><tt class="literal">', `</tt><em class="replaceable">equates'</em><tt class="literal">)</tt></b></dt>
<dd>
<p>This macro defines a mail filter using the Sendmail Mail Filter API
syntax.
</p>
</dd>


<dt><b><tt class="literal">INPUT_MAIL_FILTER(`</tt><em class="replaceable">name'</em><tt class="literal">, `</tt><em class="replaceable">equates'</em><tt class="literal">)</tt></b></dt>
<dd>
<p>This macro defines a mail filter and sets up the call for that mail
filter.
</p>
</dd>

</dl>

<p>The <a name="INDEX-3756" />
<a name="INDEX-3757" />DOMAIN
source file is also used for features and macros that directly relate
to DNS. These features are:
</p>

<dl>
<dt><b><tt class="literal">FEATURE(accept_unqualified_senders)</tt></b></dt>
<dd>
<p>This feature accepts mail even if the sender address does not include
a hostname. Normally, only mail from a user directly logged on to the
system is accepted without a hostname. This is a dangerous feature
that should be used only on an isolated network.
</p>
</dd>


<dt><b><tt class="literal">FEATURE(accept_unresolvable_domains)</tt></b></dt>
<dd>
<p>This feature accepts mail from hostnames that cannot be resolved by
DNS. This is a dangerous feature that is used only on systems that
lack full-time DNS service.
</p>
</dd>


<dt><b><tt class="literal">FEATURE(always_add_domain)</tt></b></dt>
<dd>
<p>This feature adds the hostname of the system to all local mail. With
this feature enabled on a server named
<em class="emphasis">crab@wrotethebook.com</em>, mail from the local user
<em class="emphasis">craig</em> to the local user
<em class="emphasis">kathy</em> would be delivered as mail from
<em class="emphasis">craig@crab@wrotethebook.com</em> to
<em class="emphasis">kathy@crab@wrotethebook.com</em>.
</p>
</dd>


<dt><b><tt class="literal">FEATURE(bestmx_is_local)</tt></b></dt>
<dd>
<p>With this feature, mail addressed to any host that lists the local
server as its MX server is accepted by the server as local mail.
</p>
</dd>

</dl>

<p>The DNS
<a name="INDEX-3758" />macros
<a name="INDEX-3759" />
<a name="INDEX-3760" />are:
</p>

<dl>
<dt><b><tt class="literal">CANONIFY_DOMAIN(</tt><em class="replaceable">domain</em><tt class="literal">)</tt></b></dt>
<dd>
<p>This macro defines a domain name that will be passed to DNS for
conversion to its canonical form even if the nocanonify feature is in
use. Computers can be known by aliases. The official domain name of a
host stored in DNS is called its canonical name. This macro is
generally used to enable canonification of the local domain when
nocanonify is in use.
</p>
</dd>


<dt><b><tt class="literal">CANONIFY_DOMAIN_FILE(</tt><em class="replaceable">filename</em><tt class="literal">)</tt></b></dt>
<dd>
<p>This macro identifies a file containing a list of domain names that
should be converted to canonical form even if nocanonify has been
selected.
</p>
</dd>


<dt><b><tt class="literal">LOCAL_DOMAIN(</tt><em class="replaceable">alias-hostname</em><tt class="literal">)</tt></b></dt>
<dd>
<p>This macro defines an alias for the local host. Mail addressed to the
alias will be accepted as if it were addressed directly to the local
host.
</p>
</dd>

</dl>

<p>The macros and features described in this section are not limited to
the DOMAIN source file. They can appear in any <tt class="literal">m4</tt>
source file, and, in fact, are often found in the macro control file.
However, they are most naturally associated with the DOMAIN file as
indicated by the documentation in the <em class="emphasis">cf/cf/README</em>
file.
</p>

</div>
<a name="tcp3-APP-E-SECT-3.5" /><div class="sect2">
<h3 class="sect2">E.3.5. MAILER</h3>

<p>It is possible that you <a name="INDEX-3761" />
<a name="INDEX-3762" />will need to customize a file location in
an OSTYPE file or that define domain-specific information in a DOMAIN
file, but unless you develop your own mail delivery program you will
not need to create a <tt class="literal">MAILER</tt> source file. Instead,
you will need to invoke one or more existing files in your macro
configuration file.
</p>

<p>The available MAILER files are listed in <a href="appe_03.html#tcp3-APP-E-TABLE-6">Table E-6</a>. This table lists each MAILER value and its
function. These are invoked using the
<tt class="literal">MAILER(</tt><em class="replaceable">value</em><tt class="literal">)</tt>
command in the macro configuration (<em class="emphasis">.mc</em>) file,
where <em class="replaceable">value</em> is one of the mailer names
from the table.
</p>

</th>
<th>
<p>Function</p>
</th>
</tr>


<tr>
<td>
<p>local</p>
</td>
<td>
<p>The local and prog mailers</p>
</td>
</tr>
<tr>
<td>
<p>smtp</p>
</td>
<td>
<p>All SMTP mailers: smtp, esmtp, smtp8, and relay</p>
</td>
</tr>
<tr>
<td>
<p>uucp</p>
</td>
<td>
<p>All UUCP mailers: uucp-old (uucp) and uucp-new (suucp)</p>
</td>
</tr>
<tr>
<td>
<p>usenet</p>
</td>
<td>
<p>Usenet news support</p>
</td>
</tr>
<tr>
<td>
<p>fax</p>
</td>
<td>
<p>Fax support using FlexFAX software</p>
</td>
</tr>
<tr>
<td>
<p>pop</p>
</td>
<td>
<p>Post Office Protocol (POP) support</p>
</td>
</tr>
<tr>
<td>
<p>procmail</p>
</td>
<td>
<p>An interface for procmail</p>
</td>
</tr>
<tr>
<td>
<p>mail11</p>
</td>
<td>
<p>The DECnet mail11 mailer</p>
</td>
</tr>
<tr>
<td>
<p>phquery</p>
</td>
<td>
<p>The phquery program for CSO phone book</p>
</td>
</tr>
<tr>
<td>
<p>qpage</p>
</td>
<td>
<p>The QuickPage mailer used to send email to a pager</p>
</td>
</tr>
<tr>
<td>
<p>cyrus</p>
</td>
<td>
<p>The cyrus and cyrusbb mailers</p>
</td>
</tr>

</table><p>

<p>Your <a name="INDEX-3763" />
<a name="INDEX-3764" />macro configuration file
should have a MAILER(local) and a MAILER(smtp) entry. This gives you
the local and prog mailers required by sendmail, the smtp mailer for
standard SMTP mail, the esmtp mailer for Extended SMTP, the smtp8
mailer for 8-bit MIME mail, and the relay mailer for the various mail
relay servers mentioned in the "DOMAIN" section of this
appendix. Selecting local and smtp provides everything you need for a
standard TCP/IP installation.
</p>

<p>Of all the remaining mailers, only uucp is widely used. uucp provides
UUCP mail support for systems directly connected to UUCP networks.
The uucp-old mailer supports standard UUCP mail, and the uucp-new
mailer is used for remote sites that can handle multiple recipients
in one transfer. The system needs the mailer that is correct for the
capabilities of the remote site. Use class U to define the hostnames
of systems that need the old mailer, and class Y for the names of
remote systems that can work with the new mailer. Specify
AILER(uucp) after the MAILER(smtp) entry if your system has both
TCP/IP and UUCP connections. Ordering the MAILER statements in this
way adds two more mailers to the two standard UUCP mailers: the
uucp-dom mailer to support standard domain names, and the uucp-uudom
mailer to support standard domain names with a standard UUCP
envelope.
</p>

<p>The other mailers are rarely used:</p>

<dl>
<a name="INDEX-3765" /><dt><b><tt class="literal">usenet</tt></b></dt>
<dd>
<p>Modifies the sendmail rewrite rules to send local mail that contains
".usenet" in the username to the program inews. Instead
of this mailer, choose a user mail agent that supports Usenet news.
Don't hack sendmail to handle it.
</p>
</dd>


<a name="INDEX-3766" /><dt><b><tt class="literal">fax</tt></b></dt>
<dd>
<p>This is an experimental mailer that supports HylaFax software.</p>
</dd>


<a name="INDEX-3767" /><dt><b><tt class="literal">pop</tt></b></dt>
<dd>
<p>On most systems, POP support is provided separately by the
<tt class="literal">popd</tt> daemon, and the MAILER(pop) command is not
used.
</p>
</dd>


<a name="INDEX-3768" /><dt><b><tt class="literal">procmail</tt></b></dt>
<dd>
<p>Only provides an interface to procmail for use in the mailertable.
The sendmail V8 distribution does not provide procmail. Even when
procmail is used as the local mailer, as it is in Slackware Linux,
the MAILER(procmail) command is not required.
</p>
</dd>


<a name="INDEX-3769" /><dt><b><tt class="literal">mail11</tt></b></dt>
<dd>
<p>Only used on DECNET mail networks that use the mail11 mailer.</p>
</dd>


<a name="INDEX-3770" /><dt><b><tt class="literal">phquery</tt></b></dt>
<dd>
<p>Provides a name lookup program for the CSO phone book (ph) directory
service. User directory services are usually configured in the user
mail agent, not in sendmail.
</p>
</dd>


<a name="INDEX-3771" /><dt><b><tt class="literal">qpage</tt></b></dt>
<dd>
<p>Provides an interface from email to pagers using the QuickPage
program.
</p>
</dd>


<a name="INDEX-3772" /><dt><b><tt class="literal">cyrus</tt></b></dt>
<dd>
<p>This is a local mail delivery program with a mailbox architecture.
cyrus and cyrusbb mailers are not widely used.
</p>
</dd>

</dl>

<p>This concludes our discussion of <tt class="literal">m4</tt> macros. The
output of all of the files and commands that go into the
<tt class="literal">m4</tt> processor is a <em class="emphasis">sendmail.cf</em>
file. The remainder of this appendix provides additional details
about the <em class="emphasis">sendmail.cf</em> configuration. The bulk of
information about <em class="emphasis">sendmail.cf</em> is found in <a href="ch10_01.html">Chapter 10, "sendmail "</a>. 
</p>

</div>


<hr width="684" align="left" />
<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="appe_02.html"><img alt="Previous" border="0" src="../gifs/txtpreva.gif" /></a></td><td align="center" valign="top" width="228"><a href="index.html"><img alt="Home" border="0" src="../gifs/txthome.gif" /></a></td><td align="right" valign="top" width="228"><a href="appe_04.html"><img alt="Next" border="0" src="../gifs/txtnexta.gif" /></a></td></tr><tr><td align="left" valign="top" width="228">E.2. The sendmail Command</td><td align="center" valign="top" width="228"><a href="index/index.html"><img alt="Book Index" border="0" src="../gifs/index.gif" /></a></td><td align="right" valign="top" width="228">E.4. More sendmail.cf</td></tr></table></div>
<hr width="684" align="left" />

<img alt="Library Navigation Links" border="0" src="../gifs/navbar.gif" usemap="#library-map" />
<p><p><font size="-1"><a href="copyrght.html">Copyright &copy; 2002</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map"><area shape="rect" coords="1,0,84,90" href="../index.html" /><area shape="rect" coords="86,-7,176,90" href="../ssh/index.html" /><area shape="rect" coords="178,0,265,101" href="index.html" /><area shape="rect" coords="266,0,333,90" href="../nfs/index.html" /><area shape="rect" coords="334,-1,429,93" href="../snmp/index.html" /><area shape="rect" coords="431,0,529,116" href="../tshoot/index.html" /><area shape="rect" coords="534,0,594,104" href="../dns/index.html" /><area shape="rect" coords="595,1,704,108" href="../fire/index-2.html" /></map>

</body>
<!-- Mirrored from nnc3.com/mags/Networking2/tcp/appe_03.htm by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 28 Jul 2017 17:56:36 GMT -->
</html>
