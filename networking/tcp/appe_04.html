<html>
<!-- Mirrored from nnc3.com/mags/Networking2/tcp/appe_04.htm by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 28 Jul 2017 17:56:36 GMT -->
<head><title>More sendmail.cf (TCP/IP Network Administration, 3rd Edition)</title><link rel="stylesheet" type="text/css" href="../style/style1.css" />

<meta name="DC.Creator" content="Craig Hunt" /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="0596002971L" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="TCP/IP Network Administration, 3rd Edition" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">

<img alt="Book Home" border="0" src="gifs/smbanner.gif" usemap="#banner-map" /><map name="banner-map"><area shape="rect" coords="1,-2,616,66" href="index.html" alt="TCP/IP Network Administration" /><area shape="rect" coords="629,-11,726,25" href="jobjects/fsearch.html" alt="Search this book" /></map>

<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="appe_03.html"><img alt="Previous" border="0" src="../gifs/txtpreva.gif" /></a></td><td align="center" valign="top" width="228" /><td align="right" valign="top" width="228"><a href="appf_01.html"><img alt="Next" border="0" src="../gifs/txtnexta.gif" /></a></td></tr></table></div>



<h2 class="sect1">E.4. More sendmail.cf</h2>

<p>Many options and flags can be used in configuring the
<em class="emphasis">sendmail.cf</em><a name="INDEX-3773" />
<a name="INDEX-3774" /> file. All of the important configuration
parameters are covered in <a href="ch10_01.html">Chapter 10, "sendmail "</a>. But if you
are unlucky enough to have a configuration that requires you to tweak
one of the more obscure parameters, you will find all of them in the
following tables.
</p>

<a name="tcp3-APP-E-SECT-4.1" /><div class="sect2">
<h3 class="sect2">E.4.1. sendmail Macros</h3>

<p>The <em class="emphasis">sendmail.cf</em> file contains a large number of
macro variables. Macros are useful because they can store values
specific to your configuration and yet be referenced by a macro name
that is independent of your configuration. This makes it possible to
use a configuration file that is essentially the same on many
different systems simply by varying the value stored in the macro.
This appendix lists all of the internal sendmail macros in two
tables. <a href="appe_04.html#tcp3-APP-E-TABLE-7">Table E-7</a> lists all of the macros
<a name="INDEX-3775" />that use single-character names.
</p>

<a name="tcp3-APP-E-TABLE-7" /><h4 class="objtitle">Table E-7. Macros with single-character names </h4><table border="1">



<tr>
<th>
<p>Macro</p>
</th>
<th>
<p>Contents</p>
</th>
</tr>


<tr>
<td>
<p>a</p>
</td>
<td>
<p>The date and time the mail was sent.</p>
</td>
</tr>
<tr>
<td>
<p>b</p>
</td>
<td>
<p>The current date in RFC 822 format.</p>
</td>
</tr>
<tr>
<td>
<p>B</p>
</td>
<td>
<p>The name of the Bitnet relay.</p>
</td>
</tr>
<tr>
<td>
<p>c</p>
</td>
<td>
<p>The number of times the mail has been forwarded.</p>
</td>
</tr>
<tr>
<td>
<p>C</p>
</td>
<td>
<p>The name of the DECnet relay.</p>
</td>
</tr>
<tr>
<td>
<p>d</p>
</td>
<td>
<p>The current date and time in ctime format.</p>
</td>
</tr>
<tr>
<td>
<p>E</p>
</td>
<td>
<p>Reserved for an X.400 relay.</p>
</td>
</tr>
<tr>
<td>
<p>f</p>
</td>
<td>
<p>The sender address.</p>
</td>
</tr>
<tr>
<td>
<p>F</p>
</td>
<td>
<p>The name of the FAX relay.</p>
</td>
</tr>
<tr>
<td>
<p>g</p>
</td>
<td>
<p>The sender address written as a full return address.</p>
</td>
</tr>
<tr>
<td>
<p>h</p>
</td>
<td>
<p>The recipient host.</p>
</td>
</tr>
<tr>
<td>
<p>H</p>
</td>
<td>
<p>The name of the mail hub.</p>
</td>
</tr>
<tr>
<td>
<p>i</p>
</td>
<td>
<p>The queue identifier.</p>
</td>
</tr>
<tr>
<td>
<p>j</p>
</td>
<td>
<p>The fully qualified domain name of the local computer.</p>
</td>
</tr>
<tr>
<td>
<p>k</p>
</td>
<td>
<p>The local system's UUCP node name.</p>
</td>
</tr>
<tr>
<td>
<p>L</p>
</td>
<td>
<p>The name of the LUSER_RELAY.</p>
</td>
</tr>
<tr>
<td>
<p>m</p>
</td>
<td>
<p>The name of the local domain.</p>
</td>
</tr>
<tr>
<td>
<p>M</p>
</td>
<td>
<p>The name used to masquerade outbound mail.</p>
</td>
</tr>
<tr>
<td>
<p>n</p>
</td>
<td>
<p>The sender name used for error messages.</p>
</td>
</tr>
<tr>
<td>
<p>p</p>
</td>
<td>
<p>The PID of the sendmail process running as a mail delivery agent.</p>
</td>
</tr>
<tr>
<td>
<p>r</p>
</td>
<td>
<p>The protocol used when the message was first received.</p>
</td>
</tr>
<tr>
<td>
<p>R</p>
</td>
<td>
<p>The name of the LOCAL_RELAY.</p>
</td>
</tr>
<tr>
<td>
<p>s</p>
</td>
<td>
<p>The hostname of the sender's machine.</p>
</td>
</tr>
<tr>
<td>
<p>S</p>
</td>
<td>
<p>The name of the SMART_HOST relay.</p>
</td>
</tr>
<tr>
<td>
<p>t</p>
</td>
<td>
<p>A numeric representation of the current date and time.</p>
</td>
</tr>
<tr>
<td>
<p>u</p>
</td>
<td>
<p>The username of the recipient.</p>
</td>
</tr>
<tr>
<td>
<p>U</p>
</td>
<td>
<p>A local UUCP name that overrides the value of <tt class="literal">$k</tt>.</p>
</td>
</tr>
<tr>
<td>
<p>v</p>
</td>
<td>
<p>The version number of sendmail that is running.</p>
</td>
</tr>
<tr>
<td>
<p>V</p>
</td>
<td>
<p>The name of the UUCP relay for class <tt class="literal">V</tt> hosts.</p>
</td>
</tr>
<tr>
<td>
<p>w</p>
</td>
<td>
<p>The hostname of the local system.</p>
</td>
</tr>
<tr>
<td>
<p>W</p>
</td>
<td>
<p>The name of the UUCP relay for class <tt class="literal">W</tt> hosts.</p>
</td>
</tr>
<tr>
<td>
<p>x</p>
</td>
<td>
<p>The full name of the sender.</p>
</td>
</tr>
<tr>
<td>
<p>X</p>
</td>
<td>
<p>The name of the UUCP relay for class <tt class="literal">X</tt> hosts.</p>
</td>
</tr>
<tr>
<td>
<p>Y</p>
</td>
<td>
<p>The name of the UUCP relay for all other hosts.</p>
</td>
</tr>
<tr>
<td>
<p>z</p>
</td>
<td>
<p>The home directory of the recipient.</p>
</td>
</tr>
<tr>
<td>
<p>Z</p>
</td>
<td>
<p>The version number.</p>
</td>
</tr>
<tr>
<td>
<p>_</p>
</td>
<td>
<p>Sender address validated by identd.</p>
</td>
</tr>

</table><p>

<p>The current version of sendmail allows macros to have multi-character
names. <a href="appe_04.html#tcp3-APP-E-TABLE-8">Table E-8</a> lists the macros that use long
names.
</p>

<a name="tcp3-APP-E-TABLE-8" /><h4 class="objtitle">Table E-8. Reserved macros with long names </h4><table border="1">



<tr>
<th>
<p>Macro</p>
</th>
<th>
<p>Contents</p>
</th>
</tr>


<tr>
<td>
<p>{auth_authen}</p>
</td>
<td>
<p>Identity of the authenticated user.</p>
</td>
</tr>
<tr>
<td>
<p>{auth_author}</p>
</td>
<td>
<p>Source of the authentication.</p>
</td>
</tr>
<tr>
<td>
<p>{auth_ssf}</p>
</td>
<td>
<p>The number of bits in the encryption key used by AUTH.</p>
</td>
</tr>
<tr>
<td>
<p>{auth_type}</p>
</td>
<td>
<p>The type of authentication mechanism used.</p>
</td>
</tr>
<tr>
<td>
<p>{bodytype}</p>
</td>
<td>
<p>The values from the ESMTP BODY parameter.</p>
</td>
</tr>
<tr>
<td>
<p>{cert_issuer}</p>
</td>
<td>
<p>The distinguished name of the certificate authority.</p>
</td>
</tr>
<tr>
<td>
<p>{cert_subject}</p>
</td>
<td>
<p>The distinguished name of the subject of the certificate.</p>
</td>
</tr>
<tr>
<td>
<p>{cipher_bits}</p>
</td>
<td>
<p>The length of the encryption key used for the connection.</p>
</td>
</tr>
<tr>
<td>
<p>{cipher}</p>
</td>
<td>
<p>The encryption technique used for the connection.</p>
</td>
</tr>
<tr>
<td>
<p>{client_addr}</p>
</td>
<td>
<p>The IP address of the remote client connected to TCP port 25.</p>
</td>
</tr>
<tr>
<td>
<p>{client_name}</p>
</td>
<td>
<p>The canonical name of the client connected to TCP port 25.</p>
</td>
</tr>
<tr>
<td>
<p>{client_port}</p>
</td>
<td>
<p>The source port number used by the remote client.</p>
</td>
</tr>
<tr>
<td>
<p>{client_resolve}</p>
</td>
<td>
<p>The keyword OK, FAIL, Forged or TEMP that indicates the result of a
reverse DNS lookup using the client's IP address.
</p>
</td>
</tr>
<tr>
<td>
<p>{currHeader}</p>
</td>
<td>
<p>The contents of the current header during header processing.</p>
</td>
</tr>
<tr>
<td>
<p>{daemon_addr}</p>
</td>
<td>
<p>The IP address of the network interface from which the daemon accepts
mail. Normally 0.0.0.0 to indicate all interfaces.
</p>
</td>
</tr>
<tr>
<td>
<p>{daemon_family}</p>
</td>
<td>
<p>The protocol family being used. Normally inet to indicate TCP/IP.
Other values are inet6, iso, and ns.
</p>
</td>
</tr>
<tr>
<td>
<p>{daemon_flags}</p>
</td>
<td>
<p>The flags set by the DaemonPortOption command, if any.</p>
</td>
</tr>
<tr>
<td>
<p>{daemon_info}</p>
</td>
<td>
<p>General information about the daemon.</p>
</td>
</tr>
<tr>
<td>
<p>{daemon_name}</p>
</td>
<td>
<p>The daemon name, which is usually Daemon1 unless a daemon name is
defined by the DaemonPortOptions command.
</p>
</td>
</tr>
<tr>
<td>
<p>{daemon_port}</p>
</td>
<td>
<p>The port that the daemon is listening on, usually 25.</p>
</td>
</tr>
<tr>
<td>
<p>{deliveryMode}</p>
</td>
<td>
<p>The current delivery mode.</p>
</td>
</tr>
<tr>
<td>
<p>{envid}</p>
</td>
<td>
<p>The DSN ENVID value from the Mail From: header.</p>
</td>
</tr>
<tr>
<td>
<p>{hdrlen}</p>
</td>
<td>
<p>The length of the string stored in {currHeader}.</p>
</td>
</tr>
<tr>
<td>
<p>{hdr_name}</p>
</td>
<td>
<p>The name of the current header during header processing.</p>
</td>
</tr>
<tr>
<td>
<p>{if_addr}</p>
</td>
<td>
<p>The IP address of the network interface used by the current incoming
connection.
</p>
</td>
</tr>
<tr>
<td>
<p>{if_name}</p>
</td>
<td>
<p>The hostname assigned to the network interface used by the current
incoming connection.
</p>
</td>
</tr>
<tr>
<td>
<p>{mail_addr}</p>
</td>
<td>
<p>The user's mail address from the mail delivery triple created
from the MAIL From: envelope header.
</p>
</td>
</tr>
<tr>
<td>
<p>{mail_host}</p>
</td>
<td>
<p>The hostname from the mail delivery triple created from the MAIL
From: envelope header.
</p>
</td>
</tr>
<tr>
<td>
<p>{mail_mailer}</p>
</td>
<td>
<p>The mailer name from the mail delivery triple created from the MAIL
From: envelope header.
</p>
</td>
</tr>
<tr>
<td>
<p>{MessageIdCheck}</p>
</td>
<td>
<p>The value from the incoming Message-Id: header.</p>
</td>
</tr>
<tr>
<td>
<p>{ntries}</p>
</td>
<td>
<p>The number of delivery attempts.</p>
</td>
</tr>
<tr>
<td>
<p>{opMode}</p>
</td>
<td>
<p>The operating mode from the sendmail command line.</p>
</td>
</tr>
<tr>
<td>
<p>{queue_interval}</p>
</td>
<td>
<p>The length of time between queue runs defined by the -q command-line
option.
</p>
</td>
</tr>
<tr>
<td>
<p>{rcpt_addr}</p>
</td>
<td>
<p>The user's mail address from the mail delivery triple created
from the RCPT To: envelope header.
</p>
</td>
</tr>
<tr>
<td>
<p>{rcpt_host}</p>
</td>
<td>
<p>The hostname from the mail delivery triple created from the RCPT To:
envelope header.
</p>
</td>
</tr>
<tr>
<td>
<p>{rcpt_mailer}</p>
</td>
<td>
<p>The mailer name from the mail delivery triple created from the RCPT
To: envelope header.
</p>
</td>
</tr>
<tr>
<td>
<p>{server_addr}</p>
</td>
<td>
<p>The IP address of the remote server for the outgoing connection.</p>
</td>
</tr>
<tr>
<td>
<p>{server_name}</p>
</td>
<td>
<p>The name of the remote server for the outgoing connection.</p>
</td>
</tr>
<tr>
<td>
<p>{tls_version}</p>
</td>
<td>
<p>The TLS/SSL version used for the connection.</p>
</td>
</tr>
<tr>
<td>
<p>{verify}</p>
</td>
<td>
<p>The result of the verification process.</p>
</td>
</tr>

</table><p>

</div>
<a name="tcp3-APP-E-SECT-4.2" /><div class="sect2">
<h3 class="sect2">E.4.2. sendmail Classes</h3>

<p>As the previous
tables<a name="INDEX-3776" />
<a name="INDEX-3777" /> <a name="INDEX-3778" /> show, sendmail has many internal
macros. It also has several internal classes. Most of these classes
still use single-character names. A few use the newer long names. The
full list of internal classes is shown in <a href="appe_04.html#tcp3-APP-E-TABLE-9">Table E-9</a>.
</p>

<a name="tcp3-APP-E-TABLE-9" /><h4 class="objtitle">Table E-9. Internal sendmail classes </h4><table border="1">



<tr>
<th>
<p>Name</p>
</th>
<th>
<p>Contents</p>
</th>
</tr>


<tr>
<td>
<p>B</p>
</td>
<td>
<p>Domain names included in the bestmx-is-local process.</p>
</td>
</tr>
<tr>
<td>
<p>E</p>
</td>
<td>
<p>Usernames that should not be masqueraded.</p>
</td>
</tr>
<tr>
<td>
<p>G</p>
</td>
<td>
<p>Domains that should be looked up in the genericstable.</p>
</td>
</tr>
<tr>
<td>
<p>L</p>
</td>
<td>
<p>Local users that are not forwarded to MAIL_HUB or LOCAL_RELAY.</p>
</td>
</tr>
<tr>
<td>
<p>e</p>
</td>
<td>
<p>Supported MIME Content-Transfer-Encodings. Initialized to
<em class="emphasis">7bit</em>, <em class="emphasis">8bit</em>, and
<em class="emphasis">binary.</em>
</p>
</td>
</tr>
<tr>
<td>
<p>k</p>
</td>
<td>
<p>The system's UUCP node names.</p>
</td>
</tr>
<tr>
<td>
<p>M</p>
</td>
<td>
<p>Domains that should be masqueraded.</p>
</td>
</tr>
<tr>
<td>
<p>m</p>
</td>
<td>
<p>All local domains for this host.</p>
</td>
</tr>
<tr>
<td>
<p>n</p>
</td>
<td>
<p>MIME body types that should never be 8- to 7-bit encoded. Initialized
to <em class="emphasis">multipart/signed.</em>
</p>
</td>
</tr>
<tr>
<td>
<p>q</p>
</td>
<td>
<p>MIME Content-Types that should not be Base64-encoded. Initialized to
<em class="emphasis">text/plain.</em>
</p>
</td>
</tr>
<tr>
<td>
<p>N</p>
</td>
<td>
<p>Hosts and domains that should not be masqueraded.</p>
</td>
</tr>
<tr>
<td>
<p>O</p>
</td>
<td>
<p>Characters that cannot be used in local usernames.</p>
</td>
</tr>
<tr>
<td>
<p>P</p>
</td>
<td>
<p>Pseudo-domain names, such as REDIRECT.</p>
</td>
</tr>
<tr>
<td>
<p>R</p>
</td>
<td>
<p>Domains for which this system will relay mail.</p>
</td>
</tr>
<tr>
<td>
<p>s</p>
</td>
<td>
<p>MIME message subtypes that can be processed recursively. Initialized
to <em class="emphasis">rfc822.</em>
</p>
</td>
</tr>
<tr>
<td>
<p>t</p>
</td>
<td>
<p>The list of trusted users.</p>
</td>
</tr>
<tr>
<td>
<p>U</p>
</td>
<td>
<p>The UUCP hosts that are locally connected.</p>
</td>
</tr>
<tr>
<td>
<p>V</p>
</td>
<td>
<p>The UUCP hosts reached via the relay defined by <tt class="literal">$V</tt>.</p>
</td>
</tr>
<tr>
<td>
<p>W</p>
</td>
<td>
<p>The UUCP hosts reached via the relay defined by <tt class="literal">$W</tt>.</p>
</td>
</tr>
<tr>
<td>
<p>X</p>
</td>
<td>
<p>The UUCP hosts reached via the relay defined by <tt class="literal">$X</tt>.</p>
</td>
</tr>
<tr>
<td>
<p>Y</p>
</td>
<td>
<p>Directly connected "smart" UUCP hosts.</p>
</td>
</tr>
<tr>
<td>
<p>Z</p>
</td>
<td>
<p>Directly connected UUCP hosts that use domain names.</p>
</td>
</tr>
<tr>
<td>
<p>.</p>
</td>
<td>
<p>A literal dot (.).</p>
</td>
</tr>
<tr>
<td>
<p>[</p>
</td>
<td>
<p>A literal left bracket ([).</p>
</td>
</tr>
<tr>
<td>
<p>{LDAPRoute}</p>
</td>
<td>
<p>A list of domains that can be rerouted based on LDAP lookups.</p>
</td>
</tr>
<tr>
<td>
<p>{VirtHost}</p>
</td>
<td>
<p>A list of hosts and domains that are valid virtual hostnames.</p>
</td>
</tr>
<tr>
<td>
<p>w</p>
</td>
<td>
<p>All hostnames this system will accept as its own.</p>
</td>
</tr>

</table><p>

</div>
<a name="tcp3-APP-E-SECT-4.3" /><div class="sect2">
<h3 class="sect2">E.4.3. sendmail Options</h3>

<p>A large number of <a name="INDEX-3779" />sendmail
options can be set inside the sendmail configuration file. <a href="ch10_01.html">Chapter 10, "sendmail "</a> provides the syntax of the option command in
<a href="ch10_05.html#tcp3-CHP-10-TABLE-1">Table 10-1</a> and several examples of options. The
complete list of options is:
</p>

<dl>
<dt><b><tt class="literal">AliasFile=[</tt><em class="replaceable">class</em><tt class="literal">:]</tt><em class="replaceable">file</em><tt class="literal">, [</tt><em class="replaceable">class</em><tt class="literal">:]</tt><em class="replaceable">file</em><tt class="literal">...</tt></b></dt>
<dd>
<p>Identifies the alias file(s). <em class="replaceable">class</em> is
optional and defaults to <tt class="literal">implicit</tt>. Valid classes
are <tt class="literal">implicit</tt>, <tt class="literal">hash</tt>,
<tt class="literal">dbm</tt>, <tt class="literal">stab</tt> (internal symbol
table) or <tt class="literal">nis</tt>. The selected database class must be
a database type that was compiled into <tt class="literal">sendmail</tt> on
your system. <em class="replaceable">file</em> is the pathname of the
alias file.
</p>
</dd>


<dt><b><tt class="literal">AliasWait=</tt><em class="replaceable">timeout</em></b></dt>
<dd>
<p>Wait <em class="replaceable">timeout</em> minutes for an
"@:@" entry to appear in the alias database before
starting up. When <em class="replaceable">timeout</em> expires,
automatically rebuild the database if
<tt class="literal">AutoRebuildAliases</tt> is set; otherwise, issue a
warning.
</p>
</dd>


<dt><b><tt class="literal">AuthMechanisms=</tt><em class="replaceable">list</em></b></dt>
<dd>
<p>Advertise the listed authentication mechanisms.</p>
</dd>


<dt><b><tt class="literal">AuthOptions=</tt><em class="replaceable">list</em></b></dt>
<dd>
<p>Lists the options supported with the SMTP AUTH argument.</p>
</dd>


<dt><b><tt class="literal">AllowBogusHELO</tt></b></dt>
<dd>
<p>Accept illegal HELO SMTP commands that don't contain a hostname.</p>
</dd>


<dt><b><tt class="literal">AutoRebuildAliases</tt></b></dt>
<dd>
<p>Automatically rebuild the alias database when necessary. The
preferred method is to rebuild the alias database with an explicit
<tt class="literal">newaliases</tt> command.
</p>
</dd>


<dt><b><tt class="literal">BlankSub=</tt><em class="replaceable">c</em></b></dt>
<dd>
<p>Use <em class="replaceable">c</em> as the blank substitution character
to replace unquoted spaces in addresses. The default is to leave the
spaces unchanged.
</p>
</dd>


<dt><b><tt class="literal">CACERTFile=</tt><em class="replaceable">filename</em></b></dt>
<dd>
<p>Identifies the file that contains the certificate of a certificate
authority.
</p>
</dd>


<dt><b><tt class="literal">CACERTPath=</tt><em class="replaceable">path</em></b></dt>
<dd>
<p>Defines the path to the directory that contains the certificates of
various certificate authorities.
</p>
</dd>


<dt><b><tt class="literal">CheckAliases</tt></b></dt>
<dd>
<p>Check that the delivery address in each alias is valid when
rebuilding the alias database. Normally this check is not done.
Adding this check slows the database build substantially. This is a
Boolean.
</p>
</dd>


<dt><b><tt class="literal">CheckpointInterval=</tt><em class="replaceable">n</em></b></dt>
<dd>
<p>Checkpoint the queue after every <em class="replaceable">n</em> items
are processed to simplify recovery if your system crashes during
queue processing. The default is 10.
</p>
</dd>


<dt><b><tt class="literal">ClassFactor=</tt><em class="replaceable">fact</em></b></dt>
<dd>
<p>The multiplier used to favor messages with a higher value in the
Priority: header. Defaults to 1800.
</p>
</dd>


<dt><b><tt class="literal">ClientCertFile=</tt><em class="replaceable">file</em></b></dt>
<dd>
<p>Identifies the file that contains the certificate used when this
system acts as a client.
</p>
</dd>


<dt><b><tt class="literal">ClientKeyFile=</tt><em class="replaceable">file</em></b></dt>
<dd>
<p>Identifies the file that contains the private key used when this
system acts as a client.
</p>
</dd>


<dt><b><tt class="literal">ClientPortOptions=</tt><em class="replaceable">options</em></b></dt>
<dd>
<p>Defines nonstandard settings used when this system acts as an SMTP
client. <em class="replaceable">options</em> is a comma-separated list
of <em class="replaceable">keyword=value</em> pairs. Valid
<em class="replaceable">keyword=value</em> pairs are:
</p>

<dl>
<dt><b><tt class="literal">Port=</tt><em class="replaceable">port</em></b></dt>
<dd>
<p>Defines the source port number the client uses for outbound
connections. <em class="replaceable">port</em> can be specified by
number or name. If a name is used, the name must be defined in
<em class="emphasis">/etc/services</em>. By default, the source port for
an outbound connection is generated by the system for the connection.
</p>
</dd>


<dt><b><tt class="literal">Addr=</tt><em class="replaceable">address</em></b></dt>
<dd>
<p>Defines the address of the network interface the client uses for
outbound connections. The value for
<em class="replaceable">address</em> can be written in dotted decimal
notation or as a name. By default, any available interface is used.
</p>
</dd>


<dt><b><tt class="literal">Family=</tt><em class="replaceable">protocol</em></b></dt>
<dd>
<p>Defines the protocol family used for the connection.
<tt class="literal">inet</tt>, which is the default, is the protocol family
for TCP/IP.
</p>
</dd>


<dt><b><tt class="literal">SndBufSize=</tt><em class="replaceable">bytes</em></b></dt>
<dd>
<p>Defines the size of the send buffer.</p>
</dd>


<dt><b><tt class="literal">RcvBufSize=</tt><em class="replaceable">bytes</em></b></dt>
<dd>
<p>Defines the size of the receive buffer.</p>
</dd>


<dt><b><tt class="literal">Modifier=</tt><em class="replaceable">flags</em></b></dt>
<dd>
<p>Defines the daemon flags for the client. Only one flag,
<tt class="literal">h</tt>, is available. The <tt class="literal">h</tt> flag
tells the client to use the name assigned to the interface on the
SMTP HELO or EHLO command.
</p>
</dd>

</dl>
</dd>


<dt><b><tt class="literal">ColonOkInAddr</tt></b></dt>
<dd>
<p>Accept colons in email addresses (e.g.,
<em class="emphasis">host:user</em>). Colons are always accepted in pairs
in mail routing (<em class="emphasis">nodename::user</em>) or in RFC 822
group constructs (groupname: member1, member2, ...;). By default,
this option is "on" if the configuration version level is
less than 6.
</p>
</dd>


<dt><b><tt class="literal">ConnectionCacheSize=</tt><em class="replaceable">n</em></b></dt>
<dd>
<p>The number of connections that can be held open (cached) by this
instantiation of sendmail. The default is 1. The maximum is 4. 0
causes connections to be closed immediately after the data is sent,
which is the traditional way sendmail operated.
</p>
</dd>


<dt><b><tt class="literal">ConnectionCacheTimeout=</tt><em class="replaceable">timeout</em></b></dt>
<dd>
<p>The amount of time an inactive cached connection is held open. After
<em class="replaceable">timeout</em> minutes of inactivity, it is
closed. The default is 5 minutes.
</p>
</dd>


<dt><b><tt class="literal">ConnectionRateThrottle=</tt><em class="replaceable">n</em></b></dt>
<dd>
<p>Limits the number of incoming connections accepted in any 1-second
period to <em class="replaceable">n</em>. The default is 0, which means
no limit.
</p>
</dd>


<dt><b><tt class="literal">ConnectOnlyTo=</tt><em class="replaceable">address</em></b></dt>
<dd>
<p>Limits all SMTP connections to a single destination address. Used
only for testing.
</p>
</dd>


<dt><b><tt class="literal">ControlSocketName=</tt><em class="replaceable">path</em></b></dt>
<dd>
<p>Defines the path of the Unix control socket used to manage daemon
connections. By default, this is not defined.
</p>
</dd>


<dt><b><tt class="literal">DaemonPortOptions=</tt><em class="replaceable">options</em></b></dt>
<dd>
<p>Sets SMTP server options. The <em class="replaceable">options</em> are
key=value pairs. The options are:
</p>
</dd>


<dt><b><tt class="literal">Port=</tt><em class="replaceable">portnumber</em></b></dt>
<dd>
<p>where <em class="replaceable">portnumber</em> is any valid port number.
It can be specified with the number or the name found in
<em class="emphasis">/etc/services</em>. The default is port 25, SMTP.
</p>
</dd>


<dt><b><tt class="literal">Addr=</tt><em class="replaceable">mask</em></b></dt>
<dd>
<p>where <em class="replaceable">mask</em> is an IP address mask specified
either in dotted decimal notation or as a network name. The default
is INADDR-ANY, which accepts all addresses.
</p>
</dd>


<dt><b><tt class="literal">Family=</tt><em class="replaceable">addressfamily</em></b></dt>
<dd>
<p>where <em class="replaceable">addressfamily</em> is a valid address
family (see the <tt class="literal">ifconfig</tt> command). The default is
INET, which allows IP addresses to be used.
</p>
</dd>


<dt><b><tt class="literal">Listen=</tt><em class="replaceable">n</em></b></dt>
<dd>
<p>where <em class="replaceable">n</em> is the number of queued
connections allowed. The default is 10.
</p>
</dd>


<dt><b><tt class="literal">SndBufSize=</tt><em class="replaceable">n</em></b></dt>
<dd>
<p>where <em class="replaceable">n</em> is the send buffer size.</p>
</dd>


<dt><b><tt class="literal">RcvBufSize=</tt><em class="replaceable">n</em></b></dt>
<dd>
<p>where <em class="replaceable">n</em> is the receive buffer size.</p>
</dd>


<dt><b><tt class="literal">DataFileBufferSize=</tt><em class="replaceable">bytes</em></b></dt>
<dd>
<p>Defines the maximum amount of memory that can be used to buffer a
data file.
</p>
</dd>


<dt><b><tt class="literal">DeadLetterDrop=</tt><em class="replaceable">file</em></b></dt>
<dd>
<p>Defines the file where messages that cannot be returned to the sender
or sent to the <tt class="literal">postmaster</tt> account are stored.
</p>
</dd>


<dt><b><tt class="literal">DefaultAuthInfo=</tt><em class="replaceable">file</em></b></dt>
<dd>
<p>Defines the file that contains the authentication information needed
for outbound connections.
</p>
</dd>


<dt><b><tt class="literal">DefaultCharSet=</tt><em class="replaceable">charset</em></b></dt>
<dd>
<p>The character set placed in the Content-Type: header when 8-bit data
is converted to MIME format. The default is
<tt class="literal">unknown-8bit</tt>. This option is overridden by the
Charset= field of the mailer descriptor.
</p>
</dd>


<dt><b><tt class="literal">DefaultUser=</tt><em class="replaceable">user</em><tt class="literal">[:</tt><em class="replaceable">group</em><tt class="literal">]</tt></b></dt>
<dd>
<p>The default user ID and group ID for mailers without the S flag in
their definitions. If <em class="replaceable">group</em> is omitted,
the group associated with <em class="replaceable">user</em> in the
<em class="emphasis">/etc/passwd</em> file is used. The default is 1:1.
</p>
</dd>


<dt><b><tt class="literal">DeliveryMode=</tt><em class="replaceable">x</em></b></dt>
<dd>
<p>Deliver in mode <em class="replaceable">x</em>, where
<em class="replaceable">x</em> is i (interactive delivery), b
(background delivery), q (queue the message), or d (defer until the
queue run). The default is b.
</p>
</dd>


<dt><b><tt class="literal">DHParameters=</tt><em class="replaceable">parameters</em></b></dt>
<dd>
<p>Defines the DH parameters used for DSA/DH encryption.</p>
</dd>


<dt><b><tt class="literal">DialDelay=</tt><em class="replaceable">delaytime</em></b></dt>
<dd>
<p>Delay <em class="replaceable">delaytime</em> seconds before redialing a
failed connection on dial-on-demand networks. The default is 0 (no
redial).
</p>
</dd>


<dt><b><tt class="literal">DontBlameSendmail=</tt><em class="replaceable">options</em></b></dt>
<dd>
<p>Disables sendmail's file security checks.
<em class="replaceable">options</em> is a comma-separated list of
keywords that disable specific security checks. The values for this
option are set by the confDONT_BLAME_SENDMAIL
<tt class="literal">define</tt> command in the <tt class="literal">m4</tt> source
file. The valid keywords for the <em class="replaceable">options</em>
list are:
</p>

<dl>
<dt><b><tt class="literal">AssumeSafeChown</tt></b></dt>
<dd>
<p>Allow the <tt class="literal">chown</tt> command because it is only
available to the root user.
</p>
</dd>


<dt><b><tt class="literal">ClassFileInUnsafeDirPath</tt></b></dt>
<dd>
<p>Accept any directory path in an <tt class="literal">F</tt> command.</p>
</dd>


<dt><b><tt class="literal">DontWarnForwardFileInUnsafeDirPath</tt></b></dt>
<dd>
<p>Don't issue a warning about an unsafe path for the
<em class="emphasis">.forward</em> file.
</p>
</dd>


<dt><b><tt class="literal">ErrorHeaderInUnsafeDirPath</tt></b></dt>
<dd>
<p>Accept the error header file regardless of its directory path.</p>
</dd>


<dt><b><tt class="literal">FileDeliveryToHardLink</tt></b></dt>
<dd>
<p>Permit delivery to a file that is really a hard link.</p>
</dd>


<dt><b><tt class="literal">FileDeliveryToSymLink</tt></b></dt>
<dd>
<p>Permit delivery to a file that is really a symbolic link.</p>
</dd>


<dt><b><tt class="literal">ForwardFileInUnsafeDirPath</tt></b></dt>
<dd>
<p>Accept a <em class="emphasis">.forward</em> file even if it is in an
unsafe directory.
</p>
</dd>


<dt><b><tt class="literal">ForwardFileInUnsafeDirPathSafe</tt></b></dt>
<dd>
<p>Accept program and file references from a
<em class="emphasis">.forward</em> file even if it is in an unsafe
directory.
</p>
</dd>


<dt><b><tt class="literal">ForwardFileIngroupWritableDirPath</tt></b></dt>
<dd>
<p>Accept a <em class="emphasis">.forward</em> file even if it is in a
group-writable directory.
</p>
</dd>


<dt><b><tt class="literal">GroupWritableAliasFile</tt></b></dt>
<dd>
<p>Accept the <em class="emphasis">aliases</em> file even if it is
group-writable.
</p>
</dd>


<dt><b><tt class="literal">GroupWritableDirPathSafe</tt></b></dt>
<dd>
<p>Accept all group-writable directories as "safe."</p>
</dd>


<dt><b><tt class="literal">GroupWritableForwardFileSafe</tt></b></dt>
<dd>
<p>Accept a <em class="emphasis">.forward</em> file even if it is
group-writable.
</p>
</dd>


<dt><b><tt class="literal">GroupWritableIncludeFileSafe</tt></b></dt>
<dd>
<p>Accept <em class="emphasis">:include:</em> files even if they are
group-writable.
</p>
</dd>


<dt><b><tt class="literal">HelpFileinUnsafeDirPath</tt></b></dt>
<dd>
<p>Accept the help file even if it is in an unsafe directory.</p>
</dd>


<dt><b><tt class="literal">IncludeFileInUnsafeDirPath</tt></b></dt>
<dd>
<p>Accept <em class="emphasis">:include:</em> files even if they are from
unsafe directories.
</p>
</dd>


<dt><b><tt class="literal">IncludeFileInUnsafeDirPathSafe</tt></b></dt>
<dd>
<p>Accept program and file references from
<em class="emphasis">:include:</em> files even if they are in an unsafe
directory.
</p>
</dd>


<dt><b><tt class="literal">IncludeFileIngroupWritableDirPath</tt></b></dt>
<dd>
<p>Accept <em class="emphasis">:include:</em> files even if they are in a
group-writable directory.
</p>
</dd>


<dt><b><tt class="literal">InsufficientEntropy</tt></b></dt>
<dd>
<p>Use STARTTLS even if the random seed generator for SSL is inadequate.</p>
</dd>


<dt><b><tt class="literal">LinkedAliasFileInWritableDir</tt></b></dt>
<dd>
<p>Accept an <em class="emphasis">aliases</em> file that is a link in a
writable directory.
</p>
</dd>


<dt><b><tt class="literal">LinkedClassFileInWritableDir</tt></b></dt>
<dd>
<p>Load class values from files that are links in writable directories.</p>
</dd>


<dt><b><tt class="literal">LinkedForwardFileInWritableDir</tt></b></dt>
<dd>
<p>Accept <em class="emphasis">.forward</em> files that are links in writable
directories.
</p>
</dd>


<dt><b><tt class="literal">LinkedIncludeFileInWritableDir</tt></b></dt>
<dd>
<p>Accept <em class="emphasis">:include:</em> files that are links in
writable directories.
</p>
</dd>


<dt><b><tt class="literal">LinkedMapInWritableDir</tt></b></dt>
<dd>
<p>Accept database files that are links in writable directories.</p>
</dd>


<dt><b><tt class="literal">LinkedServiceSwitchFileInWritableDir</tt></b></dt>
<dd>
<p>Accept a service switch file that is a link in a writable directory.</p>
</dd>


<dt><b><tt class="literal">MapInUnsafeDirPath</tt></b></dt>
<dd>
<p>Accept database files that are in unsafe directories.</p>
</dd>


<dt><b><tt class="literal">NonRootSafeAddr</tt></b></dt>
<dd>
<p>Don't flag file and program deliveries as unsafe when sendmail
is not running as root.
</p>
</dd>


<dt><b><tt class="literal">RunProgramInUnsafeDirPath</tt></b></dt>
<dd>
<p>Run programs that are in writable directories.</p>
</dd>


<dt><b><tt class="literal">RunWritableProgram</tt></b></dt>
<dd>
<p>Run programs that are group- or world-writable.</p>
</dd>


<dt><b><tt class="literal">Safe</tt></b></dt>
<dd>
<p>Leave all of the safety checks on. This is the default.</p>
</dd>


<dt><b><tt class="literal">TrustStickyBit</tt></b></dt>
<dd>
<p>Trust group- and world-writable directories if the sticky bit is set.</p>
</dd>


<dt><b><tt class="literal">WorldWritableAliasFile</tt></b></dt>
<dd>
<p>Accept the <em class="emphasis">aliases</em> file even if it is
world-writable.
</p>
</dd>


<dt><b><tt class="literal">WriteMapToHardLink</tt></b></dt>
<dd>
<p>Write to database files even if they are really hard links.</p>
</dd>


<dt><b><tt class="literal">WriteMapToSymLink</tt></b></dt>
<dd>
<p>Write to database files even if they are really symbolic links.</p>
</dd>


<dt><b><tt class="literal">WriteStatsToHardLink</tt></b></dt>
<dd>
<p>Write to the status file even if it is really a hard link.</p>
</dd>


<dt><b><tt class="literal">WriteStatsToSymLink</tt></b></dt>
<dd>
<p>Write to the status file even if it is really a symbolic link.</p>
</dd>

</dl>
</dd>


<dt><b><tt class="literal">DontExpandCnames</tt></b></dt>
<dd>
<p>Disable the
<tt class="literal">$[</tt><em class="replaceable">name</em><tt class="literal">$]</tt>
syntax used to convert nicknames to canonical names.
</p>
</dd>


<dt><b><tt class="literal">DontInitGroups</tt></b></dt>
<dd>
<p>Don't use the initgroups(3) call. This setting reduces NIS
server load, but limits a user to the group associated with that user
in <em class="emphasis">/etc/passwd</em>.
</p>
</dd>


<dt><b><tt class="literal">DontProbeInterfaces</tt></b></dt>
<dd>
<p>If set to true, this stops sendmail from adding the names and
addresses of the network interfaces to class w. The default is false,
so interface names and addresses are stored in class w.
</p>
</dd>


<dt><b><tt class="literal">DontPruneRoutes</tt></b></dt>
<dd>
<p>Don't optimize explicit mail routes. Normally, sendmail makes a
route as direct as possible. However, optimizing the route may not be
appropriate for systems located behind a firewall.
</p>
</dd>


<dt><b><tt class="literal">DoubleBounceAddress=</tt><em class="replaceable">error-address</em></b></dt>
<dd>
<p>Send the report of an error that occurs when sending an error message
to <em class="replaceable">error-address</em>. The default is
<tt class="literal">postmaster</tt>.
</p>
</dd>


<dt><b><tt class="literal">EightBitMode=</tt><em class="replaceable">action</em></b></dt>
<dd>
<p>Handle undeclared 8-bit data by following the specified
<em class="replaceable">action</em>. The possible actions are:
<tt class="literal">s</tt> (strict), reject undeclared 8-bit data;
<tt class="literal">m</tt> (mime), convert it to MIME; and
<tt class="literal">p</tt> (pass), pass it through unaltered.
</p>
</dd>


<dt><b><tt class="literal">ErrorHeader=</tt><em class="replaceable">file-or-message</em></b></dt>
<dd>
<p>Prepend <em class="replaceable">file-or-message</em> to outgoing error
messages. If <em class="replaceable">file-or-message</em> is the path
to a text file that is to be prepended, it must begin with a slash.
If this option is not defined, nothing is prepended to error
messages.
</p>
</dd>


<dt><b><tt class="literal">ErrorMode=</tt><em class="replaceable">x</em></b></dt>
<dd>
<p>Handle errors messages according to <em class="replaceable">x</em>,
where <em class="replaceable">x</em> is: <tt class="literal">p</tt> (print
messages); <tt class="literal">q</tt> (give exit status but no messages);
<tt class="literal">m</tt> (mail back messages); <tt class="literal">w</tt>
(write messages to the user's terminal); or
<tt class="literal">e</tt> (mail back messages and always give zero exit
status). If this option is not defined, error messages are printed.
</p>
</dd>


<dt><b><tt class="literal">FallbackMXhost=</tt><em class="replaceable">fallbackhost</em></b></dt>
<dd>
<p>Use <em class="replaceable">fallbackhost</em> as a backup MX server for
every host.
</p>
</dd>


<dt><b><tt class="literal">ForkEachJob</tt></b></dt>
<dd>
<p>Run a separate process for every item delivered from the queue. This
option reduces the amount of memory needed to process the queue.
</p>
</dd>


<dt><b><tt class="literal">ForwardPath=</tt><em class="replaceable">path</em></b></dt>
<dd>
<p>The <em class="replaceable">path</em> to search for
.<em class="emphasis">forward</em> files. Multiple paths can be defined by
separating them with colons. The default is
<em class="emphasis">$z/.forward</em>.
</p>
</dd>


<dt><b><tt class="literal">HelpFile=</tt><em class="replaceable">file</em></b></dt>
<dd>
<p>The path to the help file.</p>
</dd>


<dt><b><tt class="literal">HoldExpensive</tt></b></dt>
<dd>
<p>Queue mail for outgoing mailers that have the <tt class="literal">e</tt>
(expensive) mailer flag. Normally mail is delivered immediately.
</p>
</dd>


<dt><b><tt class="literal">HostsFile=</tt><em class="replaceable">path</em></b></dt>
<dd>
<p>The path to the hosts file. The default is
<em class="emphasis">/etc/hosts</em>.
</p>
</dd>


<dt><b><tt class="literal">HostStatusDirectory=</tt><em class="replaceable">path</em></b></dt>
<dd>
<p>Directory in which host status information is stored so that it can
be shared between sendmail processes. Normally, the status of a host
or connection is only known by the process that discovers that
status. To function, this option requires that ConnectionCacheSize be
set to at least 1.
</p>
</dd>


<dt><b><tt class="literal">IgnoreDots</tt></b></dt>
<dd>
<p>Ignore dots in incoming messages. Dots cannot be ignored by SMTP mail
because they are used to mark the end of a mail message.
</p>
</dd>


<dt><b><tt class="literal">LDAPDefaultSpec=</tt><em class="replaceable">specification</em></b></dt>
<dd>
<p>The default specification used for LDAP databases.</p>
</dd>


<dt><b><tt class="literal">LogLevel=</tt><em class="replaceable">n</em></b></dt>
<dd>
<p><em class="replaceable">n</em> indicates the level of detail stored in
the log file. <em class="replaceable">n</em> defaults to 9, which is
normally plenty of detail.
</p>
</dd>


<dt><b><tt class="literal">MatchGECOS</tt></b></dt>
<dd>
<p>Check the username from the email address against the GECOS field of
the <em class="emphasis">passwd</em> file if it was not found in the alias
database or in the username field of the <em class="emphasis">passwd</em>
file. This option is not recommended.
</p>
</dd>


<dt><b><tt class="literal">MaxAliasRecursion=</tt><em class="replaceable">n</em></b></dt>
<dd>
<p>Aliases can point to other aliases before finally resolving to the
actual mail address. This option defines how deep aliases can be
nested before resolving to a mail address. The default for
<em class="replaceable">n</em> is 10.
</p>
</dd>


<dt><b><tt class="literal">MaxDaemonChildren=</tt><em class="replaceable">n</em></b></dt>
<dd>
<p>Refuse connections when <em class="replaceable">n</em> children are
processing incoming mail. Normally sendmail sets no arbitrary limit
on child processes.
</p>
</dd>


<dt><b><tt class="literal">MaxHeadersLength=</tt><em class="replaceable">bytes</em></b></dt>
<dd>
<p>The maximum length allowed for all of the headers taken together.</p>
</dd>


<dt><b><tt class="literal">MaxHopCount=</tt><em class="replaceable">n</em></b></dt>
<dd>
<p>Assume a message is looping when it has been processed more than
<em class="replaceable">n</em> times. The default is 25.
</p>
</dd>


<dt><b><tt class="literal">MaxHostStatAge=</tt><em class="replaceable">n</em></b></dt>
<dd>
<p>Retain host status information for <em class="replaceable">n</em>
minutes.
</p>
</dd>


<dt><b><tt class="literal">MaxMessageSize=</tt><em class="replaceable">n</em></b></dt>
<dd>
<p>The maximum message size advertised in response to the ESMTP EHLO.
essages larger than this are rejected.
</p>
</dd>


<dt><b><tt class="literal">MaxMimeHeaderLength=</tt><em class="replaceable">size</em></b></dt>
<dd>
<p>The maximum length of MIME header fields.</p>
</dd>


<dt><b><tt class="literal">MaxQueueRunSize=</tt><em class="replaceable">n</em></b></dt>
<dd>
<p>The maximum number of items that can be processed in a single queue
run. The default is no limit.
</p>
</dd>


<dt><b><tt class="literal">MaxRecipientsPerMessage=</tt><em class="replaceable">n</em></b></dt>
<dd>
<p><em class="replaceable">n</em> limits the maximum number of recipients
for a single message. If it is not specified, there is no limit.
</p>
</dd>


<dt><b><tt class="literal">MeToo</tt></b></dt>
<dd>
<p>Send a copy to the sender.</p>
</dd>


<dt><b><tt class="literal">MinFreeBlocks=</tt><em class="replaceable">n</em></b></dt>
<dd>
<p>Don't accept incoming mail unless <em class="replaceable">n</em>
blocks are free in the queue filesystem.
</p>
</dd>


<dt><b><tt class="literal">MinQueueAge=</tt><em class="replaceable">n</em></b></dt>
<dd>
<p>Don't process any jobs that have been in the queue less than
<em class="replaceable">n</em> minutes.
</p>
</dd>


<dt><b><tt class="literal">MustQuoteChars=</tt><em class="replaceable">s</em></b></dt>
<dd>
<p>The list of characters added to the set "@,;:\( )[]" that
must be quoted when used in the username part of an address. If
ustQuoteChars is specified without an <em class="replaceable">s</em>
value, it adds "." to the standard set of quoted
characters.
</p>
</dd>


<dt><b><tt class="literal">NoRecipientAction=</tt><em class="replaceable">action</em></b></dt>
<dd>
<p>The <em class="replaceable">action</em> taken when a message has no
valid recipient headers. <em class="replaceable">action</em> can be
<tt class="literal">none</tt> to pass the message on unmodified,
<tt class="literal">add-to</tt> to add a To: header using the recipient
addresses from the envelope, <tt class="literal">add-apparently-to</tt> to
add an Apparently-To: header, <tt class="literal">add-to-undisclosed</tt>
to add a "To: undisclosed-recipients:;" header, or
<tt class="literal">add-bcc</tt> to add an empty Bcc: header.
</p>
</dd>


<dt><b><tt class="literal">OldStyleHeaders</tt></b></dt>
<dd>
<p>Allow spaces to delimit names. Normally, commas delimit names. </p>
</dd>


<dt><b><tt class="literal">OperatorChars=</tt><em class="replaceable">charlist</em></b></dt>
<dd>
<p>The list of operator characters that are normally defined in macro
<tt class="literal">o</tt>. The default is the standard set of operators.
See the discussion of rewrite tokens and the use of operators in
determining tokens in <a href="ch10_01.html">Chapter 10, "sendmail "</a>.
</p>
</dd>


<dt><b><tt class="literal">ProcessTitlePrefix=</tt><em class="replaceable">prefix</em></b></dt>
<dd>
<p>A string used on the heading of process status reports.</p>
</dd>


<dt><b><tt class="literal">PostmasterCopy=</tt><em class="replaceable">username</em></b></dt>
<dd>
<p>Copy error messages to <em class="replaceable">username</em>. The
default is not to send copies of error messages to the postmaster.
</p>
</dd>


<dt><b><tt class="literal">PrivacyOptions=</tt><em class="replaceable">options</em></b></dt>
<dd>
<p>Set SMTP protocol <em class="replaceable">options</em>, where
<em class="replaceable">options</em> is a comma-separated list
containing one or more of these keywords:
</p>

<dl>
<dt><b><tt class="literal">public</tt></b></dt>
<dd>
<p>allow all commands</p>
</dd>


<dt><b><tt class="literal">needmailhelo</tt></b></dt>
<dd>
<p>require HELO or EHLO before MAIL</p>
</dd>


<dt><b><tt class="literal">needexpnhelo</tt></b></dt>
<dd>
<p>require HELO or EHLO before EXPN</p>
</dd>


<dt><b><tt class="literal">noexpn</tt></b></dt>
<dd>
<p>disable EXPN</p>
</dd>


<dt><b><tt class="literal">needvrfyhelo</tt></b></dt>
<dd>
<p>require HELO or EHLO before VRFY</p>
</dd>


<dt><b><tt class="literal">novrfy</tt></b></dt>
<dd>
<p>disable VRFY</p>
</dd>


<dt><b><tt class="literal">restrictmailq</tt></b></dt>
<dd>
<p>restrict <tt class="literal">mailq</tt> to users with group access to the
queue directory
</p>
</dd>


<dt><b><tt class="literal">restrictqrun</tt></b></dt>
<dd>
<p>only <em class="emphasis">root</em> and the owner of the queue directory
are allowed to run the queue
</p>
</dd>


<dt><b><tt class="literal">noreceipts</tt></b></dt>
<dd>
<p>don't return successful delivery messages</p>
</dd>


<dt><b><tt class="literal">goaway</tt></b></dt>
<dd>
<p>disable all SMTP status queries</p>
</dd>


<dt><b><tt class="literal">authwarnings</tt></b></dt>
<dd>
<p>put X-Authentication-Warning: headers in messages</p>
</dd>

</dl>
</dd>


<dt><b><tt class="literal">QueueDirectory=</tt><em class="replaceable">directory</em></b></dt>
<dd>
<p>The pathname of the queue directory.</p>
</dd>


<dt><b><tt class="literal">QueueFactor=</tt><em class="replaceable">factor</em></b></dt>
<dd>
<p>The factor used with the difference between the current load and the
load average limit and with the message priority to determine if a
message should be queued or sent immediately. The idea is to queue
low-priority messages if the system is currently heavily loaded. It
defaults to 600000.
</p>
</dd>


<dt><b><tt class="literal">QueueLA=</tt><em class="replaceable">n</em></b></dt>
<dd>
<p>Queue messages when the system load average exceeds
<em class="replaceable">n</em>. The default is 8.
</p>
</dd>


<dt><b><tt class="literal">QueueSortOrder=</tt><em class="replaceable">sequence</em></b></dt>
<dd>
<p>Sort the queue in the <em class="replaceable">sequence</em> specified,
where <em class="replaceable">sequence</em> is: <tt class="literal">h</tt>
(hostname sequence); <tt class="literal">t</tt> (submission time sequence);
or <tt class="literal">p</tt> (message priority order). Priority ordering
is the default.
</p>
</dd>


<dt><b><tt class="literal">RandFile=</tt><em class="replaceable">file</em></b></dt>
<dd>
<p>Points to a file that provides pseudo-random data for certain
encryption techniques. This is used only if the compile option
HASURANDOM is not available.
</p>
</dd>


<dt><b><tt class="literal">ResolverOptions=</tt><em class="replaceable">options</em></b></dt>
<dd>
<p>Set resolver options. Available option values are:
<tt class="literal">debug</tt>, <tt class="literal">aaonly</tt>,
<tt class="literal">usevc</tt>, <tt class="literal">primary</tt>,
<tt class="literal">igntc</tt>, <tt class="literal">recurse</tt>,
<tt class="literal">defnames</tt>, <tt class="literal">stayopen</tt>, and
<tt class="literal">dnsrch</tt>. The option can be preceded by a plus (+)
to turn it on or a minus (-) to turn it off. One other option,
<tt class="literal">HasWildcardMX</tt>, is specified without a + or -.
Simply adding <tt class="literal">HasWildcardMX</tt> turns the option on.
</p>
</dd>


<dt><b><tt class="literal">RrtImpliesDsn</tt></b></dt>
<dd>
<p>If set to true, treat a Return-Receipt-To: header as a request for
delivery service notification (DSN). The default is false.
</p>
</dd>


<dt><b><tt class="literal">RunAsUser=</tt><em class="replaceable">userid</em><tt class="literal">[:groupid]</tt></b></dt>
<dd>
<p>Run sendmail under this user ID and group ID instead of under
<em class="emphasis">root</em>. This may enhance security when sendmail is
running on a well-maintained firewall. On general-purpose systems,
this may decrease security because it requires that many files be
readable or writable by this user ID.
</p>
</dd>


<dt><b><tt class="literal">RecipientFactor=</tt><em class="replaceable">factor</em></b></dt>
<dd>
<p>The priority of a job is lowered by this factor for each recipient so
that jobs with large numbers of recipients have lower priority.
Defaults to 30000.
</p>
</dd>


<dt><b><tt class="literal">RefuseLA=</tt><em class="replaceable">n</em></b></dt>
<dd>
<p>Refuse incoming SMTP connections when the system load average exceeds
<em class="replaceable">n</em>. The default is 12.
</p>
</dd>


<dt><b><tt class="literal">RetryFactor=</tt><em class="replaceable">factor</em></b></dt>
<dd>
<p>The factor used to decrease the priority of a job every time it is
processed, so that mail that cannot be delivered does not keep
popping to the top of the queue. The default is 90000.
</p>
</dd>


<dt><b><tt class="literal">SafeFileEnvironment=</tt><em class="replaceable">directory</em></b></dt>
<dd>
<p><tt class="literal">chroot</tt>(2) to <em class="replaceable">directory</em>
before writing a file and refuse to deliver to symbolic links.
</p>
</dd>


<dt><b><tt class="literal">SaveFromLine</tt></b></dt>
<dd>
<p>Save Unix-style From: lines at the front of headers. Normally they
are discarded.
</p>
</dd>


<dt><b><tt class="literal">SendMIMEErrors</tt></b></dt>
<dd>
<p>Send error messages in MIME format.</p>
</dd>


<dt><b><tt class="literal">ServerCertFile=</tt><em class="replaceable">file</em></b></dt>
<dd>
<p>Identifies the file that contains the certificate used when this
system acts as a mail server.
</p>
</dd>


<dt><b><tt class="literal">ServerKeyFile=</tt><em class="replaceable">file</em></b></dt>
<dd>
<p>Identifies the file that contains the private key used when this
system acts as a mail server.
</p>
</dd>


<dt><b><tt class="literal">ServiceSwitchFile=</tt><em class="replaceable">path</em></b></dt>
<dd>
<p>Identifies the <em class="replaceable">path</em> to a file that lists
the methods used for various services. The ServiceSwitchFile contains
entries that begin with the service name followed by the service
method. sendmail checks for services named "aliases" and
"hosts" and supports "dns",
"nis", "nisplus", or "files" as
possible service methods, assuming that support for all of these
methods is compiled into this copy of sendmail. ServiceSwitchFile
defaults to <em class="emphasis">/etc/service.switch</em>. If that file
does not exist, sendmail uses the following service methods: aliases
are looked up in the aliases files, and hosts are looked up first
using dns, then nis, and finally the hosts file. If the operating
system has a built-in service switch feature, it is used and this
option is ignored. See the description of the
<em class="emphasis">nsswitch.conf</em> file in <a href="ch09_01.html">Chapter 9, "Local Network Services"</a>. It is a service switch file.
</p>
</dd>


<dt><b><tt class="literal">SevenBitInput</tt></b></dt>
<dd>
<p>Strip input to 7 bits for compatibility with old systems. This
shouldn't be necessary.
</p>
</dd>


<dt><b><tt class="literal">SingleLineFromHeader</tt></b></dt>
<dd>
<p>For compatibility with some versions of Lotus Notes, unwrap From:
lines that have embedded newlines into one long line.
</p>
</dd>


<dt><b><tt class="literal">SingleThreadDelivery</tt></b></dt>
<dd>
<p>Don't open more than one SMTP connection to a remote host at
the same time. This option requires the HostStatusDirectory option.
</p>
</dd>


<dt><b><tt class="literal">SmtpGreetingMessage=</tt><em class="replaceable">message</em></b></dt>
<dd>
<p>The greeting sent to the remote host when it connects to the SMTP
server port. This is the value defined in macro e.
</p>
</dd>


<dt><b><tt class="literal">StatusFile=</tt><em class="replaceable">file</em></b></dt>
<dd>
<p>Log summary statistics in <em class="replaceable">file</em>. By
default, summary statistics are not logged.
</p>
</dd>


<dt><b><tt class="literal">SuperSafe</tt></b></dt>
<dd>
<p>Create a queue file, even when attempting immediate delivery.</p>
</dd>


<dt><b><tt class="literal">TempFileMode=</tt><em class="replaceable">mode</em></b></dt>
<dd>
<p>Use <em class="replaceable">mode</em> to set the access permissions for
queue files. <em class="replaceable">mode</em> is an octal value. It
defaults to 0600.
</p>
</dd>


<dt><b><tt class="literal">Timeout.</tt><em class="replaceable">type</em><tt class="literal">=</tt><em class="replaceable">timeout</em></b></dt>
<dd>
<p>Set <a name="INDEX-3780" />timeout values, where
<em class="replaceable">type</em> is the thing being timed and
<em class="replaceable">timeout</em> is the time interval before the
timer expires. <a href="appe_04.html#tcp3-APP-E-TABLE-10">Table E-10</a> lists the valid
<em class="replaceable">type</em> values, the event being timed, and
the default <em class="replaceable">timeout</em> value for each type.
</p>
</dd>

</dl>

<a name="tcp3-APP-E-TABLE-10" /><h4 class="objtitle">Table E-10. Timeout types </h4><table border="1">




<tr>
<th>
<p>Type</p>
</th>
<th>
<p>Waiting for</p>
</th>
<th>
<p>Default</p>
</th>
</tr>


<tr>
<td>
<p>connect</p>
</td>
<td>
<p>A connection to complete</p>
</td>
<td>
<p>1m</p>
</td>
</tr>
<tr>
<td>
<p>control</p>
</td>
<td>
<p>A control socket transmission to complete</p>
</td>
<td>
<p>2m</p>
</td>
</tr>
<tr>
<td>
<p>iconnect</p>
</td>
<td>
<p>The connection to the first host in a message</p>
</td>
<td>
<p>5m</p>
</td>
</tr>
<tr>
<td>
<p>initial</p>
</td>
<td>
<p>Initial greeting message</p>
</td>
<td>
<p>5m</p>
</td>
</tr>
<tr>
<td>
<p>helo</p>
</td>
<td>
<p>Reply to HELO or EHLO command</p>
</td>
<td>
<p>5m</p>
</td>
</tr>
<tr>
<td>
<p>mail</p>
</td>
<td>
<p>Reply to MAIL command</p>
</td>
<td>
<p>10m</p>
</td>
</tr>
<tr>
<td>
<p>rcpt</p>
</td>
<td>
<p>Reply to RCPT command</p>
</td>
<td>
<p>1h</p>
</td>
</tr>
<tr>
<td>
<p>datainit</p>
</td>
<td>
<p>Reply to DATA command</p>
</td>
<td>
<p>5m</p>
</td>
</tr>
<tr>
<td>
<p>datablock</p>
</td>
<td>
<p>Data block read</p>
</td>
<td>
<p>1h</p>
</td>
</tr>
<tr>
<td>
<p>datafinal</p>
</td>
<td>
<p>Reply to terminating "."</p>
</td>
<td>
<p>1h</p>
</td>
</tr>
<tr>
<td>
<p>rset</p>
</td>
<td>
<p>Reply to RSET command</p>
</td>
<td>
<p>5m</p>
</td>
</tr>
<tr>
<td>
<p>quit</p>
</td>
<td>
<p>Reply to QUIT command</p>
</td>
<td>
<p>2m</p>
</td>
</tr>
<tr>
<td>
<p>misc</p>
</td>
<td>
<p>Reply to NOOP and VERB commands</p>
</td>
<td>
<p>2m</p>
</td>
</tr>
<tr>
<td>
<p>ident</p>
</td>
<td>
<p>IDENT protocol response</p>
</td>
<td>
<p>30s</p>
</td>
</tr>
<tr>
<td>
<p>fileopen</p>
</td>
<td>
<p>Open on a <em class="emphasis">.forward</em> or
<em class="emphasis">:include:</em> file
</p>
</td>
<td>
<p>60s</p>
</td>
</tr>
<tr>
<td>
<p>command</p>
</td>
<td>
<p>Command read</p>
</td>
<td>
<p>1h</p>
</td>
</tr>
<tr>
<td>
<p>queuereturn</p>
</td>
<td>
<p>Returning a queued message as undeliverable</p>
</td>
<td>
<p>5d</p>
</td>
</tr>
<tr>
<td>
<p>queuereturn.normal</p>
</td>
<td>
<p>Returning a normal message from the queue as undeliverable</p>
</td>
<td>
<p>5d</p>
</td>
</tr>
<tr>
<td>
<p>queuereturn.non-urgent</p>
</td>
<td>
<p>Returning a non-urgent message from the queue as undeliverable</p>
</td>
<td>
<p>7d</p>
</td>
</tr>
<tr>
<td>
<p>queuereturn.urgent</p>
</td>
<td>
<p>Returning an urgent message from the queue as undeliverable</p>
</td>
<td>
<p>2d</p>
</td>
</tr>
<tr>
<td>
<p>queuewarn</p>
</td>
<td>
<p>Warning that a message is still queued</p>
</td>
<td>
<p>4h</p>
</td>
</tr>
<tr>
<td>
<p>queuewarn.normal</p>
</td>
<td>
<p>Warning that a normal message is still queued</p>
</td>
<td>
<p>4h</p>
</td>
</tr>
<tr>
<td>
<p>queuewarn.non-urgent</p>
</td>
<td>
<p>Warning that a non-urgent message is still queued</p>
</td>
<td>
<p>12h</p>
</td>
</tr>
<tr>
<td>
<p>queuewarn.urgent</p>
</td>
<td>
<p>Warning that an urgent message is still queued</p>
</td>
<td>
<p>1h</p>
</td>
</tr>
<tr>
<td>
<p>resolver.retrans</p>
</td>
<td>
<p>A response to a resolver query</p>
</td>
<td>
<p>5s</p>
</td>
</tr>
<tr>
<td>
<p>resolver.retrans.first</p>
</td>
<td>
<p>A response to the first resolver query</p>
</td>
<td>
<p>5s</p>
</td>
</tr>
<tr>
<td>
<p>resolver.retrans.normal</p>
</td>
<td>
<p>A response to a normal resolver query</p>
</td>
<td>
<p>5s</p>
</td>
</tr>
<tr>
<td>
<p>resolver.retry</p>
</td>
<td>
<p>Sets the number of times to retry a resolver query</p>
</td>
<td>
<p>4</p>
</td>
</tr>
<tr>
<td>
<p>resolver.retry.first</p>
</td>
<td>
<p>Sets the number of times to retry the first resolver query</p>
</td>
<td>
<p>4</p>
</td>
</tr>
<tr>
<td>
<p>resolver.retry.normal</p>
</td>
<td>
<p>Sets the number of times to retry a normal resolver query</p>
</td>
<td>
<p>4</p>
</td>
</tr>
<tr>
<td>
<p>hoststatus</p>
</td>
<td>
<p>Removing stale host status</p>
</td>
<td>
<p>30m</p>
</td>
</tr>

</table><p>

<dl>
<dt><b><tt class="literal">TimeZoneSpec=</tt><em class="replaceable">tzinfo</em></b></dt>
<dd>
<p>Set the local time zone information to
<em class="replaceable">tzinfo</em>. If TimeZoneSpec is not set, the
system default is used; if set to null, the user's
<tt class="literal">TZ</tt> variable is used.
</p>
</dd>


<dt><b><tt class="literal">TrustedUser=</tt><em class="replaceable">users</em></b></dt>
<dd>
<p>The list of users trusted to send mail using another user's
name.
</p>
</dd>


<dt><b><tt class="literal">TryNullMXList</tt></b></dt>
<dd>
<p>Connect directly to any remote host that lists the local system as
its most preferred MX server, as if the remote host had no MX
records. You are discouraged from using this option.
</p>
</dd>


<dt><b><tt class="literal">UnixFromLine=</tt><em class="replaceable">fromline</em></b></dt>
<dd>
<p>Defines the format for Unix-style From: lines. This is the same as
the value stored in macro l.
</p>
</dd>


<dt><b><tt class="literal">UnsafeGroupWrites</tt></b></dt>
<dd>
<p>Group-writable <em class="emphasis">:include:</em> and
<em class="emphasis">.forward</em> files cannot reference programs or
write directly to files. World-writable files always have these
restrictions.
</p>
</dd>


<dt><b><tt class="literal">UseErrorsTo</tt></b></dt>
<dd>
<p>Send error messages to the addresses listed in the Errors-To: header.
Normally, errors are sent to the sender address from the envelope.
</p>
</dd>


<dt><b><tt class="literal">UserDatabaseSpec=</tt><em class="replaceable">udbspec</em></b></dt>
<dd>
<p>The user database specification.</p>
</dd>


<dt><b><tt class="literal">UserSubmission</tt></b></dt>
<dd>
<p>Indicates that this is not relayed mail, but an initial submission
directly from a Mail User Agent.
</p>
</dd>


<dt><b><tt class="literal">Verbose</tt></b></dt>
<dd>
<p>Run in verbose mode.</p>
</dd>

</dl>

<p>See <a href="ch10_01.html">Chapter 10, "sendmail "</a> for examples <a name="INDEX-3781" />of setting
options.
</p>

</div>
<a name="tcp3-APP-E-SECT-4.4" /><div class="sect2">
<h3 class="sect2">E.4.4. sendmail Mailer Flags</h3>

<p>Mailer flags are declared
<a name="INDEX-3782" /> <a name="INDEX-3783" />in the F field of the mailer
definition. Each mailer flag is set by a single character that
represents that flag. For example, <tt class="literal">F=lsDFMe</tt> sets
six different flags. <a href="appe_04.html#tcp3-APP-E-TABLE-11">Table E-11</a> lists the
single-character name and function of each flag.
</p>

<a name="tcp3-APP-E-TABLE-11" /><h4 class="objtitle">Table E-11. sendmail mailer flags </h4><table border="1">



<tr>
<th>
<p>Name</p>
</th>
<th>
<p>Function</p>
</th>
</tr>


<tr>
<td>
<p>C</p>
</td>
<td>
<p>Add <em class="replaceable">@domain</em> to addresses that do not have
an @.
</p>
</td>
</tr>
<tr>
<td>
<p>D</p>
</td>
<td>
<p>The mailer wants a Date: header line.</p>
</td>
</tr>
<tr>
<td>
<p>E</p>
</td>
<td>
<p>Add &gt; to message lines that begin with From:.</p>
</td>
</tr>
<tr>
<td>
<p>e</p>
</td>
<td>
<p>This is an expensive mailer. See sendmail option c.</p>
</td>
</tr>
<tr>
<td>
<p>F</p>
</td>
<td>
<p>The mailer wants a From: header line.</p>
</td>
</tr>
<tr>
<td>
<p>f</p>
</td>
<td>
<p>The mailer accepts an -f flag from trusted users.</p>
</td>
</tr>
<tr>
<td>
<p>h</p>
</td>
<td>
<p>Preserve uppercase in hostnames.</p>
</td>
</tr>
<tr>
<td>
<p><tt class="literal">I</tt></p>
</td>
<td>
<p>The mailer will be speaking SMTP to another sendmail.</p>
</td>
</tr>
<tr>
<td>
<p>L</p>
</td>
<td>
<p>Limit the line lengths as specified in RFC 821.</p>
</td>
</tr>
<tr>
<td>
<p>l</p>
</td>
<td>
<p>This is a local mailer.</p>
</td>
</tr>
<tr>
<td>
<p>M</p>
</td>
<td>
<p>The mailer wants a Message-Id: header line.</p>
</td>
</tr>
<tr>
<td>
<p>m</p>
</td>
<td>
<p>The mailer can send to multiple users in one transaction.</p>
</td>
</tr>
<tr>
<td>
<p>n</p>
</td>
<td>
<p>Don't insert a Unix-style From: line in the message.</p>
</td>
</tr>
<tr>
<td>
<p>P</p>
</td>
<td>
<p>The mailer wants a Return-Path: line.</p>
</td>
</tr>
<tr>
<td>
<p>R</p>
</td>
<td>
<p>Use the MAIL FROM: return path rather than the return address.</p>
</td>
</tr>
<tr>
<td>
<p>r</p>
</td>
<td>
<p>The mailer accepts an -r flag from trusted users.</p>
</td>
</tr>
<tr>
<td>
<p>S</p>
</td>
<td>
<p>Don't reset the userid before calling the mailer.</p>
</td>
</tr>
<tr>
<td>
<p>s</p>
</td>
<td>
<p>Strip quotes off of the address before calling the mailer.</p>
</td>
</tr>
<tr>
<td>
<p>U</p>
</td>
<td>
<p>The mailer wants Unix-style From: lines.</p>
</td>
</tr>
<tr>
<td>
<p>u</p>
</td>
<td>
<p>Preserve uppercase in usernames.</p>
</td>
</tr>
<tr>
<td>
<p>X</p>
</td>
<td>
<p>Prepend a dot to lines beginning with a dot.</p>
</td>
</tr>
<tr>
<td>
<p>x</p>
</td>
<td>
<p>The mailer wants a Full-Name: header line.</p>
</td>
</tr>

</table><p>

<p>See <a href="ch10_01.html">Chapter 10, "sendmail "</a> for examples of mailer flag
declaration within mailer definitions.
</p>

</div>
<a name="tcp3-APP-E-SECT-4.5" /><div class="sect2">
<h3 class="sect2">E.4.5. The sendmail K Command</h3>

<p>The sendmail <tt class="literal">K</tt> <a name="INDEX-3784" /> <a name="INDEX-3785" />command is used to define a database
within the <em class="emphasis">sendmail.cf</em> file. The
<tt class="literal">K</tt> command syntax is:
</p>

<blockquote><pre class="code">K<em class="replaceable">name type</em> [<em class="replaceable">arguments</em>]</pre></blockquote>

<p><a href="ch10_01.html">Chapter 10, "sendmail "</a> provides examples of defining and using
a sendmail database, and it describes the <tt class="literal">K</tt>
command syntax. This appendix lists the valid
<em class="replaceable">type</em> values and
<em class="replaceable">arguments</em> that can be used with a
<tt class="literal">K</tt> command.
</p>

<p>The type field of the <tt class="literal">K</tt> command identifies what
kind of database is being defined. There are several internal
database types that are specific to sendmail, and several external
types that rely on external database libraries. Support for the
external database types must be compiled into sendmail by explicitly
specifying the supported database types using the confMAPDEF command
in a <em class="emphasis">devtools/OS</em> or
<em class="emphasis">devtools/Site</em> file used by
<tt class="literal">Build</tt> to compile sendmail. See the example of
compiling sendmail earlier in this appendix.
</p>

<p>The possible values for <em class="replaceable">type</em> are:</p>

<dl>
<a name="INDEX-3786" /><dt><b><tt class="literal">dbm</tt></b></dt>
<dd>
<p>The "new dbm" database format. It is accessed using the
ndbm(3) library. Only supported if sendmail is compiled with NDBM
defined.
</p>
</dd>


<a name="INDEX-3787" /><dt><b><tt class="literal">btree</tt></b></dt>
<dd>
<p>The btree database format. It is accessed using the Berkeley db(3)
library. Only supported if sendmail is compiled with NEWDB defined.
</p>
</dd>


<a name="INDEX-3788" /><dt><b><tt class="literal">hash</tt></b></dt>
<dd>
<p>The hash database format. It is accessed using the Berkeley db(3)
library. Only supported if sendmail is compiled with NEWDB defined.
</p>
</dd>


<a name="INDEX-3789" /><dt><b><tt class="literal">nis</tt></b></dt>
<dd>
<p>NIS server lookups. sendmail must be compiled with NIS defined to
support this.
</p>
</dd>


<a name="INDEX-3790" /><dt><b><tt class="literal">nisplus</tt></b></dt>
<dd>
<p>NIS+ server lookups. sendmail must be compiled with NISPLUS defined
to support this.
</p>
</dd>


<a name="INDEX-3791" /><dt><b><tt class="literal">hesiod</tt></b></dt>
<dd>
<p>MIT hesiod server lookups. Support requires that sendmail is compiled
with HESIOD defined.
</p>
</dd>


<a name="INDEX-3792" /><dt><b><tt class="literal">ldap</tt></b></dt>
<dd>
<p>Searches using LDAP. sendmail must be compiled with LDAPMAP defined
to support this. sendmail supports most of the standard command-line
arguments of the <tt class="literal">ldapsearch</tt> program.
</p>
</dd>


<a name="INDEX-3793" /><dt><b><tt class="literal">netinfo</tt></b></dt>
<dd>
<p>NeXT NetInfo lookups. Only supported if sendmail is compiled with
NETINFO defined.
</p>
</dd>


<a name="INDEX-3794" /><dt><b><tt class="literal">text</tt></b></dt>
<dd>
<p>Text file lookups. Requires no external database libraries or compile
options. The format of the text database is defined with the key
field, value field, and field delimiter flags. See the next section
for a description of the <tt class="literal">K</tt> command flags.
</p>
</dd>


<a name="INDEX-3795" /><dt><b><tt class="literal">ph</tt></b></dt>
<dd>
<p>CCSO Nameserver lookups.</p>
</dd>


<a name="INDEX-3796" /><dt><b><tt class="literal">program</tt></b></dt>
<dd>
<p>Queries are passed to an external program for resolution.</p>
</dd>


<a name="INDEX-3797" /><dt><b><tt class="literal">stab</tt></b></dt>
<dd>
<p>An internal symbols table database.</p>
</dd>


<a name="INDEX-3798" /><dt><b><tt class="literal">implicit</tt></b></dt>
<dd>
<p>The default internal sendmail format used for an alias file, if no
type is defined for the file.
</p>
</dd>


<a name="INDEX-3799" /><dt><b><tt class="literal">user</tt></b></dt>
<dd>
<p>A special sendmail type used to verify the existence of a user by
using getpwnam(3).
</p>
</dd>


<a name="INDEX-3800" /><dt><b><tt class="literal">host</tt></b></dt>
<dd>
<p>A special sendmail type used to convert nicknames and IP addresses to
canonical names via the domain name server. This is an alternative
form of the
<tt class="literal">$[</tt><em class="replaceable">name</em><tt class="literal">]$</tt>
syntax.
</p>
</dd>


<a name="INDEX-3801" /><dt><b><tt class="literal">sequence</tt></b></dt>
<dd>
<p>A special sendmail type used to define the order in which previously
defined databases are searched. For example, assume that three
databases (file1, file2, and file3) are defined by
<tt class="literal">K</tt> commands. It is possible to add a fourth
<tt class="literal">K</tt> command, <tt class="literal">Kallfiles sequence file3 file1
file2</tt>, that "combines" them together as
<em class="emphasis">allfiles</em> and specifies that
<tt class="literal">file3</tt> is searched first, <tt class="literal">file1</tt>
second, and <tt class="literal">file2</tt> third.
</p>
</dd>


<a name="INDEX-3802" /><dt><b><tt class="literal">switch</tt></b></dt>
<dd>
<p>A special sendmail type that uses the service switch file to set the
order in which database files are searched. The
<em class="replaceable">argument</em> on a <tt class="literal">K</tt> command
with a <em class="replaceable">type</em> of "switch" must
be the name of a service in the service switch file. The values
associated with the service name in the service switch file are used
to create the names of databases that are searched in the order in
which they are defined. For example, the command <tt class="literal">Kali switch
aliases</tt> looks up the service switch entry for
<tt class="literal">aliases</tt>. If it contains the value
<tt class="literal">nis</tt> <tt class="literal">files</tt>, sendmail searches
databases named <em class="emphasis">ali.nis</em> and
<em class="emphasis">ali.files</em> in that order.
</p>
</dd>


<a name="INDEX-3803" /><dt><b><tt class="literal">dequote</tt></b></dt>
<dd>
<p>A special sendmail type used to strip unwanted double quotes
(<tt class="literal">"</tt>) from email addresses.
</p>
</dd>


<a name="INDEX-3804" /><dt><b><tt class="literal">arith</tt></b></dt>
<dd>
<p>An internal routine used for doing specific arithmetic functions.</p>
</dd>


<a name="INDEX-3805" /><dt><b><tt class="literal">bestmx</tt></b></dt>
<dd>
<p>An internal routine that retrieves the MX record for a host.</p>
</dd>


<a name="INDEX-3806" /><dt><b><tt class="literal">dns</tt></b></dt>
<dd>
<p>An internal routine that retrieves the address for a hostname.</p>
</dd>


<a name="INDEX-3807" /><dt><b><tt class="literal">null</tt></b></dt>
<dd>
<p>An internal routine that returns "Not found" for all
lookups.
</p>
</dd>


<a name="INDEX-3808" /><dt><b><tt class="literal">regex</tt></b></dt>
<dd>
<p>An internal routine that handles regular expressions.</p>
</dd>

</dl>

<p>Many of the possible type values do not refer to real databases.
Several types are special values used only inside sendmail. Some
refer to internal sendmail routines that are accessed from rewrite
rules using the same syntax that would be used to access a database.
</p>

<p>The argument that follows most of the real database types is a
filename. The filename identifies the external file that contains the
database. Only the basic filename is provided. sendmail adds an
extension appropriate for the database type. For example,
<tt class="literal">Krealname dbm /usr/etc/names</tt> becomes
<em class="emphasis">/usr/etc/names.db</em> because
<em class="emphasis">.db</em> is the correct extension for dbm databases.
</p>

<p>In addition to a filename, the arguments
<a name="INDEX-3809" />field can contain optional flags:
</p>

<dl>
<dt><b><tt class="literal">-o</tt></b></dt>
<dd>
<p>This is an optional database. sendmail proceeds without error if the
file is not found.
</p>
</dd>


<dt><b><tt class="literal">-N</tt></b></dt>
<dd>
<p>Valid database keys are terminated with a NULL character.</p>
</dd>


<dt><b><tt class="literal">-O</tt></b></dt>
<dd>
<p>Valid database keys are never terminated with a NULL character. Never
specify both <tt class="literal">-N</tt> and <tt class="literal">-O</tt>, which
indicates that no keys are valid! It is safest to avoid both
<tt class="literal">-N</tt> and <tt class="literal">-O</tt> and let sendmail
determine the correct key structure unless you are positive about the
correct flag.
</p>
</dd>


<dt><b><tt class="literal">-a</tt><em class="replaceable">x</em></b></dt>
<dd>
<p>Append the string <em class="replaceable">x</em> to the value returned
by a successful match.
</p>
</dd>


<dt><b><tt class="literal">-f</tt></b></dt>
<dd>
<p>Do not convert uppercase to lowercase before attempting to match the
key.
</p>
</dd>


<dt><b><tt class="literal">-m</tt></b></dt>
<dd>
<p>Check that the key exists in the database, but do not replace the key
with the value returned by the database.
</p>
</dd>


<dt><b><tt class="literal">-k</tt><em class="replaceable">keycol</em></b></dt>
<dd>
<p>The location of the key within a database entry. For most databases,
the key is the first field and this flag is not needed. For text file
lookups, this flag is required and <em class="replaceable">keycol</em>
is the column number in which the key begins.
</p>
</dd>


<dt><b><tt class="literal">-v</tt><em class="replaceable">valcol</em></b></dt>
<dd>
<p>The location of the value within a database entry. For most
databases, the value follows the key and the <tt class="literal">-v</tt>
flag is not used. For text file lookups, this flag is required and
specifies the column in which the value field begins.
</p>
</dd>


<dt><b><tt class="literal">-z</tt><em class="replaceable">delim</em></b></dt>
<dd>
<p>The character that delimits fields within the database. By default,
it is whitespace.
</p>
</dd>


<dt><b><tt class="literal">-t</tt></b></dt>
<dd>
<p>Allow database lookups that depend on remote servers to fail instead
of queuing the mail for later processing. This is primarily used when
you have DNS server problems. Normally, when a remote server fails to
respond, the mail is put in the queue for later delivery. Setting
this flag causes the mail to be immediately returned to the sender as
undeliverable.
</p>
</dd>


<dt><b><tt class="literal">-s</tt><em class="replaceable">spacesub</em></b></dt>
<dd>
<p>Use <em class="replaceable">spacesub</em> to replace space characters
after processing an address against the dequote database.
</p>
</dd>


<dt><b><tt class="literal">-A</tt></b></dt>
<dd>
<p>Accept values from duplicate keys. Most databases do not allow
duplicate keys.
</p>
</dd>


<dt><b><tt class="literal">-q</tt></b></dt>
<dd>
<p>Preserve any quotes contained in the key. Normally quotes are removed.</p>
</dd>

</dl>

<p>The full lists of database types and flags provided in this appendix
will help you understand the <tt class="literal">K</tt> commands inserted
into the <em class="emphasis">sendmail.cf</em> file by the
<tt class="literal">m4</tt> processor. Your own <tt class="literal">K</tt>
commands will be much simpler. You will stick with a database type
that is supported by your <tt class="literal">sendmail</tt> and
<tt class="literal">makemap</tt> commands, and you will build simple
databases designed to fulfill specific purposes. <a href="ch10_01.html">Chapter 10, "sendmail "</a> provides examples of such databases, and the
next section contains <a name="INDEX-3810" /> <a name="INDEX-3811" />some simple scripts used to build
those example databases.
</p>

<a name="tcp3-APP-E-SECT-4.5.1" /><div class="sect3">
<h3 class="sect3">E.4.5.1. Sample script</h3>

<p>In <a href="ch10_01.html">Chapter 10, "sendmail "</a>, the <em class="emphasis">realnames</em>
database is used to rewrite login usernames to the "firstname
dot lastname" format for outbound email. The script shown below
builds the <em class="emphasis">realnames</em> database from the
<em class="emphasis">/etc/passwd</em><a name="INDEX-3812" /> file.
</p>

<blockquote><pre class="code">#! /bin/sh 
# 
# Eliminate "non-login" accounts 
grep -v ':*:' /etc/passwd | \ 
# Eliminate "exposed" usernames, i.e. usernames defined 
#  in class E as names that should not be re-written 
grep -v ' root:' | \ 
# Replace delimiting colons with whitespace 
sed 's/:/ /g' | \ 
# Output the username followed by firstname.lastname 
awk '{ print $1, $5"."$6 }' &gt; realnames 
# Build the realnames database
makemap dbm realnames &lt; realnames</pre></blockquote>

<p>Building <em class="emphasis">realnames</em> from the
<em class="emphasis">passwd</em> file is completely dependent on the
format of that file. The <em class="emphasis">passwd</em> file
<em class="emphasis">must</em> have a consistent format for the GECOS
field and a consistent way to identify a "non-user"
account. A "non-user" account is not accessed by a user
to log in or to collect email. It is normally a system account used
by system or application software. A classic example is the
<em class="emphasis">uucp</em> account. Every system has some way to mark
that these accounts are not used for user logins. Some systems use an
asterisk in the password field, while others use an exclamation mark,
the letters NP, an x, or something else. The sample script assumes
that an asterisk is used, which is the case on my Linux system. (My
Solaris system uses an x.) Print out your <em class="emphasis">passwd</em>
file to find out what it uses and modify the script accordingly.
</p>

<p>The sample script also assumes that the first two values in the GECOS
field are the user's first and last names separated by a blank.
If the beginning of the GECOS field is in any other format, the
script produces garbage. The procedure you use to add new users to
your system should produce a consistent GECOS field. Inconsistency is
the enemy of automation. The sample below shows a file that has
inconsistencies, and the bad data it produces:
</p>

<blockquote><pre class="code">% <b class="emphasis-bold">cat /etc/passwd</b> 
root:oRd1L/vMzzxno:0:1:System Administrator:/:/bin/csh 
nobody:*:65534:65534::/: 
daemon:*:1:1::/: 
sys:*:2:2::/:/bin/csh 
bin:*:3:3::/bin: 
uucp:*:4:8::/var/spool/uucppublic: 
news:*:6:6::/var/spool/news:/bin/csh 
ingres:*:7:7::/usr/ingres:/bin/csh 
audit:*:9:9::/etc/security/audit:/bin/csh 
craig:1LrpKlz8sYjw:198:102:Craig Hunt:/home/craig:/bin/csh 
dan:RSU.NYlKuFqzh2:214:885:Dan Scribner:/home/dan:/bin/csh 
becca:monfTHdnjj:101:102:"Becky_Hunt":/home/becca:/bin/csh 
dave:lniuhugfds:121:885:David H. Craig:/home/dave:/bin/csh 
kathy:TUVigddehh:101:802:Kathleen S McCafferty:/home/kathy:/bin/csh 
% <b class="emphasis-bold">build.realnames</b> 
% <b class="emphasis-bold">cat realnames</b> 
craig Craig.Hunt 
dan Dan.Scribner 
becca "Becky_Hunt"./home/becca  
dave David.H.  kathy Kathleen.S</pre></blockquote>

<p>Your <em class="emphasis">passwd</em> file may have grown over time under
the control of several different system administrators. It may be
full of inconsistencies. If it is, clean it up before you run the
script to build email aliases, and then <a name="INDEX-3813" />maintain it<a name="INDEX-3814" /> consistently.
</p>

</div>
</div>


<hr width="684" align="left" />
<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="appe_03.html"><img alt="Previous" border="0" src="../gifs/txtpreva.gif" /></a></td><td align="center" valign="top" width="228"><a href="index.html"><img alt="Home" border="0" src="../gifs/txthome.gif" /></a></td><td align="right" valign="top" width="228"><a href="appf_01.html"><img alt="Next" border="0" src="../gifs/txtnexta.gif" /></a></td></tr><tr><td align="left" valign="top" width="228">E.3. m4 sendmail Macros</td><td align="center" valign="top" width="228"><a href="index/index.html"><img alt="Book Index" border="0" src="../gifs/index.gif" /></a></td><td align="right" valign="top" width="228">F. Solaris httpd.conf File</td></tr></table></div>
<hr width="684" align="left" />

<img alt="Library Navigation Links" border="0" src="../gifs/navbar.gif" usemap="#library-map" />
<p><p><font size="-1"><a href="copyrght.html">Copyright &copy; 2002</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map"><area shape="rect" coords="1,0,84,90" href="../index.html" /><area shape="rect" coords="86,-7,176,90" href="../ssh/index.html" /><area shape="rect" coords="178,0,265,101" href="index.html" /><area shape="rect" coords="266,0,333,90" href="../nfs/index.html" /><area shape="rect" coords="334,-1,429,93" href="../snmp/index.html" /><area shape="rect" coords="431,0,529,116" href="../tshoot/index.html" /><area shape="rect" coords="534,0,594,104" href="../dns/index.html" /><area shape="rect" coords="595,1,704,108" href="../fire/index-2.html" /></map>

</body>
<!-- Mirrored from nnc3.com/mags/Networking2/tcp/appe_04.htm by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 28 Jul 2017 17:56:36 GMT -->
</html>