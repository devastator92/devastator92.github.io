<html>
<!-- Mirrored from nnc3.com/mags/Networking2/tcp/appc_03.htm by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 28 Jul 2017 17:56:36 GMT -->
<head><title>Zone File Records (TCP/IP Network Administration, 3rd Edition)</title><link rel="stylesheet" type="text/css" href="../style/style1.css" />

<meta name="DC.Creator" content="Craig Hunt" /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="0596002971L" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="TCP/IP Network Administration, 3rd Edition" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">

<img alt="Book Home" border="0" src="gifs/smbanner.gif" usemap="#banner-map" /><map name="banner-map"><area shape="rect" coords="1,-2,616,66" href="index.html" alt="TCP/IP Network Administration" /><area shape="rect" coords="629,-11,726,25" href="jobjects/fsearch.html" alt="Search this book" /></map>

<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="appc_02.html"><img alt="Previous" border="0" src="../gifs/txtpreva.gif" /></a></td><td align="center" valign="top" width="228" /><td align="right" valign="top" width="228"><a href="appd_01.html"><img alt="Next" border="0" src="../gifs/txtnexta.gif" /></a></td></tr></table></div>



<h2 class="sect1">C.3. Zone File Records</h2>

<p>Two types of entries <a name="INDEX-3539" />
<a name="INDEX-3540" />are used to construct a zone file:
<em class="emphasis">directives</em> that simplify constructing the file,
and <em class="emphasis">standard resource records</em> that define the
domain data contained in the zone file. While there are many types of
standard resource records, there are only four directives. These are:
</p>

<dl>
<a name="INDEX-3541" /><dt><b><tt class="literal">$INCLUDE</tt> <em class="replaceable">filename</em></b></dt>
<dd>
<p>Identifies a file that contains data to be included in the zone file.
The data in the included file must be valid directives or standard
resource records. $INCLUDE allows a large zone file to be divided
into smaller, more manageable units.
</p>

<p>The <em class="replaceable">filename</em> specified on the command line
is relative to the directory named on the
<tt class="literal">directory</tt> option in the
<em class="emphasis">named.conf</em> file. For example, if the
<em class="emphasis">named.conf</em> file for <em class="emphasis">crab</em>
points to <tt class="literal">/etc</tt> with the
<tt class="literal">directory</tt> option, and a zone file on
<em class="emphasis">crab</em> contains an <tt class="literal">$INCLUDE</tt>
<tt class="literal">events.hosts</tt> statement, then the file
<em class="emphasis">/etc/events.hosts</em> would be included in that zone
file. If you don't want the filename to be relative to that
directory, specify a fully qualified name, such as
<em class="emphasis">/usr/dns/events.hosts</em>.
</p>
</dd>


<a name="INDEX-3542" /><dt><b><tt class="literal">$ORIGIN</tt> <em class="replaceable">domainname</em></b></dt>
<dd>
<p>Changes the default domain name used by subsequent records in the
zone file. Use this command to put more than one domain in a zone
file. For example, an <tt class="literal">$ORIGIN</tt>
<tt class="literal">events</tt> statement in the
<em class="emphasis">wrotethebook.com</em> zone file sets the domain name
to <em class="emphasis">events.wrotethebook.com</em>. All subsequent
resource records would be relative to this new domain.
</p>

<p>The <tt class="literal">named</tt> software uses $ORIGIN statements to
organize its own information. Dumping the <tt class="literal">named</tt>
database, with <tt class="literal">ndc</tt> <tt class="literal">dumpdb</tt>,
produces a single file containing all the information that the server
knows. This file, <em class="emphasis">named_dump.db</em>, contains many
$ORIGIN entries to place all of the domains that
<tt class="literal">named</tt> knows about into a single file.
</p>
</dd>


<a name="INDEX-3543" /><dt><b><tt class="literal">$TTL</tt> <em class="replaceable">time-to-live</em></b></dt>
<dd>
<p>Defines the default TTL value used on resource records that do not
include a specific TTL. Each zone file should start with a $TTL
directive to ensure that all resource records have a valid TTL. A
purely numeric <em class="replaceable">time-to-live</em> field defines
the TTL in seconds. An alphanumeric
<em class="replaceable">time-to-live</em> format can also be used. For
example, <tt class="literal">1w</tt> sets the TTL to one week. The possible
values for the alphanumeric format are:
</p>


<ul><li>
<p>w for week</p>
</li><li>
<p>d for day</p>
</li><li>
<p>h for hour</p>
</li><li>
<p>m for minute</p>
</li><li>
<p>s for second</p>
</li></ul>
</dd>


<a name="INDEX-3544" /><dt><b><tt class="literal">$GENERATE</tt> <em class="replaceable">range</em> <em class="replaceable">template</em></b></dt>
<dd>
<p>Generates resource records for a range of values using a specific
resource record template. <em class="replaceable">range</em> is a
numeric range of values written in the form
<em class="replaceable">low_value</em><tt class="literal">-</tt><em class="replaceable">high_value</em>.
$GENERATE creates a resource record for each value in
<em class="replaceable">range</em>. Thus a range of
<tt class="literal">1-9</tt> would create nine distinct records. The type
of records created is determined by the
<em class="replaceable">template</em>. The
<em class="replaceable">template</em> is composed of literal values
that are written to the resource record exactly as shown in the
<em class="replaceable">template</em>, and the symbol
<tt class="literal">$</tt> that is replaced by the current range value
before the resource record is written. Therefore, if the current
range value is 7 and the template is <tt class="literal">$</tt>
<tt class="literal">CNAME</tt> <tt class="literal">$.first64</tt>, the resource
record generated is <tt class="literal">7 CNAME 7.first64</tt>.
</p>
</dd>

</dl>

<p>These directives are helpful for organizing and controlling the data
in a zone file, but all of the actual database information comes from
standard resource records. All of the files pointed to by
<em class="emphasis">named.conf</em> contribute to the DNS database, so
all of these files are constructed from standard resource records.
</p>

<a name="tcp3-APP-C-SECT-3.1" /><div class="sect2">
<h3 class="sect2">C.3.1. Standard Resource Records</h3>

<p>The format of <a name="INDEX-3545" /> <a name="INDEX-3546" />standard resource records, sometimes
called RRs, is defined in <a name="INDEX-3547" />RFC 1033, the <em class="emphasis">Domain
Administrators Operations Guide</em>. The format is:
</p>

<blockquote><pre class="code">[<em class="replaceable">name</em>] [<em class="replaceable">ttl</em>] <em class="replaceable">class</em> <em class="replaceable">type data</em></pre></blockquote>

<p>The individual fields in the standard resource record are:</p>

<dl>
<a name="INDEX-3548" /><dt><i><em class="replaceable">name</em></i></dt>
<dd>
<p>This is the name of the object affected by this resource record. The
named object can be as specific as an individual host, or as general
as an entire domain. The string entered for
<em class="replaceable">name</em> is relative to the current domain
unless a fully qualified domain name is used.<a href="#FOOTNOTE-160">[160]</a></p><blockquote class="footnote"> <a name="FOOTNOTE-160" /><p>[160]The
FQDN must be specified all the way to the root; i.e., it must end
with a dot.</p> </blockquote> 

<p>Certain
<em class="replaceable">name</em> values have special meaning. These
are:
</p>

<dl>
<dt><i> </i></dt>
<dd>
<p>A blank name field denotes the current named object. The current name
stays in force until a new name value is encountered in the name
field. This permits multiple RRs to be applied to a single object
without having to repeat the object's name for each record.
</p>
</dd>


<dt><b><tt class="literal">..</tt></b></dt>
<dd>
<p>Two dots in the name field refer to the root domain. However, a
single dot (the actual name of the root) also refers to the root
domain, and is more commonly used.
</p>
</dd>


<dt><b><tt class="literal">@</tt></b></dt>
<dd>
<p>A single at-sign (<tt class="literal">@</tt>) in the name field refers to
the current origin. The origin is a domain name derived by the system
from the current domain name, or explicitly set by the system
administrator using the $ORIGIN command.
</p>
</dd>


<dt><b><tt class="literal">*</tt></b></dt>
<dd>
<p>An asterisk in the name field is a wildcard character. It stands for
a name composed of any string. It can be combined with a domain name
or used alone. Used alone, an asterisk in the named field means that
the resource record applies to objects with names composed of any
string of characters plus the name of the current domain. Used with a
domain name, the asterisk is relative to that domain. For example,
<em class="emphasis">*.uucp.</em> in the name field means any string plus
the string <em class="emphasis">.uucp</em>.
</p>
</dd>

</dl>
</dd>


<a name="INDEX-3549" /><dt><i><em class="replaceable">ttl</em></i></dt>
<dd>
<p>Time-to-live defines the length of time that the information in this
resource record should be kept in the cache. When
<em class="replaceable">ttl</em> is specified as a purely numeric
value, it defines the length of time in seconds.
<em class="replaceable">ttl</em> can also use the alphanumeric format
described for the $TTL directive. If no value is set for
<em class="replaceable">ttl</em>, it defaults to the value defined for
the entire zone file by the $TTL directive.
</p>
</dd>


<a name="INDEX-3550" /><dt><i><em class="replaceable">class</em></i></dt>
<dd>
<p>This field defines the address class of the resource record. The
Internet address class is IN. All resource records used by Internet
DNS have IN in this field, but it is possible for a zone file to hold
non-Internet information. For example, information used by the Hesiod
server, a name server developed at MIT, is identified by HS in the
class field, and chaosnet information is identified by a CH in the
class field. All resource records used in this book have an address
class of IN.
</p>
</dd>


<a name="INDEX-3551" /><dt><i><em class="replaceable">type</em></i></dt>
<dd>
<p>This field indicates the type of data this record provides. For
example, the A type RR provides the address of the host identified in
the name field. The most common standard resource record types are
discussed in the following sections.
</p>
</dd>


<a name="INDEX-3552" /><dt><i><em class="replaceable">data</em></i></dt>
<dd>
<p>This field contains the information specific to the resource record.
The format and content of the data field vary according to the
resource record type. The data field is the meat of the RR. For
example, in an A record, the data field contains the IP address.
</p>
</dd>

</dl>

<p>In addition to the special characters that have meaning in the name
field, zone file records use these other special characters:
</p>

<dl>
<dt><b><tt class="literal">;</tt></b></dt>
<dd>
<p>The semicolon is the comment character. Use the semicolon to indicate
that the remaining data on the line is a comment.
</p>
</dd>


<dt><b><tt class="literal">( )</tt></b></dt>
<dd>
<p>Parentheses are the continuation characters. Use parentheses to
continue data beyond a single line. After an opening parenthesis, all
data on subsequent lines is considered part of the current line until
a closing parenthesis.
</p>
</dd>


<dt><b><tt class="literal">\</tt><em class="replaceable">x</em></b></dt>
<dd>
<p>The backslash is an escape character. A non-numeric character
following a backslash (\) is taken literally, and any special meaning
that the character may ordinarily have is ignored. For example,
<tt class="literal">\;</tt> means a semicolon -- not a comment.
</p>
</dd>


<dt><b><tt class="literal">\</tt><em class="replaceable">ddd</em></b></dt>
<dd>
<p>The backslash can also be followed by three decimal numbers. When the
escape character is used in this manner, the decimal numbers are
interpreted as an absolute byte value. For example,
<tt class="literal">\255</tt> means the byte value 11111111.
</p>
</dd>

</dl>

<p>The same general resource record format is used for each of the
resource records in a zone file. The most commonly used resource
records are described below.<a href="#FOOTNOTE-161">[161]</a>
</p><blockquote class="footnote"> <a name="FOOTNOTE-161" /><p>[161]There are more than 40
RRs, most of which are not used. For a description of all of them,
see <em class="emphasis">Linux DNS Administration</em> by Craig Hunt
(Sybex).</p> </blockquote>

<a name="tcp3-APP-C-SECT-3.1.1" /><div class="sect3">
<h3 class="sect3">C.3.1.1. Start of Authority record</h3>

<p>The <a name="INDEX-3553" />Start of Authority <a name="INDEX-3554" /> <a name="INDEX-3555" />(SOA)
record marks the beginning of a zone, and is usually the first record
in a zone file. All of the records that follow are part of the zone
declared by the SOA. Each zone has only one SOA record; the next SOA
record encountered marks the beginning of another zone. Because a
zone file is normally associated with a single zone, it normally
contains only one SOA record.
</p>

<p>The format of the SOA record is:</p>

<blockquote><pre class="code">[<em class="replaceable">zone</em>] [<em class="replaceable">ttl</em>] IN SOA <em class="replaceable">origin contact </em> ( 
                    <em class="replaceable">serial</em>
 <em class="replaceable">                   refresh</em>
                   <em class="replaceable"> retry</em>
 <em class="replaceable">                   expire </em>
 <em class="replaceable">                   negative_cache_ttl</em>  )</pre></blockquote>

<p>The components of the SOA record are:</p>

<dl>
<dt><i><em class="replaceable">zone</em></i></dt>
<dd>
<p>This is the name of the zone. Usually the SOA name field contains an
at-sign (<tt class="literal">@</tt>). When used in an SOA record, the
at-sign refers back to the domain name declared in the
<em class="emphasis">named.conf</em> zone statement that points to this
zone file.
</p>
</dd>


<dt><i><em class="replaceable">ttl</em></i></dt>
<dd>
<p>Time-to-live is left blank on the SOA record.</p>
</dd>


<dt><b><tt class="literal">IN</tt></b></dt>
<dd>
<p>The address class is IN for all Internet RRs.</p>
</dd>


<dt><b><tt class="literal">SOA</tt></b></dt>
<dd>
<p>SOA is the resource record type. All the information that follows
this is part of the data field and is specific to the SOA record.
</p>
</dd>


<dt><b><tt class="literal">origin</tt></b></dt>
<dd>
<p>This is the hostname of the master server for this domain. It is
normally written as a fully qualified domain name. For example,
<em class="emphasis">crab</em> is the master server for
<em class="emphasis">wrotethebook.com</em>, so this field contains
<em class="emphasis">crab.wrotethebook.com.</em> in the SOA record for
<em class="emphasis">wrotethebook.com</em>.
</p>
</dd>


<dt><i><em class="replaceable">contact</em></i></dt>
<dd>
<p>The email address of the person responsible for this domain is
entered in this field. The address is modified slightly. The at-sign
(<tt class="literal">@</tt>) that usually appears in an Internet email
address is replaced by a dot. Therefore, if
<em class="emphasis">david@crab.wrotethebook.com</em> is the mailing
address of the administrator of the
<em class="emphasis">wrotethebook.com</em> domain, the
<em class="emphasis">wrotethebook.com</em> SOA record contains
<em class="emphasis">david.crab.wrotethebook.com</em>. in the contact
field.
</p>
</dd>


<dt><i><em class="replaceable">serial</em></i></dt>
<dd>
<p>This is the version number of the zone file. It is a ten-digit
numeric field usually entered as a simple number, e.g., 117. However,
the composition of the number is up to the administrator. Some choose
a format that shows the date the zone was updated, e.g., 2001061800.
Regardless of the format, the important thing is that the serial
number must increase every time the data in the zone file is
modified.
</p>


<p>The serial field is extremely important. It is used by the slave
servers to determine if the zone file has been updated. To make this
determination, a slave server requests the SOA record from the master
server and compares the serial number of the data it has stored to
the serial number received from the master server. If the serial
number has increased, the slave server requests a full zone transfer.
Otherwise it assumes that it has the most current zone data. You must
increment the serial number each time you update the zone data. If
you don't, the new data may not be disseminated to the slave
servers.
</p>
</dd>


<dt><i><em class="replaceable">refresh</em></i></dt>
<dd>
<p>This specifies the length of time that the slave server should wait
before checking with the master server to see if the zone has been
updated. Every <em class="replaceable">refresh</em> seconds, the slave
server checks the SOA serial number to see if the zone file needs to
be reloaded. Slave servers check the serial numbers of their zones
whenever they restart. But it is important to keep the slave
server's database current with the master server, so
<tt class="literal">named</tt> does not rely on these unpredictable events.
The <em class="replaceable">refresh</em> interval provides a
predictable cycle for reloading the zone that is controlled by the
domain administrator.
</p>


<p>The value used in <em class="replaceable">refresh</em> is a number, up
to eight digits long, that is the maximum number of seconds that the
master and slave servers' databases can be out of sync. A low
<em class="replaceable">refresh</em> value keeps the data on the
servers closely synchronized, but a very low
<em class="replaceable">refresh</em> value is not usually required. A
value set lower than needed places an unnecessary burden on the
network and the slave servers. The value used in
<em class="replaceable">refresh</em> should reflect the reality of how
often your DNS database is updated.
</p>

<p>Most sites' DNS databases are very stable. Systems are added
periodically, but not generally on an hourly basis. When you are
adding a new system, you can assign the hostname and address of that
system before the system is operational. You can then install this
information in the name server database before it is actually needed,
ensuring that it is disseminated to the slave servers long before it
has to be used.
</p>

<p>If extensive changes are planned, the
<em class="replaceable">refresh</em> time can be temporarily reduced
while the changes are underway. Therefore, you can normally set
<em class="replaceable">refresh</em> time high, reducing load on the
network and servers. Two (43200 seconds) to four (21600 seconds)
times a day for <em class="replaceable">refresh</em> is adequate for
many sites.
</p>

<p>The process of retrieving the SOA record, evaluating the serial
number, and, if necessary, downloading the zone file is called a
<em class="emphasis">zone refresh</em>. Thus the name
<em class="emphasis">refresh</em> is used for this value.
</p>
</dd>


<dt><i><em class="replaceable">retry</em></i></dt>
<dd>
<p>This defines how long slave servers should wait before trying again
if the master server fails to respond to a request for a zone
refresh. <em class="replaceable">retry</em> is specified in seconds and
can be up to eight digits long.
</p>


<p>You should not set the <em class="replaceable">retry</em> value too
low. If a master server fails to respond, the server or the network
could be down. Quickly retrying a down system gains nothing and costs
network resources. A slave server that backs up a large number of
zones can have problems when <em class="replaceable">retry</em> values
are short. If the slave server cannot reach the master servers for
several of its zones, it can become stuck in a retry loop.<a href="#FOOTNOTE-162">[162]</a> Avoid problems;
use an hour (3600) or a half hour (1800) for the
<em class="replaceable">retry</em> value.
</p><blockquote class="footnote">
<a name="FOOTNOTE-162" /><p>[162]The server may alternate between periods when it fails to
respond and when it resolves queries, or it may display the error
"too many open files."</p> </blockquote>
</dd>


<dt><i><em class="replaceable">expire</em></i></dt>
<dd>
<p>This defines how long the zone's data should be retained by the
slave servers without receiving a zone refresh. The value is
specified in seconds and is up to eight digits long. If after
<em class="replaceable">expire</em> seconds the slave server has been
unable to refresh this zone, it should discard all of the data.
</p>


<p><em class="replaceable">expire</em> is normally a very large value.
604800 seconds (about one week) is commonly used. This says that if
there has been no answer from the master server to refresh requests
repeated every <em class="replaceable">retry</em> seconds for the last
7 days, discard the data. Seven days is a good value, but much longer
values are not unusual.
</p>
</dd>


<dt><i><em class="replaceable">negative_cache_ttl</em></i></dt>
<dd>
<p>The <em class="replaceable">negative_cache_ttl</em> field of the SOA
record is the default time-to-live for negative information about
this domain that is cached by remote servers. All servers cache
answers and use those answers to respond to subsequent queries. Most
of the answers cached by a server are standard resource records. Yet
a name server can learn from an authoritative server that a specific
resource record does not exist. This is also valuable information
that should be cached.
</p>


<p>The server keeps cached records as long as they are valid, and the
TTL defines how long that is. Each resource record has a TTL, either
a TTL defined specifically for that record or the default TTL defined
by the $TTL directive. However, there is no resource record for
negative information and thus no explicit TTL. It is the
<em class="replaceable">negative_cache_ttl</em> that tells remote
servers how long to cache negative information.
</p>

<p>The <em class="replaceable">negative_cache_ttl</em> value is usually
set to between 5 and 15 minutes. This is long enough to prevent
repeated queries for nonexistent information from causing your server
any trouble, but short enough for repeated queries caused by a remote
user who knows that a system with a certain name will soon come
online.
</p>
</dd>

</dl>

<p>Most of the fields in the SOA record provide values used to keep the
slave servers synchronized with the master server. These values are
used to guarantee that the slave will periodically pull a copy of the
zone from the master server. In addition to this, and completely
independent of the settings on the SOA record, the master notifies
the slaves when the zone is updated in order to push a copy of the
zone down to the slave. Combining the master-initiated zone push and
the slave-initiated zone pull ensures that the zone files on the
master and its slaves stay tightly synchronized.
</p>

<p>A sample SOA record for the <em class="emphasis">wrotethebook.com</em>
domain is:
</p>

<blockquote><pre class="code">@    IN  SOA  crab.wrotethebook.com. david.crab.wrotethebook.com. ( 
              2001061801             ; serial 
              21600                  ; refresh four times a day 
              1800                   ; retry every half hour 
              604800                 ; expire after 1 week 
              900                    ; negative cache ttl is 15 minutes
)</pre></blockquote>

<p>Notice the serial number in this SOA. The serial number is in the
format <em class="emphasis">yyyymmddvv,</em> where
<em class="emphasis">yyyy</em> is the year, <em class="emphasis">mm</em> is the
month, <em class="emphasis">dd</em> is the day, and
<em class="emphasis">vv</em> is the version written that day. This type of
serial number allows the administrator to track what day the zone was
updated. Adding the version number allows for multiple updates in a
single day. This zone file was created June 18, 2001, and it is the
first update that day.
</p>

<p>This SOA record also says that <em class="emphasis">crab</em> is the
master server for this zone and that the person responsible for this
zone can be reached at the email address
<em class="emphasis">david@crab.wrotethebook.com</em>. The SOA tells the
slave servers to check the zone for changes four times a day and to
retry every half hour if they don't get an answer. If they
retry for an entire week and never get an answer, they should discard
the data for this zone. Finally, if an RR does not exist in this zone
and the remote server decides to cache that information, it should
cache that information for 15 <a name="INDEX-3556" /> <a name="INDEX-3557" />minutes. 
</p>

</div>

<a name="tcp3-APP-C-SECT-3.1.2" /><div class="sect3">
<h3 class="sect3">C.3.1.2. Name Server record</h3>

<p>Name Server (NS) resource <a name="INDEX-3558" /> <a name="INDEX-3559" />records
identify the authoritative servers for a zone. These records are the
pointers that link the domain hierarchy together. NS records in the
top-level domains point to the servers for the second-level domains,
which in turn contain NS records that point to the servers for their
subdomains. Name server records pointing to the servers for
subordinate domains are required for these domains to be accessible.
Without NS records, the servers for a domain would be unknown.
</p>

<p>The format of the NS RR is:</p>

<blockquote><pre class="code">[<em class="replaceable">domain</em>] [<em class="replaceable">ttl</em>] IN NS <em class="replaceable">server</em></pre></blockquote>

<dl>
<dt><i><em class="replaceable">domain</em></i></dt>
<dd>
<p>The name of the domain for which the host specified in the server
field is an authoritative name server.
</p>
</dd>


<dt><i><em class="replaceable">ttl</em></i></dt>
<dd>
<p>Time-to-live is usually blank.</p>
</dd>


<dt><b><tt class="literal">IN</tt></b></dt>
<dd>
<p>The address class is IN.</p>
</dd>


<dt><b><tt class="literal">NS</tt></b></dt>
<dd>
<p>The name server resource record type is NS.</p>
</dd>


<dt><i><em class="replaceable">server</em></i></dt>
<dd>
<p>The hostname of a computer that provides authoritative name service
for this domain.
</p>

<p>Usually domains have at least one server that is located outside the
local domain. The server name cannot be specified relative to the
local domain; it must be specified as a fully qualified domain name.
To be consistent, many administrators use fully qualified names for
all servers, even though it is not necessary for servers within the
local domain.
</p>
</dd>

</dl>

</div>

<a name="tcp3-APP-C-SECT-3.1.3" /><div class="sect3">
<h3 class="sect3">C.3.1.3. Address record</h3>

<p>The majority of <a name="INDEX-3560" /> <a name="INDEX-3561" />the
resource records in a forward-mapping zone file<a href="#FOOTNOTE-163">[163]</a> are address records. Address
records are used to convert hostnames to IP addresses, which is the
most common use of the DNS database.
</p><blockquote class="footnote"> <a name="FOOTNOTE-163" /><p>[163]<a href="ch08_01.html">Chapter 8, "Configuring DNS"</a> describes the various <tt class="literal">named</tt>
configuration files.</p> </blockquote>

<p>The address RR contains the following:</p>

<blockquote><pre class="code"> [<em class="replaceable">host</em>] [<em class="replaceable">ttl</em>] IN A <em class="replaceable">address</em> </pre></blockquote>

<dl>
<dt><i><em class="replaceable">host</em></i></dt>
<dd>
<p>The name of the host whose address is provided in the data field of
this record. Most often the hostname is written relative to the
current domain.
</p>
</dd>


<dt><i><em class="replaceable">ttl</em></i></dt>
<dd>
<p>Time-to-live is usually blank. </p>
</dd>


<dt><b><tt class="literal">IN</tt></b></dt>
<dd>
<p>The address class is IN. </p>
</dd>


<dt><b><tt class="literal">A</tt></b></dt>
<dd>
<p>The address resource record type is A. </p>
</dd>


<dt><i><em class="replaceable">address</em></i></dt>
<dd>
<p>The IP address of the host is written here in dotted decimal form,
e.g., 172.16.12.2.
</p>
</dd>

</dl>

<p>A <em class="emphasis">glue record</em> is a special type of address
record. Most address records refer to hosts within the zone, but
sometimes an address record needs to refer to a host in another zone.
This is done to provide the address of a name server for a
subordinate domain. Recall that the NS record for a subdomain server
identifies the server by name. An address is needed to communicate
with that server, so an A record must also be provided. The address
record, combined with the name server record, links the domains
together -- thus the term "glue record."
</p>

</div>

<a name="tcp3-APP-C-SECT-3.1.4" /><div class="sect3">
<h3 class="sect3">C.3.1.4. Mail Exchanger record</h3>

<p>The Mail Exchanger (MX) <a name="INDEX-3562" /> <a name="INDEX-3563" />record
redirects mail to a mail server. It can redirect mail for an
individual computer or an entire domain. MX records are extremely
useful for domains that contain some systems that don't run
SMTP server software. Mail addressed to those systems can be
redirected to computers that do run server software. MX records are
also used to simplify mail addressing by redirecting mail to servers
that understand the simplified addresses.
</p>

<p>The format of the MX RR is:</p>

<blockquote><pre class="code">[<em class="replaceable">name</em>] [<em class="replaceable">ttl</em>] IN MX <em class="replaceable">preference host</em></pre></blockquote>

<dl>
<dt><i><em class="replaceable">name</em></i></dt>
<dd>
<p>The name of a host or domain to which the mail is addressed. Think of
this as the value that occurs after the @ in a mailing address. Mail
addressed to this name is sent to the mail server specified by the MX
record's host field.
</p>
</dd>


<dt><i><em class="replaceable">ttl</em></i></dt>
<dd>
<p>Time-to-live is usually blank.</p>
</dd>


<dt><b><tt class="literal">IN</tt></b></dt>
<dd>
<p>The address class is IN.</p>
</dd>


<dt><b><tt class="literal">MX</tt></b></dt>
<dd>
<p>The mail exchanger resource record type is MX.</p>
</dd>


<dt><i><em class="replaceable">preference</em></i></dt>
<dd>
<p>A host or domain may have more than one MX record associated with it.
The preference field specifies the order in which the mail servers
are tried. Servers with low preference numbers are tried first, so
the most preferred server has a preference of 0. Preference values
are usually assigned in increments of 5 or 10, so that new servers
can be inserted between existing servers without editing the old MX
records.
</p>
</dd>


<dt><i><em class="replaceable">host</em></i></dt>
<dd>
<p>The name of the mail server to which mail is delivered when it is
addressed to the host or domain identified in the name field.
</p>
</dd>

</dl>

<p>Here is how MX records work. If a remote system has mail to send to a
host, it requests the host's MX records. DNS returns all of the
X records for the specified host. The remote server chooses the MX
with the lowest preference value and attempts to deliver the mail to
that server. If it cannot connect to that server, it will try each of
the remaining servers in preference order until it can deliver the
mail. If no MX records are returned by DNS, the remote server
delivers the mail directly to the host to which the mail is
addressed. MX records only define how to redirect mail. The remote
system and the mail server perform all of the processing that
actually delivers the mail.
</p>

<p>Because the remote system will first try to use an MX record, many
domain administrators include MX records for every host in the zone.
any of these MX records point right back to the host to which the
mail is addressed, e.g., an MX for <em class="emphasis">crab</em> with a
host field of <em class="emphasis">crab.wrotethebook.com</em>. These
records are used to ensure that the remote computer first attempts
delivery to the host, and uses the MX server only if the host cannot
accept the mail.
</p>

<p>An important use for MX records is to allow mail to non-Internet
sites to be delivered using Internet-style addressing. MX records do
this by redirecting the mail to computers that know how to deliver
the mail to non-Internet networks. For example, sites using
<tt class="literal">uucp</tt> can register an Internet domain name with
UUNET. UUNET uses MX records to redirect Internet mail addressed to
these non-connected sites to <em class="emphasis">uunet.uu.net</em>, which
delivers the mail to its final destination via
<tt class="literal">uucp</tt>.
</p>

<p>Here are some MX examples. All of these examples are for the
imaginary domain <em class="emphasis">wrotethebook.com</em>. In the first
example, mail addressed to
<em class="emphasis">clock.wrotethebook.com</em> is redirected to
<em class="emphasis">crab.wrotethebook.com</em> with this MX record:
</p>

<blockquote><pre class="code"> clock IN MX 10 crab</pre></blockquote>

<p>The second example is an MX record used to simplify mail addressing.
People can send mail to any user in this domain without knowing the
specific computer that the user reads his mail on. Mail addressed to
<em class="emphasis">user@wrotethebook.com</em> is redirected by this MX
record to <em class="emphasis">crab</em>, which is a mail server that
knows how to deliver mail to every individual user in the domain.
</p>

<blockquote><pre class="code"> wrotethebook.com. IN MX 10 crab.wrotethebook.com.</pre></blockquote>

<p>The last example is an MX record that redirects mail addressed to any
<em class="replaceable">host</em> within the domain to a central mail
server. Mail addressed to any host,
<em class="emphasis">horseshoe.wrotethebook.com</em>,
<em class="emphasis">24seven.wrotethebook.com</em>, or
<em class="emphasis">anything.wrotethebook.com</em>, is redirected to
<em class="emphasis">crab</em>. This is the most common use of the
wildcard character (<tt class="literal">*</tt>).
</p>

<blockquote><pre class="code"> *.wrotethebook.com. IN MX 10 crab.wrotethebook.com.</pre></blockquote>

<p>In these examples, the <em class="replaceable">preference</em> is 10 so
that a mail server with a lower preference number can be added to the
zone without changing the existing MX record. Also notice that the
hostnames in the first example are specified relative to the
<em class="emphasis">wrotethebook.com</em> domain, but the other names are
not relative because they end in a dot. All of these names
<em class="emphasis">could</em> have been entered as relative names
because they all are hosts in the
<em class="emphasis">wrotethebook.com</em> domain; fully qualified names
were used only to vary the examples. Finally, the wildcard MX record
applies only to hosts that do not have specific MX records. If the
specific record for <em class="emphasis">clock</em> is in the same
configuration as the wildcard record, the wildcard MX does not apply
to <em class="emphasis">clock</em>.
</p>

</div>

<a name="tcp3-APP-C-SECT-3.1.5" /><div class="sect3">
<h3 class="sect3">C.3.1.5. Canonical Name record</h3>

<p>The Canonical Name (CNAME) <a name="INDEX-3564" /> <a name="INDEX-3565" />resource record defines an alias for
the official name of a host. The CNAME record provides a facility
similar to nicknames in the host table. The facility provides
alternate hostnames for the convenience of users, and generic
hostnames used by applications (such as <em class="emphasis">loghost</em>
used by <tt class="literal">syslogd</tt>).
</p>

<p>The CNAME record is frequently used to ease the transition from an
old hostname to a new hostname. While it is best to avoid hostname
changes by carefully choosing hostnames in the first place, not all
changes can be avoided. When you do make a name change, it can take a
long time before it becomes completely effective, particularly if the
hostname is embedded in a mailing list run at a remote site. To
reduce problems for the remote site, use a CNAME record until they
can make the change.
</p>

<p>The format of the CNAME record is:</p>

<blockquote><pre class="code"><em class="replaceable">nickname</em> [<em class="replaceable">ttl</em>] IN CNAME <em class="replaceable">host</em></pre></blockquote>

<dl>
<dt><i><em class="replaceable">nickname</em></i></dt>
<dd>
<p>This hostname is an alias for the official hostname defined in the
<em class="replaceable">host</em> field. The
<em class="replaceable">nickname</em> can be any valid hostname.
</p>
</dd>


<dt><i><em class="replaceable">ttl</em></i></dt>
<dd>
<p>Time-to-live is usually blank.</p>
</dd>


<dt><b><tt class="literal">IN</tt></b></dt>
<dd>
<p>The address class is IN.</p>
</dd>


<dt><b><tt class="literal">CNAME</tt></b></dt>
<dd>
<p>The canonical name resource record type is CNAME.</p>
</dd>


<dt><i><em class="replaceable">host</em></i></dt>
<dd>
<p>The canonical name of the host is provided here. This hostname must
be the official hostname; it cannot be an alias.
</p>
</dd>

</dl>

<p>One important thing to remember about the CNAME record is that all
other resource records must be associated with the official hostname
and not with the nickname. This means that the CNAME record should
not be placed between a host and the list of RRs associated with that
host. The example below shows a correctly placed CNAME record:
</p>

<blockquote><pre class="code">rodent     IN    A       172.16.12.2 
           IN    MX      5 rodent.wrotethebook.com. 
           IN    RP      alana.wrotethebook.com. alana 
           IN    TXT     "Linux workstation in room A15"
mouse      IN    CNAME   rodent.wrotethebook.com.</pre></blockquote>

<p>In this example, the hostname <em class="emphasis">rodent</em> stays in
force for the MX, RP, and TXT records because they all have blank
name fields. The CNAME record changes the name field value to
<em class="emphasis">mouse</em>, which is a nickname for
<em class="emphasis">rodent</em>. Any RRs with blank name fields following
this CNAME record would associate themselves with the nickname
<em class="emphasis">mouse</em>, which is illegal. An improper CNAME
placement is:
</p>

<blockquote><pre class="code">rodent     IN    A       172.16.12.2 
mouse      IN    CNAME   rodent.wrotethebook.com. 
           IN    MX      5 rodent.wrotethebook.com. 
           IN    RP      alana.wrotethebook.com. alana 
           IN    TXT     "Linux workstation in room A15"</pre></blockquote>

<p>This improperly placed CNAME record causes <tt class="literal">named</tt>
to display the error message "mouse.wrotethebook.com has CNAME
and other data (illegal)." Check
<em class="emphasis">/var/adm/messages</em> for <tt class="literal">named</tt>
error messages to ensure that you have not misplaced any CNAME
records.
</p>

</div>

<a name="tcp3-APP-C-SECT-3.1.6" /><div class="sect3">
<h3 class="sect3">C.3.1.6. Domain Name Pointer record</h3>

<p>The Domain Name Pointer (PTR) <a name="INDEX-3566" /> <a name="INDEX-3567" />
<a name="INDEX-3568" />resource records are used to convert
numeric IP addresses to hostnames. This is the opposite of what is
done by the address record that converts hostnames to addresses. PTR
records are used to construct the <em class="emphasis">in-addr.arpa</em>
reverse domain files.
</p>

<p>Many administrators ignore the reverse domains because things appear
to run fine without them. Don't ignore them. Keep these zones
up to date. Several programs use the reverse domains to map IP
addresses to hostnames when preparing status displays. A good example
is the <tt class="literal">netstat</tt> command. Some service providers use
the reverse domains to track who is using their services. If they
cannot map your IP address back to a hostname, they reject your
connection.
</p>

<p>The format of the PTR record is:</p>

<blockquote><pre class="code"><em class="replaceable">name</em> [<em class="replaceable">ttl</em>] IN PTR <em class="replaceable">host</em></pre></blockquote>

<dl>
<dt><i><em class="replaceable">name</em></i></dt>
<dd>
<p>The <em class="replaceable">name</em> specified here is actually a
number. The number is defined relative to the current
<em class="emphasis">in-addr.arpa</em> domain. Names in an
<em class="emphasis">in-addr.arpa</em> domain are IP addresses specified
in reverse order. If the current domain is
<em class="emphasis">16.172.in-addr.arpa</em>, then the name field for
<em class="emphasis">rodent</em> (172.16.12.2) is 2.12. These digits
(2.12) are added to the current domain
(<em class="emphasis">16.172.in-addr.arpa</em>) to make the name
<em class="emphasis">2.12.16.172.in-addr.arpa</em>. <a href="ch04_01.html">Chapter 4, "Getting Started"</a> discusses the unique structure of
<em class="emphasis">in-addr.arpa</em> domain names.
</p>
</dd>


<dt><i><em class="replaceable">ttl</em></i></dt>
<dd>
<p>Time-to-live is usually blank.</p>
</dd>


<dt><b><tt class="literal">IN</tt></b></dt>
<dd>
<p>The address class is IN.</p>
</dd>


<dt><b><tt class="literal">PTR</tt></b></dt>
<dd>
<p>The Domain Name Pointer resource record type is PTR.</p>
</dd>


<dt><i><em class="replaceable">host</em></i></dt>
<dd>
<p>This is the fully qualified domain name of the computer whose address
is specified in the name field. The host must be specified as a fully
qualified name because the name cannot be relative to the current
<em class="emphasis">in-addr.arpa</em> domain.
</p>
</dd>

</dl>

<p>There are many examples of PTR records in the sample reverse-mapping
zone file (<em class="emphasis">172.16.rev</em>) shown in <a href="ch08_01.html">Chapter 8, "Configuring DNS"</a>. 
</p>

</div>

<a name="tcp3-APP-C-SECT-3.1.7" /><div class="sect3">
<h3 class="sect3">C.3.1.7. Responsible Person record</h3>

<p>The Responsible Person (RP) <a name="INDEX-3569" /> <a name="INDEX-3570" />
<a name="INDEX-3571" />record identifies the point of contact
for a host or domain. The format of the RP record is:
</p>

<blockquote><pre class="code">[<em class="replaceable">name</em>] [<em class="replaceable">ttl</em>] IN RP <em class="replaceable">mail_address text_pointer</em></pre></blockquote>

<dl>
<dt><i><em class="replaceable">name</em></i></dt>
<dd>
<p>The name of the domain object for which the responsible person is
defined.
</p>
</dd>


<dt><i><em class="replaceable">ttl</em></i></dt>
<dd>
<p>Time-to-live is usually blank.</p>
</dd>


<dt><b><tt class="literal">IN</tt></b></dt>
<dd>
<p>The address class is IN.</p>
</dd>


<dt><b><tt class="literal">RP</tt></b></dt>
<dd>
<p>The resource record type is RP.</p>
</dd>


<dt><i><em class="replaceable">mail_address</em></i></dt>
<dd>
<p>The email address of the responsible person. The @ usually included
in an email address is replaced with a dot. Thus,
<em class="emphasis">craig@wrotethebook.com</em> becomes
<em class="emphasis">craig.wrotethebook.com</em>.
</p>
</dd>


<dt><i><em class="replaceable">text_pointer</em> </i></dt>
<dd>
<p>The domain name of a TXT record that contains additional information
about the responsible person.
</p>
</dd>

</dl>

<p>Here's an example of how an RP record is used with a TXT record:</p>

<blockquote><pre class="code">crab.wrotethebook.com.   IN RP  craig.wrotethebook.com. crabRP
crabRP.wrotethebook.com. IN TXT "Craig Hunt (301)555-1234 X237"</pre></blockquote>

<p>The RP record states that the person responsible for
<em class="emphasis">crab.wrotethebook.com</em> can be reached via email
at <em class="emphasis">craig@wrotethebook.com</em> and that additional
information about the person can be obtained in the TXT records for
<em class="emphasis">crabRP.wrotethebook.com</em>. The TXT record provides
the contact person's name and phone number.
</p>

</div>

<a name="tcp3-APP-C-SECT-3.1.8" /><div class="sect3">
<h3 class="sect3">C.3.1.8. Text record</h3>

<p>The Text (TXT) <a name="INDEX-3572" />
<a name="INDEX-3573" />resource record holds string data. The
text data can be in any format. Some sites define a local format for
the information. For example, a TXT record could hold the Ethernet
address of a host at one site and a room number at another site.
</p>

<p>The format of the TXT record is:</p>

<blockquote><pre class="code">[<em class="replaceable">name</em>] [<em class="replaceable">ttl</em>] IN TXT <em class="replaceable">string</em></pre></blockquote>

<dl>
<dt><i><em class="replaceable">name</em></i></dt>
<dd>
<p>The name of the domain object with which the string data is
associated.
</p>
</dd>


<dt><i><em class="replaceable">ttl</em></i></dt>
<dd>
<p>Time-to-live is usually blank.</p>
</dd>


<dt><b><tt class="literal">IN</tt></b></dt>
<dd>
<p>The address class is IN.</p>
</dd>


<dt><b><tt class="literal">TXT</tt></b></dt>
<dd>
<p>The resource record type is TXT.</p>
</dd>


<dt><i><em class="replaceable">string</em></i></dt>
<dd>
<p>The <em class="replaceable">string</em> field contains text data
enclosed in quotation marks.
</p>
</dd>

</dl>

</div>

<a name="tcp3-APP-C-SECT-3.1.9" /><div class="sect3">
<h3 class="sect3">C.3.1.9. Host Information record</h3>

<p>The Host Information (HINFO) <a name="INDEX-3574" /> <a name="INDEX-3575" />
<a name="INDEX-3576" />resource record provides a short
description of the hardware and operating system used by a specific
host. The hardware and software are described using standard
terminology defined in the <em class="emphasis">Assigned Numbers</em> RFC
in the sections on <em class="emphasis">Machine Names</em> (hardware) and
<em class="emphasis">System Names</em> (software). There are a large
number of hardware and software designators listed in the RFC. Most
names use the same general format. Names with embedded blanks must be
enclosed in quotes, so some names have a dash (-) where you might
expect a blank. A machine name is usually the manufacturer's
name in uppercase letters separated from the model number by a dash.
The system name is usually the manufacturer's operating system
name written in uppercase letters. Naturally the rapid changes in the
computer market constantly make the data in the <em class="emphasis">Assigned
Numbers</em> RFC out of date. Because of this, many
administrators make up their own values for machine names and system
names.
</p>

<p>The format of the HINFO record is:</p>

<blockquote><pre class="code">[<em class="replaceable">host</em>] [<em class="replaceable">ttl</em>] IN HINFO <em class="replaceable">hardware software</em></pre></blockquote>

<dl>
<dt><i><em class="replaceable">host</em></i></dt>
<dd>
<p>The hostname of the computer whose hardware and software are
described in the data section of this resource record.
</p>
</dd>


<dt><i><em class="replaceable">ttl</em></i></dt>
<dd>
<p>Time-to-live is usually blank.</p>
</dd>


<dt><b><tt class="literal">IN</tt></b></dt>
<dd>
<p>The address class is IN.</p>
</dd>


<dt><b><tt class="literal">HINFO</tt></b></dt>
<dd>
<p>HINFO is the resource record type. All of the information that
follows is part of the HINFO data field.
</p>
</dd>


<dt><i><em class="replaceable">hardware</em></i></dt>
<dd>
<p>This field identifies the hardware used by this host. It contains the
machine name defined in the <em class="emphasis">Assigned Numbers</em>
RFC. This field must be enclosed in quotes if it contains any blanks.
A single blank space separates the hardware field from the software
field that follows it.
</p>
</dd>


<dt><i><em class="replaceable">software</em></i></dt>
<dd>
<p>This field identifies the operating system software this host runs.
It contains the system name defined for this operating system in the
<em class="emphasis">Assigned Numbers</em> RFC. Use quotes if the system
name contains any blanks.
</p>
</dd>

</dl>

<p>No widely used application makes use of the HINFO record; the record
just provides information. Some security-conscious sites discourage
its use. They fear that this additional information helps intruders
narrow their attacks to the specific hardware and operating system
that they wish to crack. The general-purpose TXT record is more often
used to provide information about systems than is the HINFO record.
</p>

</div>

<a name="tcp3-APP-C-SECT-3.1.10" /><div class="sect3">
<h3 class="sect3">C.3.1.10. Well-Known Services record</h3>

<p>The Well-Known Services (WKS) <a name="INDEX-3577" /> <a name="INDEX-3578" />
<a name="INDEX-3579" />resource record names the network
services supported by the specified host. The official protocol names
and services names used on the WKS record are defined in the
<em class="emphasis">Assigned Numbers</em> RFC. The simplest way to list
the names of the well-known services is to <tt class="literal">cat</tt> the
<em class="emphasis">/etc/services</em> file on your system. Each host can
have no more than two WKS records; one record for TCP and one for
UDP. Because several services are usually listed on the WKS record,
each record may extend through multiple lines.
</p>

<p>The format of the WKS record is:</p>

<blockquote><pre class="code">[<em class="replaceable">host</em>] [<em class="replaceable">ttl</em>] IN WKS <em class="replaceable">address protocol services</em></pre></blockquote>

<dl>
<dt><i><em class="replaceable">host</em></i></dt>
<dd>
<p>The hostname of the computer that provides the advertised services.</p>
</dd>


<dt><i><em class="replaceable">ttl</em></i></dt>
<dd>
<p>Time-to-live is usually blank.</p>
</dd>


<dt><b><tt class="literal">IN</tt></b></dt>
<dd>
<p>The address class is IN.</p>
</dd>


<dt><b><tt class="literal">WKS</tt></b></dt>
<dd>
<p>The resource record type is WKS. All of the information that follows
is variable information for the WKS record.
</p>
</dd>


<dt><i><em class="replaceable">address</em></i></dt>
<dd>
<p>The IP address of the host written in dotted decimal format, e.g.,
172.16.12.2.
</p>
</dd>


<dt><i><em class="replaceable">protocol</em></i></dt>
<dd>
<p>The transport-level protocol through which the service
communicates -- either TCP or UDP.
</p>
</dd>


<dt><i><em class="replaceable">services</em></i></dt>
<dd>
<p>The list of services provided by this host. As few or as many
services as you choose may be advertised, but the names used to
advertise the services must be the names found in the
<em class="emphasis">/etc/services</em> file. Items in the list of
services are separated by spaces. Parentheses are used to continue
the list beyond a single line.
</p>
</dd>

</dl>

<p>There are no widely used applications that make use of this record.
It is used only to provide general information about the system.
Again, security-conscious sites may not wish to advertise their
services. Some protocols, such as <tt class="literal">tftp</tt> and
<tt class="literal">finger</tt>, are prime targets for intruders. The SRV
record is more useful for providing information about the services
offered by a specific server.
</p>

</div>

<a name="tcp3-APP-C-SECT-3.1.11" /><div class="sect3">
<h3 class="sect3">C.3.1.11. Server Selection record</h3>

<p>The Server Selection (SRV) <a name="INDEX-3580" /> <a name="INDEX-3581" />
<a name="INDEX-3582" />record provides a standardized way to
locate network servers. The SRV record provides a standard convention
for creating generic server names, and it adds features for server
selection and load-balancing. The format of the SRV record is:
</p>

<blockquote><pre class="code"><em class="replaceable">name</em> [<em class="replaceable">ttl</em>] IN SRV <em class="replaceable">preference weight port server</em></pre></blockquote>

<dl>
<dt><i><em class="replaceable">name</em></i></dt>
<dd>
<p>The SRV record has a unique
<tt class="literal">_</tt><em class="replaceable">service</em><tt class="literal">._</tt><em class="replaceable">protocol</em><tt class="literal">.</tt><em class="replaceable">name</em>
format. Dots are used to separate the components in the name field
just as in any domain name. The underscore characters
(<tt class="literal">_</tt>) are used to prevent the service name and the
protocol name from colliding with real domain names.
<em class="replaceable">service</em> is the name of the offered service
as listed in the <em class="emphasis">/etc/services</em> file.
<em class="replaceable">protocol</em> is the protocol name associated
with that service in the <em class="emphasis">/etc/services</em> file.
<em class="replaceable">name</em> is a standard host or domain name
that would be found in any name field. Using these criteria, the name
that could be used to find the FTP servers for the
<em class="emphasis">wrotethebook.com</em> domain would be
<em class="emphasis">_ftp._tcp.wrotethebook.com</em>.
</p>
</dd>


<dt><i><em class="replaceable">ttl</em></i></dt>
<dd>
<p>Time-to-live is usually blank.</p>
</dd>


<dt><b><tt class="literal">IN</tt></b></dt>
<dd>
<p>The address class is IN.</p>
</dd>


<dt><b><tt class="literal">SRV</tt></b></dt>
<dd>
<p>The resource record type is SRV.</p>
</dd>


<dt><i><em class="replaceable">preference</em></i></dt>
<dd>
<p>A number used to select the most preferred server when multiple SRV
records exist for the same service. The server with the lowest number
is the most preferred. All traffic is sent to the most preferred
servers; servers with a higher preference number are used only if the
preferred servers are not available.
</p>
</dd>


<dt><i><em class="replaceable">weight</em></i></dt>
<dd>
<p>A number that defines the share of traffic sent to a server, with 1
being the base. If server A has a weight of 1 and server B has a
weight of 2, B gets twice as much traffic as A.
<em class="replaceable">weight</em> is used only to balance the load
among servers with the same preference number.
</p>
</dd>


<dt><i><em class="replaceable">port</em></i></dt>
<dd>
<p>The port number used for the specified service. Normally, this is the
port number defined in the <em class="emphasis">/etc/services</em> file
for the specified service. But it is possible to specify a
nonstandard port number for services equipped to use nonstandard
numbers.
</p>
</dd>


<dt><i><em class="replaceable">server</em></i></dt>
<dd>
<p>The canonical hostname of the computer running the requested service.</p>
</dd>

</dl>



</div>
</div>


<hr width="684" align="left" />
<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="appc_02.html"><img alt="Previous" border="0" src="../gifs/txtpreva.gif" /></a></td><td align="center" valign="top" width="228"><a href="index.html"><img alt="Home" border="0" src="../gifs/txthome.gif" /></a></td><td align="right" valign="top" width="228"><a href="appd_01.html"><img alt="Next" border="0" src="../gifs/txtnexta.gif" /></a></td></tr><tr><td align="left" valign="top" width="228">C.2. named.conf Configuration Commands</td><td align="center" valign="top" width="228"><a href="index/index.html"><img alt="Book Index" border="0" src="../gifs/index.gif" /></a></td><td align="right" valign="top" width="228">D. A dhcpd Reference</td></tr></table></div>
<hr width="684" align="left" />

<img alt="Library Navigation Links" border="0" src="../gifs/navbar.gif" usemap="#library-map" />
<p><p><font size="-1"><a href="copyrght.html">Copyright &copy; 2002</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map"><area shape="rect" coords="1,0,84,90" href="../index.html" /><area shape="rect" coords="86,-7,176,90" href="../ssh/index.html" /><area shape="rect" coords="178,0,265,101" href="index.html" /><area shape="rect" coords="266,0,333,90" href="../nfs/index.html" /><area shape="rect" coords="334,-1,429,93" href="../snmp/index.html" /><area shape="rect" coords="431,0,529,116" href="../tshoot/index.html" /><area shape="rect" coords="534,0,594,104" href="../dns/index.html" /><area shape="rect" coords="595,1,704,108" href="../fire/index-2.html" /></map>

</body>
<!-- Mirrored from nnc3.com/mags/Networking2/tcp/appc_03.htm by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 28 Jul 2017 17:56:36 GMT -->
</html>