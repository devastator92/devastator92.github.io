<html>
<!-- Mirrored from nnc3.com/mags/Networking2/tcp/appa_02.htm by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 28 Jul 2017 17:56:36 GMT -->
<head><title>The PPP Daemon (TCP/IP Network Administration, 3rd Edition)</title><link rel="stylesheet" type="text/css" href="../style/style1.css" />

<meta name="DC.Creator" content="Craig Hunt" /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="0596002971L" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="TCP/IP Network Administration, 3rd Edition" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">

<img alt="Book Home" border="0" src="gifs/smbanner.gif" usemap="#banner-map" /><map name="banner-map"><area shape="rect" coords="1,-2,616,66" href="index.html" alt="TCP/IP Network Administration" /><area shape="rect" coords="629,-11,726,25" href="jobjects/fsearch.html" alt="Search this book" /></map>

<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="appa_01.html"><img alt="Previous" border="0" src="../gifs/txtpreva.gif" /></a></td><td align="center" valign="top" width="228" /><td align="right" valign="top" width="228"><a href="appa_03.html"><img alt="Next" border="0" src="../gifs/txtnexta.gif" /></a></td></tr></table></div>



<h2 class="sect1">A.2. The PPP Daemon</h2>

<p>The PPP Daemon (<tt class="literal">pppd</tt>) is
<a name="INDEX-3023" /> <a name="INDEX-3024" />a freely
available implementation of the Point-to-Point Protocol (PPP) that
runs on many Unix systems. Examples of configuring and using
<tt class="literal">pppd</tt> are covered in <a href="ch06_01.html">Chapter 6, "Configuring the Interface "</a>.
The syntax of the <tt class="literal">pppd</tt> command is:
</p>

<blockquote><pre class="code">pppd[<em class="replaceable">device</em>] [<em class="replaceable">speed</em>] [<em class="replaceable">options</em>]</pre></blockquote>

<p><em class="replaceable">device</em> is the name of the serial port over
which the PPP protocol operates and <em class="replaceable">speed</em>
is the transmission speed of that port in bits per second. The
complexity of this command comes not from these simple parameters but
from the large number of <em class="replaceable">options</em> that it
supports. There are so many options, in fact, that they are often
stored in a file. There are three options files that can be used with
<tt class="literal">pppd</tt>: the <em class="emphasis">/etc/ppp/options</em>
file, which is used to set systemwide <tt class="literal">pppd</tt>
options; the <em class="emphasis">~/.ppprc</em> file, which is used by an
individual to set personal <tt class="literal">pppd</tt> options; and the
<em class="emphasis">/etc/ppp/options.</em><em class="replaceable">device</em>
file, which sets options for a serial device, e.g.,
<em class="emphasis">/etc/ppp/options.cua0</em> sets options for cua0. The
order of precedence for options is that those specified in the
<em class="emphasis">/etc/ppp/options</em>.<em class="replaceable">device</em>
file are the highest priority, followed by those defined on the
command line, then those in the <em class="emphasis">~/.ppprc</em> file,
and, finally, those defined in the
<em class="emphasis">/etc/ppp/options</em> file. Some options that relate
to system security, once defined in the
<em class="emphasis">/etc/ppp/options</em> file, cannot be overridden by
the user through the command line or the
<em class="emphasis">~/.ppprc</em> file. The system administrator can
override any option set by the user by setting the option in the
<em class="emphasis">/etc/ppp/options</em>.<em class="replaceable">device</em>
file.
</p>

<p>The following list contains all of the <tt class="literal">pppd</tt>
options <a name="INDEX-3025" />except
those that do not relate to TCP/IP:
</p>

<dl>
<a name="INDEX-3026" /><dt><i><em class="replaceable">local_IP_address</em><tt class="literal">:</tt><em class="replaceable">remote_IP_address</em></i></dt>
<dd>
<p>Defines static local and remote IP addresses. Either address may be
omitted. For example, 172.16.25.3: defines only the local address,
while :172.16.25.12 defines only the remote address. The default
local address is the IP address associated with the local
system's hostname.
</p>
</dd>


<a name="INDEX-3027" /><dt><b><tt class="literal">active-filter</tt> <em class="replaceable">filter-expression</em></b></dt>
<dd>
<p>Defines a packet filter that determines which packets are regarded as
link activity. Packets that pass through the filter reset the idle
timer or cause the link to initialize when it is in demand-dial mode.
The kernel and <tt class="literal">pppd</tt> must be compiled with
PPP_FILTER defined.
</p>
</dd>


<a name="INDEX-3028" /><dt><b><tt class="literal">allow-ip</tt> <em class="replaceable">address</em></b></dt>
<dd>
<p>Systems using the specified IP address, which can identify individual
hosts or entire networks, do not need to be authenticated.
</p>
</dd>


<a name="INDEX-3029" /><dt><b><tt class="literal">asyncmap</tt> <em class="replaceable">map</em></b></dt>
<dd>
<p>Defines the ASCII control characters that must be sent as
two-character escape sequences. The first 32 ASCII characters are
control characters. <em class="replaceable">map</em> is a 32-bit hex
number with each bit representing a control character. Bit 0
(00000001) represents the character 0x00; bit 31 (80000000)
represents the character 0x1f. If a bit is on in
<em class="replaceable">map</em>, the character represented by that bit
must be sent as an escape sequence. If no <tt class="literal">asyncmap</tt>
option is specified, all control characters are sent as escape
sequences.
</p>
</dd>


<a name="INDEX-3030" /><dt><b><tt class="literal">auth</tt></b></dt>
<dd>
<p>Requires the use of an authentication protocol. See <a href="ch06_01.html">Chapter 6, "Configuring the Interface "</a> for a discussion of the authentication
protocols CHAP and PAP.
</p>
</dd>


<a name="INDEX-3031" /><dt><b><tt class="literal">bsdcomp</tt> <em class="replaceable">receive</em><tt class="literal">,</tt><em class="replaceable">transmit</em></b></dt>
<dd>
<p>Enables the BSD-Compress scheme to compress packets. The maximum code
word length used to compress packets accepted by this host is
<em class="replaceable">receive</em> bits long. The maximum code word
length used to compress packets sent by this host is
<em class="replaceable">transmit</em> bits long. Acceptable code word
length is 9 to 15 bits. Disable compression when receiving or
transmitting by placing a 0 in <em class="replaceable">receive</em> or
<em class="replaceable">transmit</em>, respectively.
</p>
</dd>


<a name="INDEX-3032" /><dt><b><tt class="literal">call</tt> <em class="replaceable">name</em></b></dt>
<dd>
<p>Reads options from a file named
<em class="emphasis">/etc/ppp/peers/</em><em class="replaceable">name</em>.
</p>
</dd>


<a name="INDEX-3033" /><dt><b><tt class="literal">cdtrcts</tt></b></dt>
<dd>
<p>Tells <tt class="literal">pppd</tt> that the modem uses nonstandard
hardware flow control based on the DTR and CTS signals.
</p>
</dd>


<a name="INDEX-3034" /><dt><b><tt class="literal">chap-interval</tt></b></dt>
<dd>
<p>Tells the system to use the <em class="emphasis">Challenge Handshake
Authentication Protocol</em> (CHAP) to reauthenticate the
remote system every <em class="replaceable">n</em> seconds.
</p>
</dd>


<a name="INDEX-3035" /><dt><b><tt class="literal">chap-max-challenge</tt> <em class="replaceable">n</em></b></dt>
<dd>
<p>Tells the system to send the CHAP challenge to the remote system a
maximum of <em class="replaceable">n</em> times until the remote system
responds. The default is 10.
</p>
</dd>


<a name="INDEX-3036" /><dt><b><tt class="literal">chap-restart</tt> <em class="replaceable">n</em></b></dt>
<dd>
<p>Tells the system to wait <em class="replaceable">n</em> seconds before
retransmitting a CHAP challenge when the remote system fails to
respond. The default is 3 seconds.
</p>
</dd>


<a name="INDEX-3037" /><dt><b><tt class="literal">connect</tt> <em class="replaceable">script</em></b></dt>
<dd>
<p>Invokes a <em class="replaceable">script</em> to create the serial
connection. Any scripting language can be used, but
<tt class="literal">chat</tt> is the most common. See <a href="ch06_01.html">Chapter 6, "Configuring the Interface "</a> for an example of using
<tt class="literal">connect</tt> to invoke an inline
<tt class="literal">chat</tt> script.
</p>
</dd>


<a name="INDEX-3038" /><dt><b><tt class="literal">connect-delay</tt> <em class="replaceable">n</em></b></dt>
<dd>
<p>Waits <em class="replaceable">n</em> milliseconds after the connect
script finishes for a valid PPP packet from the remote system.
</p>
</dd>


<a name="INDEX-3039" /><dt><b><tt class="literal">crtscts</tt></b></dt>
<dd>
<p>Enables hardware flow control (RTS/CTS).</p>
</dd>


<a name="INDEX-3040" /><dt><b><tt class="literal">debug</tt></b></dt>
<dd>
<p>Logs all control packets sent or received using
<tt class="literal">syslogd</tt> with facility <tt class="literal">daemon</tt>
and level <tt class="literal">debug</tt>. The <tt class="literal">debug</tt>
option can also be written as <tt class="literal">-d</tt>.
</p>
</dd>


<a name="INDEX-3041" /><dt><b><tt class="literal">default-asyncmap</tt></b></dt>
<dd>
<p>Disables asyncmap negotiation, forcing all control characters to be
escaped.
</p>
</dd>


<a name="INDEX-3042" /><dt><b><tt class="literal">default-mru</tt></b></dt>
<dd>
<p>Disables Maximum Receive Unit negotiation and uses a default MRU of
1500 bytes.
</p>
</dd>


<a name="INDEX-3043" /><dt><b><tt class="literal">defaultroute</tt></b></dt>
<dd>
<p>Defines the PPP link as the default route. The route is removed when
the connection is closed.
</p>
</dd>


<a name="INDEX-3044" /><dt><b><tt class="literal">deflate</tt> <em class="replaceable">nr</em><tt class="literal">,</tt><em class="replaceable">nt</em></b></dt>
<dd>
<p>Tells <tt class="literal">pppd</tt> to request Deflate packet compression.
<em class="replaceable">nr</em> is the maximum receive window size
expressed as a power of 2; i.e., if <em class="replaceable">nr</em> is
8, the receive window is 2 to the 8 (or 256) bytes.
<em class="replaceable">nt</em> defines the maximum transmit window
size expressed as a power of 2. If <em class="replaceable">nt</em> is
not specified, it defaults to the value given for
<em class="replaceable">nr</em>.
</p>
</dd>


<a name="INDEX-3045" /><dt><b><tt class="literal">demand</tt></b></dt>
<dd>
<p>Places the link in dial-on-demand mode. The network connection is
made when network traffic is present.
</p>
</dd>


<a name="INDEX-3046" /><dt><b><tt class="literal">disconnect</tt> <em class="replaceable">script</em></b></dt>
<dd>
<p>Invokes a <em class="replaceable">script</em> to gracefully shut down
the serial connection. Any scripting language can be used, but
<tt class="literal">chat</tt> is the most common.
</p>
</dd>


<a name="INDEX-3047" /><dt><b><tt class="literal">domain</tt> <em class="replaceable">name</em></b></dt>
<dd>
<p>Defines the name of the local domain. Use this if
<tt class="literal">hostname</tt> does not return a fully qualified name
for the local system.
</p>
</dd>


<a name="INDEX-3048" /><dt><b><tt class="literal">escape</tt> <em class="replaceable">x,x,...</em></b></dt>
<dd>
<p>Specifies characters that should be transmitted as two-character
escape sequences. The characters are specified in a comma-separated
list of hex numbers. Any character except 0x20 - 0x3f and 0x5e can be
escaped.
</p>
</dd>


<a name="INDEX-3049" /><dt><b><tt class="literal">endpoint</tt> <em class="replaceable">epdisc</em></b></dt>
<dd>
<p>Defines the endpoint discriminator sent to the remote system during
multilink negotiation. The default endpoint discriminator is the MAC
address of the first Ethernet interface or, if no Ethernet is found,
the system's IP address. <em class="replaceable">epdisc</em> is
defined in the form
<em class="replaceable">type</em><tt class="literal">:</tt><em class="replaceable">value</em>,
where <em class="replaceable">type</em> is one of the keywords
<tt class="literal">local</tt>, <tt class="literal">IP</tt>,
<tt class="literal">MAC</tt>, <tt class="literal">magic</tt>, or
<tt class="literal">phone</tt>, and <em class="replaceable">value</em> is
either an IP address in dotted-decimal notation for the
<tt class="literal">IP</tt> type, the name of an Ethernet interface for the
<em class="replaceable">MAC</em> type, or a string of colon-separated
hexadecimal bytes for the other types. Multilink is available only on
Linux systems.
</p>
</dd>


<a name="INDEX-3050" /><dt><b><tt class="literal">file</tt> <em class="replaceable">file</em></b></dt>
<dd>
<p>Defines another options file, where <em class="replaceable">file</em>
is the name of the new file. Options are normally read for
<em class="emphasis">/etc/ppp/options</em>, <em class="emphasis">~/.ppprc</em>,
the command line, and
<em class="emphasis">/etc/ppp/options</em>.<em class="emphasis">device</em>.
See the description of these files earlier in this section.
</p>
</dd>


<a name="INDEX-3051" /><dt><b><tt class="literal">hide-password</tt></b></dt>
<dd>
<p>Hides the password string when logging the contents of
<em class="emphasis">Password Authentication Protocol</em> (PAP) packets.
</p>
</dd>


<a name="INDEX-3052" /><dt><b><tt class="literal">holdoff</tt> <em class="replaceable">n</em></b></dt>
<dd>
<p>Waits <em class="replaceable">n</em> seconds before restarting the link
after the link terminates.
</p>
</dd>


<a name="INDEX-3053" /><dt><b><tt class="literal">idle</tt> <em class="replaceable">n</em></b></dt>
<dd>
<p>Disconnects the link if no data packets are sent or received for
<em class="replaceable">n</em> seconds.
</p>
</dd>


<a name="INDEX-3054" /><dt><b><tt class="literal">init</tt> <em class="replaceable">script</em></b></dt>
<dd>
<p>Executes <em class="replaceable">script</em> to initialize the serial
line.
</p>
</dd>


<a name="INDEX-3055" /><dt><b><tt class="literal">ipcp-accept-local</tt></b></dt>
<dd>
<p>Tells the system to use the local IP address provided by the remote
server even if it is defined locally.
</p>
</dd>


<a name="INDEX-3056" /><dt><b><tt class="literal">ipcp-accept-remote</tt></b></dt>
<dd>
<p>Tells the system to use the remote IP address provided by the remote
server even if it is defined locally.
</p>
</dd>


<a name="INDEX-3057" /><dt><b><tt class="literal">ipcp-max-configure</tt> <em class="replaceable">n</em></b></dt>
<dd>
<p>Tells the system to send the IPCP configure-request packet a maximum
of <em class="replaceable">n</em> times. The default is 10.
</p>
</dd>


<a name="INDEX-3058" /><dt><b><tt class="literal">ipcp-max-failure</tt> <em class="replaceable">n</em></b></dt>
<dd>
<p>Tells the system to accept up to <em class="replaceable">n</em> IPCP
configure-NAKs before sending a configure-reject. The default is 10.
</p>
</dd>


<a name="INDEX-3059" /><dt><b><tt class="literal">ipcp-max-terminate</tt> <em class="replaceable">n</em></b></dt>
<dd>
<p>Tells the system to send no more than <em class="replaceable">n</em>
IPCP terminate-request packets without receiving an acknowledgment.
The default is 3.
</p>
</dd>


<a name="INDEX-3060" /><dt><b><tt class="literal">ipcp-restart</tt> <em class="replaceable">n</em></b></dt>
<dd>
<p>Tells the system to wait <em class="replaceable">n</em> seconds before
resending an IPCP configure-request packet. The default is 3.
</p>
</dd>


<a name="INDEX-3061" /><dt><b><tt class="literal">ipparam</tt> <em class="replaceable">string</em></b></dt>
<dd>
<p>Passes <em class="replaceable">string</em> to the ip-up and ip-down
scripts. <em class="emphasis">/etc/ppp/ip-up</em> is a shell script
executed by <tt class="literal">pppd</tt> when the link comes up.
<em class="emphasis">/etc/ppp/ip-down</em> is a shell script executed by
<tt class="literal">pppd</tt> when the link is brought down.
</p>
</dd>


<a name="INDEX-3062" /><dt><b><tt class="literal">ipv6</tt> <em class="replaceable">local_interface_identifier</em><tt class="literal">,</tt><em class="replaceable">remote_interface_identifier</em></b></dt>
<dd>
<p>Sets the local and remote 64-bit interface identifier using standard
IPv6 ASCII address notation. If no identifiers are defined, the
system creates a random identifier. (See also the
<tt class="literal">ipv6cp-use-ipaddr</tt> and the
<tt class="literal">ipv6cp-use-persistent</tt> options.)
</p>
</dd>


<a name="INDEX-3063" /><dt><b><tt class="literal">ipv6cp-max-configure</tt> <em class="replaceable">n</em></b></dt>
<dd>
<p>Send a maximum of <em class="replaceable">n</em> IPv6CP
configure-request packets. The default is 10.
</p>
</dd>


<a name="INDEX-3064" /><dt><b><tt class="literal">ipv6cp-max-failure</tt> <em class="replaceable">n</em></b></dt>
<dd>
<p>Accept a maximum of <em class="replaceable">n</em> IPv6CP configure-NAK
packets. The default is 10.
</p>
</dd>


<a name="INDEX-3065" /><dt><b><tt class="literal">ipv6cp-max-terminate</tt> <em class="replaceable">n</em></b></dt>
<dd>
<p>Send a maximum of <em class="replaceable">n</em> IPv6CP
terminate-request packets. The default is 3.
</p>
</dd>


<a name="INDEX-3066" /><dt><b><tt class="literal">ipv6cp-restart</tt> <em class="replaceable">n</em></b></dt>
<dd>
<p>Wait <em class="replaceable">n</em> seconds before resending an IPv6CP
configure-request packet. The default is 3 seconds.
</p>
</dd>


<a name="INDEX-3067" /><dt><b><tt class="literal">ipv6cp-use-ipaddr</tt></b></dt>
<dd>
<p>Use the system's IPv4 address as the IPv6 local interface
identifier.
</p>
</dd>


<a name="INDEX-3068" /><dt><b><tt class="literal">ipv6cp-use-persistent</tt></b></dt>
<dd>
<p>Use the system's unique persistent identifier as the IPv6 local
interface identifier. Most systems do not support persistent
identifiers.
</p>
</dd>


<a name="INDEX-3069" /><dt><b><tt class="literal">kdebug</tt> <em class="replaceable">n</em></b></dt>
<dd>
<p>Enables kernel-level debugging. <em class="replaceable">n</em> is 1 to
print general debugging messages, 2 to print received packets, and 4
to print transmitted packets.
</p>
</dd>


<a name="INDEX-3070" /><dt><b><tt class="literal">ktune</tt></b></dt>
<dd>
<p>Tells the system to allow <tt class="literal">pppd</tt> to alter kernel
settings. For example, on a Linux system, <tt class="literal">pppd</tt>
could enable IP forwarding by setting
<em class="emphasis">/proc/sys/net/ipv4/ip_forward</em> to 1 if allowed to
do so.
</p>
</dd>


<a name="INDEX-3071" /><dt><b><tt class="literal">lcp-echo-failure</tt> <em class="replaceable">n</em></b></dt>
<dd>
<p>Tells the system to terminate the connection if no reply is received
to <em class="replaceable">n</em> LCP echo-requests. Normally,
echo-requests are not used for this purpose because "link
down" conditions are determined by the modem hardware.
</p>
</dd>


<a name="INDEX-3072" /><dt><b><tt class="literal">lcp-echo-interval</tt> <em class="replaceable">n</em></b></dt>
<dd>
<p>Tells the system to wait <em class="replaceable">n</em> seconds before
sending another LCP echo-request when the remote system fails to
reply.
</p>
</dd>


<a name="INDEX-3073" /><dt><b><tt class="literal">lcp-max-configure</tt> <em class="replaceable">n</em></b></dt>
<dd>
<p>Tells the system to send the LCP configure-request packet a maximum
of <em class="replaceable">n</em> times. The default is 10.
</p>
</dd>


<a name="INDEX-3074" /><dt><b><tt class="literal">lcp-max-failure</tt> <em class="replaceable">n</em></b></dt>
<dd>
<p>Tells the system to accept up to <em class="replaceable">n</em> LCP
configure-NAKs before sending a configure-reject. The default is 10.
</p>
</dd>


<a name="INDEX-3075" /><dt><b><tt class="literal">lcp-max-terminate</tt> <em class="replaceable">n</em></b></dt>
<dd>
<p>Tells the system to send no more than <em class="replaceable">n</em>
LCP terminate-request transmissions without receiving an
acknowledgment. The default is 3.
</p>
</dd>


<a name="INDEX-3076" /><dt><b><tt class="literal">lcp-restart</tt> <em class="replaceable">n</em></b></dt>
<dd>
<p>Tells the system to wait <em class="replaceable">n</em> seconds before
resending an LCP configure-request packet. The default is 3.
</p>
</dd>


<a name="INDEX-3077" /><dt><b><tt class="literal">linkname</tt> <em class="replaceable">name</em></b></dt>
<dd>
<p>Sets the logical name of the link to <em class="replaceable">name</em>.
<tt class="literal">pppd</tt> writes its process ID into a file named
<tt class="literal">ppp-</tt><em class="replaceable">name</em>.<tt class="literal">pid</tt>
in either <em class="emphasis">/var/run</em> or
<em class="emphasis">/etc/ppp</em>. This maps each instantiation of
<tt class="literal">pppd</tt> to a specific link.
</p>
</dd>


<a name="INDEX-3078" /><dt><b><tt class="literal">local</tt></b></dt>
<dd>
<p>Tells the system to ignore the DCD (Data Carrier Detect) and DTR
(Data Terminal Ready) modem control lines.
</p>
</dd>


<a name="INDEX-3079" /><dt><b><tt class="literal">lock</tt></b></dt>
<dd>
<p>Tells the system to use a UUCP-style lock file to ensure that
<tt class="literal">pppd</tt> has exclusive access to the serial device.
</p>
</dd>


<a name="INDEX-3080" /><dt><b><tt class="literal">logfd</tt> <em class="replaceable">n</em></b></dt>
<dd>
<p>Logs messages to file descriptor <em class="replaceable">n</em>.</p>
</dd>


<a name="INDEX-3081" /><dt><b><tt class="literal">logfile</tt> <em class="replaceable">filename</em></b></dt>
<dd>
<p>Appends messages to the log file identified by
<em class="replaceable">filename</em>.
</p>
</dd>


<a name="INDEX-3082" /><dt><b><tt class="literal">login</tt></b></dt>
<dd>
<p>Tells the system to use the <em class="emphasis">/etc/passwd</em> file to
authenticate PAP users. Records the login in the
<em class="emphasis">wtmp</em> file.
</p>
</dd>


<a name="INDEX-3083" /><dt><b><tt class="literal">maxconnect</tt> <em class="replaceable">n</em></b></dt>
<dd>
<p>Sets the maximum connection time to <em class="replaceable">n</em>
seconds. After <em class="replaceable">n</em> seconds, the connection
is terminated even if it is active.
</p>
</dd>


<a name="INDEX-3084" /><dt><b><tt class="literal">maxfail</tt> <em class="replaceable">n</em></b></dt>
<dd>
<p>Stop attempting to connect to the remote system after
<em class="replaceable">n</em> consecutive connection attempt failures.
The default value is 10 attempts.
</p>
</dd>


<a name="INDEX-3085" /><dt><b><tt class="literal">modem</tt></b></dt>
<dd>
<p>Tells the system to use the DCD (Data Carrier Detect) and DTR (Data
Terminal Ready) modem control lines; wait for the DCD signal before
opening the serial device; and drop the DTR signal when terminating a
connection.
</p>
</dd>


<a name="INDEX-3086" /><dt><b><tt class="literal">mp</tt></b></dt>
<dd>
<p>This is an alias for the <tt class="literal">multilink</tt> option. See
<tt class="literal">multilink</tt>.
</p>
</dd>


<a name="INDEX-3087" /><dt><b><tt class="literal">mpshortseq</tt></b></dt>
<dd>
<p>Use short, 12-bit sequence numbers in multilink headers instead of
the standard 24-bit sequence numbers.
</p>
</dd>


<a name="INDEX-3088" /><dt><b><tt class="literal">mrru</tt> <em class="replaceable">n</em></b></dt>
<dd>
<p>Sets the Maximum Reconstructed Receive Unit (MRRU) to
<em class="replaceable">n</em> bytes. The MRRU is the maximum packet
size that can be received on a multilink bundle. The value is
analogous to MRU on other media.
</p>
</dd>


<a name="INDEX-3089" /><dt><b><tt class="literal">mru</tt> <em class="replaceable">n</em></b></dt>
<dd>
<p>Sets the Maximum Receive Unit (MRU) to <em class="replaceable">n</em>
bytes. MRU is used to tell the remote system the maximum packet size
the local system can accept. The minimum is 128. The default is 1500.
</p>
</dd>


<a name="INDEX-3090" /><dt><b><tt class="literal">ms-dns</tt> <em class="replaceable">address</em></b></dt>
<dd>
<p>Supplies Domain Name System addresses to Microsoft Windows clients.</p>
</dd>


<a name="INDEX-3091" /><dt><b><tt class="literal">ms-wins</tt> <em class="replaceable">address</em></b></dt>
<dd>
<p>Supplies Windows Internet Name Services (WINS) server addresses to
icrosoft Windows clients.
</p>
</dd>


<a name="INDEX-3092" /><dt><b><tt class="literal">mtu</tt> <em class="replaceable">n</em></b></dt>
<dd>
<p>Sets the Maximum Transmission Unit (MTU) to
<em class="replaceable">n</em> bytes. MTU defines the maximum length of
a packet that can be sent. The smaller of the local MTU and the
remote MRU is used to define the maximum packet length.
</p>
</dd>


<a name="INDEX-3093" /><dt><b><tt class="literal">multilink</tt></b></dt>
<dd>
<p>Enables the multilink protocol, which allows multiple physical
connections to be bundled together as one logical link. This is used
to increase the bandwidth to a remote system. For example, two modem
connections to a single remote system could be viewed as a single
multilink bundle to give twice the bandwidth of one modem connection.
This option is currently available only with Linux.
</p>
</dd>


<a name="INDEX-3094" /><dt><b><tt class="literal">name</tt> <em class="replaceable">name</em></b></dt>
<dd>
<p>Tells the system to use <em class="replaceable">name</em> as the name
of the local system for authentication purposes.
</p>
</dd>


<a name="INDEX-3095" /><dt><b><tt class="literal">netmask</tt> <em class="replaceable">mask</em></b></dt>
<dd>
<p>Defines the subnet mask.</p>
</dd>


<a name="INDEX-3096" /><dt><b><tt class="literal">noaccomp</tt></b></dt>
<dd>
<p>Disables Address/Control compression negotiation.</p>
</dd>


<a name="INDEX-3097" /><dt><b><tt class="literal">noauth</tt></b></dt>
<dd>
<p>Allows unauthenticated access.</p>
</dd>


<a name="INDEX-3098" /><dt><b><tt class="literal">nobsdcomp</tt></b></dt>
<dd>
<p>Disables BSD-Compress compression.</p>
</dd>


<a name="INDEX-3099" /><dt><b><tt class="literal">noccp</tt></b></dt>
<dd>
<p>Disables Compression Control Protocol (CCP) negotiation.</p>
</dd>


<a name="INDEX-3100" /><dt><b><tt class="literal">nocrtscts</tt></b></dt>
<dd>
<p>Disables all types of hardware flow control.</p>
</dd>


<a name="INDEX-3101" /><dt><b><tt class="literal">nodtrcts</tt></b></dt>
<dd>
<p>Disables all types of hardware flow control.</p>
</dd>


<a name="INDEX-3102" /><dt><b><tt class="literal">nodefaultroute</tt></b></dt>
<dd>
<p>Prevents users from creating a default route using the
<tt class="literal">defaultroute</tt> option.
</p>
</dd>


<a name="INDEX-3103" /><dt><b><tt class="literal">nodeflate</tt></b></dt>
<dd>
<p>Disables Deflate compression.</p>
</dd>


<a name="INDEX-3104" /><dt><b><tt class="literal">nodetach</tt></b></dt>
<dd>
<p>Prevents <tt class="literal">pppd</tt> from running as a background
process. See the example in <a href="ch06_01.html">Chapter 6, "Configuring the Interface "</a>.
</p>
</dd>


<a name="INDEX-3105" /><dt><b><tt class="literal">noendpoint</tt></b></dt>
<dd>
<p>Tells the system not to send or accept Multilink endpoint
discriminators.
</p>
</dd>


<a name="INDEX-3106" /><dt><b><tt class="literal">noip</tt></b></dt>
<dd>
<p>Disables the IPCP and IP protocols.</p>
</dd>


<a name="INDEX-3107" /><dt><b><tt class="literal">noipv6</tt></b></dt>
<dd>
<p>Disables IPv6CP negotiation and IPv6 communication.</p>
</dd>


<a name="INDEX-3108" /><dt><b><tt class="literal">noipdefault</tt></b></dt>
<dd>
<p>Instructs the system not to use <tt class="literal">hostname</tt> to
determine the local IP address. The address must be obtained from the
remote system or explicitly set by an option.
</p>
</dd>


<a name="INDEX-3109" /><dt><b><tt class="literal">noktune</tt></b></dt>
<dd>
<p>Prevents <tt class="literal">pppd</tt> from changing kernel values.</p>
</dd>


<a name="INDEX-3110" /><dt><b><tt class="literal">nolog</tt></b></dt>
<dd>
<p>Disables logging.</p>
</dd>


<a name="INDEX-3111" /><dt><b><tt class="literal">nomagic</tt></b></dt>
<dd>
<p>Disables magic number negotiation.</p>
</dd>


<a name="INDEX-3112" /><dt><b><tt class="literal">nomp</tt></b></dt>
<dd>
<p>Disables the multilink protocol.</p>
</dd>


<a name="INDEX-3113" /><dt><b><tt class="literal">nompshortseq</tt></b></dt>
<dd>
<p>Disables the use of short, 12-bit sequence numbers in the multilink
protocol.
</p>
</dd>


<a name="INDEX-3114" /><dt><b><tt class="literal">nomultilink</tt></b></dt>
<dd>
<p>Disables the multilink protocol.</p>
</dd>


<a name="INDEX-3115" /><dt><b><tt class="literal">nopcomp</tt></b></dt>
<dd>
<p>Disables protocol field compression negotiation. By default, protocol
field compression is not used. Setting this option means that even if
the remote end requests it, it will not be used.
</p>
</dd>


<a name="INDEX-3116" /><dt><b><tt class="literal">nopersist</tt></b></dt>
<dd>
<p>Terminates when the connection is made. This is the default.</p>
</dd>


<a name="INDEX-3117" /><dt><b><tt class="literal">nopredictor1</tt></b></dt>
<dd>
<p>Tells the system not to use Predictor-1 compression.</p>
</dd>


<a name="INDEX-3118" /><dt><b><tt class="literal">noproxyarp</tt></b></dt>
<dd>
<p>Disables the <tt class="literal">proxyarp</tt> option, preventing users
from creating proxy ARP entries with <tt class="literal">pppd</tt>.
</p>
</dd>


<a name="INDEX-3119" /><dt><b><tt class="literal">notty</tt></b></dt>
<dd>
<p>Causes <tt class="literal">pppd</tt> to transmit characters to standard
output and receive them on standard input. This option increases
latency and overhead.
</p>
</dd>


<a name="INDEX-3120" /><dt><b><tt class="literal">novj</tt></b></dt>
<dd>
<p>Disables Van Jacobson header compression.</p>
</dd>


<a name="INDEX-3121" /><dt><b><tt class="literal">novjccomp</tt></b></dt>
<dd>
<p>Disables the connection-ID compression option in Van Jacobson header
compression.
</p>
</dd>


<a name="INDEX-3122" /><dt><b><tt class="literal">papcrypt</tt></b></dt>
<dd>
<p>Instructs the system not to accept passwords that are identical to
those in the <em class="emphasis">/etc/ppp/pap-secrets</em> file because
the ones in the file are encrypted. Therefore the transmitted
password should not match an entry in the
<em class="emphasis">pap-secrets</em> file until it is also encrypted.
</p>
</dd>


<a name="INDEX-3123" /><dt><b><tt class="literal">pap-max-authreq</tt> <em class="replaceable">n</em></b></dt>
<dd>
<p>Tells the system to transmit no more than
<em class="replaceable">n</em> PAP authenticate-requests if the remote
system does not respond. The default is 10.
</p>
</dd>


<a name="INDEX-3124" /><dt><b><tt class="literal">pap-restart</tt> <em class="replaceable">n</em></b></dt>
<dd>
<p>Tells the system to wait <em class="replaceable">n</em> seconds before
retransmitting a PAP authenticate-request. The default is 3 seconds.
</p>
</dd>


<a name="INDEX-3125" /><dt><b><tt class="literal">pap-timeout</tt> <em class="replaceable">n</em></b></dt>
<dd>
<p>Tells the system to wait no more than <em class="replaceable">n</em>
seconds for the remote system to authenticate itself. When
<em class="replaceable">n</em> is 0, there is no time limit.
</p>
</dd>


<a name="INDEX-3126" /><dt><b><tt class="literal">pass-filter</tt> <em class="replaceable">filter-expression</em></b></dt>
<dd>
<p>Defines a packet filter that determines which packets can be sent or
received over the PPP link. Packets that do not pass through the
filter are silently discarded.
<em class="replaceable">filter-expression</em> is defined using the
syntax of <tt class="literal">tcpdump</tt>.
</p>
</dd>


<a name="INDEX-3127" /><dt><b><tt class="literal">passive</tt></b></dt>
<dd>
<p>Tells the system to wait for a Link Control Protocol (LCP) packet
from the remote system even if that system does not reply to the
initial LCP packet sent by the local system. Without this option, the
local system aborts the connection when it does not receive a reply.
The <tt class="literal">passive</tt> option can also be written as
<tt class="literal">-p</tt>.
</p>
</dd>


<a name="INDEX-3128" /><dt><b><tt class="literal">persist</tt></b></dt>
<dd>
<p>Tells the system to reopen the connection if it was terminated by a
SIGHUP signal.
</p>
</dd>


<a name="INDEX-3129" /><dt><b><tt class="literal">plugin</tt> <em class="replaceable">filename</em></b></dt>
<dd>
<p>Loads a shared library object as a "plugin" to
<tt class="literal">pppd</tt>.
</p>
</dd>


<a name="INDEX-3130" /><dt><b><tt class="literal">predictor1</tt></b></dt>
<dd>
<p>Tells the system to ask the remote system to use Predictor-1
compression.
</p>
</dd>


<a name="INDEX-3131" /><dt><b><tt class="literal">privgroup</tt> <em class="replaceable">group-name</em></b></dt>
<dd>
<p>Allows all members of the group <em class="replaceable">group-name</em>
to use privileged options.
</p>
</dd>


<a name="INDEX-3132" /><dt><b><tt class="literal">proxyarp</tt></b></dt>
<dd>
<p>Tells the system to enable proxy ARP. This adds a proxy ARP entry for
the remote system to the local system's ARP table.
</p>
</dd>


<a name="INDEX-3133" /><dt><b><tt class="literal">pty</tt> <em class="replaceable">script</em></b></dt>
<dd>
<p>Identifies a script that is run as a child process and used as the
communications source in lieu of a terminal device. If used in
conjunction with the record option, the child process will have pipes
on its standard input and output.
</p>
</dd>


<a name="INDEX-3134" /><dt><b><tt class="literal">receive-all</tt></b></dt>
<dd>
<p>Tells the system to accept all control characters from the remote
system, even those that should be discarded according to the standard
asyncmap handling defined in RFC 1662.
</p>
</dd>


<a name="INDEX-3135" /><dt><b><tt class="literal">record</tt> <em class="replaceable">filename</em></b></dt>
<dd>
<p>Tells the system to log every character sent and received to
<em class="replaceable">filename</em>.
</p>
</dd>


<a name="INDEX-3136" /><dt><b><tt class="literal">remotename</tt> <em class="replaceable">name</em></b></dt>
<dd>
<p>Tells the system to use <em class="replaceable">name</em> as the remote
system's name for authentication purposes.
</p>
</dd>


<a name="INDEX-3137" /><dt><b><tt class="literal">refuse-chap</tt></b></dt>
<dd>
<p>Disables the use of CHAP. This is a bad idea.</p>
</dd>


<a name="INDEX-3138" /><dt><b><tt class="literal">refuse-pap</tt></b></dt>
<dd>
<p>Disables the use of PAP.</p>
</dd>


<a name="INDEX-3139" /><dt><b><tt class="literal">require-chap</tt></b></dt>
<dd>
<p>Requires the use of CHAP. </p>
</dd>


<a name="INDEX-3140" /><dt><b><tt class="literal">require-pap</tt></b></dt>
<dd>
<p>Requires the use of PAP.</p>
</dd>


<a name="INDEX-3141" /><dt><b><tt class="literal">show-password</tt></b></dt>
<dd>
<p>Shows the password when PAP packets are logged.</p>
</dd>


<a name="INDEX-3142" /><dt><b><tt class="literal">silent</tt></b></dt>
<dd>
<p>Tells the system to wait for an LCP packet from the remote system. Do
not send the first LCP packet.
</p>
</dd>


<a name="INDEX-3143" /><dt><b><tt class="literal">sync</tt></b></dt>
<dd>
<p>Tells the system to use synchronous HDLC physical layer protocols
instead of the default asynchronous protocol.
</p>
</dd>


<a name="INDEX-3144" /><dt><b><tt class="literal">updetach</tt></b></dt>
<dd>
<p>Tells the system to detach from the controlling terminal after the
connection is made.
</p>
</dd>


<a name="INDEX-3145" /><dt><b><tt class="literal">usehostname</tt></b></dt>
<dd>
<p>Disables the <tt class="literal">name</tt> option, forcing the local
hostname to be used for authentication purposes.
</p>
</dd>


<a name="INDEX-3146" /><dt><b><tt class="literal">usepeerdns</tt></b></dt>
<dd>
<p>Asks the remote system to provide up to two DNS server addresses. The
provided addresses are passed up to the
<em class="emphasis">/etc/ppp/ip-up</em> script in the environment
variables DNS1 and DNS2. Additionally, <tt class="literal">pppd</tt> uses
the addresses to create nameserver lines in a file named
<em class="emphasis">/etc/ppp/resolv.conf</em>.
</p>
</dd>


<a name="INDEX-3147" /><dt><b><tt class="literal">user</tt> <em class="replaceable">username</em></b></dt>
<dd>
<p>Tells the system to use <em class="replaceable">username</em> for PAP
authentication when challenged by a remote host.
</p>
</dd>


<dt><b><tt class="literal">vj-max-slots</tt> <em class="replaceable">n</em></b></dt>
<dd>
<p>Tells the system to use <em class="replaceable">n</em> connection slots
for Van Jacobson header compression. <em class="replaceable">n</em>
must be a number from 2 to 16.
</p>
</dd>


<a name="INDEX-3148" /><dt><b><tt class="literal">welcome</tt> <em class="replaceable">script</em></b></dt>
<dd>
<p>Execute <em class="replaceable">script</em> before initiating PPP
negotiation.
</p>
</dd>


<a name="INDEX-3149" /><dt><b><tt class="literal">xonxoff</tt></b></dt>
<dd>
<p>Enables software flow control (XON/XOFF).</p>
</dd>

</dl>

<p>Several of the options listed above concern PPP security. One of the
strengths of PPP is its security. The <em class="emphasis">Challenge Handshake
Authentication Protocol</em> (CHAP) is the preferred PPP
security protocol. The <em class="emphasis">Password Authentication
Protocol</em> (PAP) is less secure and is only provided for
compatibility with less capable systems. The usernames, IP addresses,
and secret keys used for these protocols are defined in the
<em class="emphasis">/etc/ppp/chap-secrets</em> file and the
<em class="emphasis">/etc/ppp/pap-secrets</em> file. <a href="ch06_01.html">Chapter 6, "Configuring the Interface "</a> shows the format of these files and describes
their use.
</p>

<p>It is very important that the directory <em class="emphasis">/etc/ppp</em>
and its contents not be world- or group-writable. Modifications to
the <em class="emphasis">chap-secrets</em>,
<em class="emphasis">pap-secrets</em>, or <em class="emphasis">options</em>
files could compromise system security. In addition, the script files
<em class="emphasis">/etc/ppp/ip-up</em> and
<em class="emphasis">/etc/ppp/ip-down</em> may run with root privilege. If
<tt class="literal">pppd</tt> finds a file with the name
<em class="emphasis">ip-up</em> in the <em class="emphasis">/etc/ppp</em>
directory, it executes it as soon as the PPP connection is
established. The <em class="emphasis">ip-up</em> script is used to modify
the routing table, process the sendmail queue, or do other tasks that
depend on the presence of the network connection. The
<em class="emphasis">ip-down</em> script is executed by
<tt class="literal">pppd</tt> after the PPP connection is closed and is
used to terminate processes that depend on the link. Clearly these
scripts and the <em class="emphasis">/etc/ppp</em> directory must be
protected.
</p>

<a name="tcp3-APP-A-SECT-2.1" /><div class="sect2">
<h3 class="sect2">A.2.1. Signal Processing</h3>

<p><tt class="literal">pppd</tt> handles the following
<a name="INDEX-3150" /> <a name="INDEX-3151" />signals:
</p>

<dl>
<a name="INDEX-3152" /><dt><i>SIGUSR1</i></dt>
<dd>
<p>This signal toggles debugging on or off. The first SIGUSR1 signal
received by <tt class="literal">pppd</tt> turns on debugging and begins
logging diagnostic messages through <tt class="literal">syslogd</tt> with
facility set to <em class="emphasis">daemon</em> and level set to
<em class="emphasis">debug</em>. The second SIGUSR1 signal turns off
debugging and closes the log file. See the <tt class="literal">debug</tt>
option described previously.
</p>
</dd>


<a name="INDEX-3153" /><dt><i>SIGUSR2</i></dt>
<dd>
<p>This signal causes <tt class="literal">pppd</tt> to renegotiate
compression. It has limited applicability because it is needed only
to restart compression after a fatal error has occurred. Most people
close the PPP connection and open a new one after a fatal error.
</p>
</dd>


<a name="INDEX-3154" /><dt><i>SIGHUP</i></dt>
<dd>
<p>This signal closes the PPP connection, returns the serial device to
its normal operating mode, and terminates <tt class="literal">pppd</tt>. If
the <tt class="literal">persist</tt> option is specified,
<tt class="literal">pppd</tt> opens a new connection instead of
terminating.
</p>
</dd>


<a name="INDEX-3155" /><dt><i>SIGINT</i></dt>
<dd>
<p>This signal, or the SIGTERM signal, closes the PPP connection,
returns the serial device to its normal operating mode, and
terminates <tt class="literal">pppd</tt>. The <tt class="literal">persist</tt>
option has no effect.
</p>
</dd>

</dl>

</div>


<hr width="684" align="left" />
<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="appa_01.html"><img alt="Previous" border="0" src="../gifs/txtpreva.gif" /></a></td><td align="center" valign="top" width="228"><a href="index.html"><img alt="Home" border="0" src="../gifs/txthome.gif" /></a></td><td align="right" valign="top" width="228"><a href="appa_03.html"><img alt="Next" border="0" src="../gifs/txtnexta.gif" /></a></td></tr><tr><td align="left" valign="top" width="228">A. PPP Tools</td><td align="center" valign="top" width="228"><a href="index/index.html"><img alt="Book Index" border="0" src="../gifs/index.gif" /></a></td><td align="right" valign="top" width="228">A.3. chat</td></tr></table></div>
<hr width="684" align="left" />

<img alt="Library Navigation Links" border="0" src="../gifs/navbar.gif" usemap="#library-map" />
<p><p><font size="-1"><a href="copyrght.html">Copyright &copy; 2002</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map"><area shape="rect" coords="1,0,84,90" href="../index.html" /><area shape="rect" coords="86,-7,176,90" href="../ssh/index.html" /><area shape="rect" coords="178,0,265,101" href="index.html" /><area shape="rect" coords="266,0,333,90" href="../nfs/index.html" /><area shape="rect" coords="334,-1,429,93" href="../snmp/index.html" /><area shape="rect" coords="431,0,529,116" href="../tshoot/index.html" /><area shape="rect" coords="534,0,594,104" href="../dns/index.html" /><area shape="rect" coords="595,1,704,108" href="../fire/index-2.html" /></map>

</body>
<!-- Mirrored from nnc3.com/mags/Networking2/tcp/appa_02.htm by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 28 Jul 2017 17:56:36 GMT -->
</html>